From asmbsd at mail.berlios.de  Sun Apr  1 00:05:52 2007
From: asmbsd at mail.berlios.de (asmbsd at mail.berlios.de)
Date: Sun, 1 Apr 2007 00:05:52 +0200
Subject: [Lincity-ng-commit] r1164 - trunk/data/help/ru
Message-ID: <200703312205.l2VM5qWY005784@sheep.berlios.de>

Author: asmbsd
Date: 2007-04-01 00:05:49 +0200 (Sun, 01 Apr 2007)
New Revision: 1164

Added:
   trunk/data/help/ru/cricket.xml
   trunk/data/help/ru/msb-cricket.xml
Log:


Added: trunk/data/help/ru/cricket.xml
===================================================================
--- trunk/data/help/ru/cricket.xml	2007-03-31 15:07:31 UTC (rev 1163)
+++ trunk/data/help/ru/cricket.xml	2007-03-31 22:05:49 UTC (rev 1164)
@@ -0,0 +1,25 @@
+<?xml version="1.0"?>
+<Document style="helpdocument">
+	<p style="htitle">????????????? ????????</p>
+	<p style="hp">????????????? ???????? ???? ????? ????? ? ?????????? ???? ?????????. ??? ??? ????? ?????? ? ??????. ???????? ?? ????? ???????????? ? ???????????, ??? ??? ?? ????, ??? ????? ????? ? ?????????, ??????? ?????? ?????????? ??????????. ??? ??? ??????? ??????????? ??????.</p>
+	<p style="hp">????? ?? ??????? ????????????? ????????, ??? ???????? ???????? ?? ?????, ?????? ????? 3-? ???????.</p>
+	<p style="hp">??? ???? ????? ?????????? ???? ???????? ????????, ??????? ?? ??????????????? ?????? ?? ????-?????. ????? ??????? ?????????? ??????? ?????? ????? ??????????? ???????????? ???? ?????????.</p>
+	<p style="hp">????????? ??????????? ??????? ???? ? ?????, ??????? ?? ?????????.</p>
+	<p style="hp">? ??????? ???????? ?? ?????? ??????? ???????? ???????? ??? ???. ??????????? ??????????? ?????? ????? 1 ??? ? 3 ??????.</p>
+
+	<p style="hp">??? ????????????? ????????</p>
+	<img src="images/tiles/cricket1.png" halign="center"/>
+	<p style="hp">and this its icon</p>
+	<img src="images/gui/buttonpanel/misc/sports.png" halign="center"/>
+	<p style="hp">and this its mapview overlay icon</p>
+	<img src="images/gui/mapview/roundbuttons/round_sport.png" halign="center"/>
+
+	<p style="hsubtitle">?? ???:</p>
+	<li><a href="mini-screen">????-?????</a></li>
+	<li><a href="goods">??????</a></li>
+	<li><a href="market">???????</a></li>
+	<li><a href="jobs">??????</a></li>
+	<li><a href="msb-cricket">?????????? ????????</a></li>
+</Document>
+
+

Added: trunk/data/help/ru/msb-cricket.xml
===================================================================
--- trunk/data/help/ru/msb-cricket.xml	2007-03-31 15:07:31 UTC (rev 1163)
+++ trunk/data/help/ru/msb-cricket.xml	2007-03-31 22:05:49 UTC (rev 1164)
@@ -0,0 +1,20 @@
+<?xml version="1.0"?>
+<Document style="helpdocument">
+	<p style="htitle">?????????? ????????</p>
+	<img src="images/gui/mapview/roundbuttons/round_sport.png" halign="center"/>
+	<p style="hp">????? ?????????? ??????? ?????? ????? ???????????? ??????????? ??????????.</p>
+	<p style="hp">????? ??????? ????????? ?? ?????, ???? ????? ???????????? ??????????? ??????????</p>
+	<p style="hp">?????????, ??? ???????? ?????? ????? 3 ?????? ????? ?????????.</p>
+
+	<p style="hsubtitle">?? ???:</p>
+	<li><a href="mini-screen">????-?????</a></li>
+	<li><a href="msb-coal">???????? ????????</a></li>
+	<li><a href="msb-fire">???????? ????????</a></li>
+	<li><a href="msb-health">?????????? ????????</a></li>
+	<li><a href="msb-normal">?????????? ????????</a></li>
+	<li><a href="msb-pol">???????? ?????????</a></li>
+	<li><a href="msb-power">????????????? ????????</a></li>
+	<li><a href="msb-starve">???????? ??????????</a></li>
+	<li><a href="msb-transport">???????????? ????????</a></li>
+	<li><a href="msb-ub40">???????? ???????????</a></li>
+</Document>



From alainb at mail.berlios.de  Sun Apr  1 19:03:07 2007
From: alainb at mail.berlios.de (alainb at BerliOS)
Date: Sun, 1 Apr 2007 19:03:07 +0200
Subject: [Lincity-ng-commit] r1165 - branches
Message-ID: <200704011703.l31H377A024637@sheep.berlios.de>

Author: alainb
Date: 2007-04-01 19:03:06 +0200 (Sun, 01 Apr 2007)
New Revision: 1165

Added:
   branches/waterwell/
Log:
create private branch for waterwell dev

Copied: branches/waterwell (from rev 1164, trunk)



From alainb at mail.berlios.de  Sun Apr  1 20:32:29 2007
From: alainb at mail.berlios.de (alainb at BerliOS)
Date: Sun, 1 Apr 2007 20:32:29 +0200
Subject: [Lincity-ng-commit] r1166 - in branches/waterwell/data/images:
	gui/buttonpanel tiles
Message-ID: <200704011832.l31IWTcX030052@sheep.berlios.de>

Author: alainb
Date: 2007-04-01 20:32:28 +0200 (Sun, 01 Apr 2007)
New Revision: 1166

Added:
   branches/waterwell/data/images/gui/buttonpanel/waterwell.png
   branches/waterwell/data/images/tiles/waterwell.png
Log:
tile and icon (need to be redone)

Added: branches/waterwell/data/images/gui/buttonpanel/waterwell.png
===================================================================
(Binary files differ)


Property changes on: branches/waterwell/data/images/gui/buttonpanel/waterwell.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: branches/waterwell/data/images/tiles/waterwell.png
===================================================================
(Binary files differ)


Property changes on: branches/waterwell/data/images/tiles/waterwell.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream



From alainb at mail.berlios.de  Mon Apr  2 01:16:36 2007
From: alainb at mail.berlios.de (alainb at BerliOS)
Date: Mon, 2 Apr 2007 01:16:36 +0200
Subject: [Lincity-ng-commit] r1167 - in branches/waterwell: data/gui
	data/help/en data/images/gui/buttonpanel src/lincity src/lincity-ng
Message-ID: <200704012316.l31NGa8p008098@sheep.berlios.de>

Author: alainb
Date: 2007-04-02 01:16:27 +0200 (Mon, 02 Apr 2007)
New Revision: 1167

Added:
   branches/waterwell/data/help/en/waterwell.xml
Modified:
   branches/waterwell/data/gui/buttonpanel.xml
   branches/waterwell/data/help/en/index.xml
   branches/waterwell/data/images/gui/buttonpanel/waterwell.png
   branches/waterwell/src/lincity-ng/ButtonPanel.cpp
   branches/waterwell/src/lincity-ng/GameView.cpp
   branches/waterwell/src/lincity-ng/ReadPngInterface.cpp
   branches/waterwell/src/lincity/lctypes.h
   branches/waterwell/src/lincity/lin-city.h
   branches/waterwell/src/lincity/lintypes.cpp
   branches/waterwell/src/lincity/lintypes.h
Log:
create button and help, and fix icon 32bpp


Modified: branches/waterwell/data/gui/buttonpanel.xml
===================================================================
--- branches/waterwell/data/gui/buttonpanel.xml	2007-04-01 18:32:28 UTC (rev 1166)
+++ branches/waterwell/data/gui/buttonpanel.xml	2007-04-01 23:16:27 UTC (rev 1167)
@@ -60,6 +60,7 @@
 	<button name="BPMMonumentButton"/>
 	<button name="BPMParkButton"/>
 	<button name="BPMWaterButton"/>
+	<button name="BPMWaterwellButton"/>
 	<button name="BPMFarmButton"/>
 	<button name="BPMMillButton"/>
 	
@@ -536,7 +537,7 @@
 			</cell>
 			<cell row="8" col="2" halign="left">
 				<Panel name="BPParkMenu"  width="244" height="50" background="images/gui/buttons/button-border-5.png">
-					<TableLayout rows="1" cols="5">
+					<TableLayout rows="1" cols="6">
 					<cell row="1" col="1">
 						<CheckButton name="BPMMonumentButton" main="BPParkButton">
 						<image src="images/gui/buttons/button.png"/>
@@ -568,6 +569,17 @@
 						</CheckButton>
 					</cell>
 					<cell row="1" col="4">
+						<CheckButton name="BPMWaterwellButton" main="BPParkButton">
+						<image src="images/gui/buttons/button.png"/>
+						<image-hover src="images/gui/buttons/button-hover.png"/>
+						<image-clicked src="images/gui/buttons/button-clicked.png"/>
+						<image-checked src="images/gui/buttons/button-checked.png"/>
+						<image-disabled src="images/gui/buttonpanel/waterwell.png" filter="grey"/>
+						<image-caption src="images/gui/buttonpanel/waterwell.png"/>
+						</CheckButton>
+					</cell>
+
+					<cell row="1" col="5">
 						<CheckButton name="BPMFarmButton" main="BPParkButton">
 						<image src="images/gui/buttons/button.png"/>
 						<image-hover src="images/gui/buttons/button-hover.png"/>
@@ -577,7 +589,7 @@
 						<image-caption src="images/gui/buttonpanel/parks/farm.png"/>
 						</CheckButton>
 					</cell>
-					<cell row="1" col="5">
+					<cell row="1" col="6">
 						<CheckButton name="BPMMillButton" main="BPParkButton">
 						<image src="images/gui/buttons/button.png"/>
 						<image-hover src="images/gui/buttons/button-hover.png"/>

Modified: branches/waterwell/data/help/en/index.xml
===================================================================
--- branches/waterwell/data/help/en/index.xml	2007-04-01 18:32:28 UTC (rev 1166)
+++ branches/waterwell/data/help/en/index.xml	2007-04-01 23:16:27 UTC (rev 1167)
@@ -75,5 +75,6 @@
 <li><a href="tutorial-advanced">Advanced</a></li>
 <li><a href="tutorial-scenario">Scenario</a></li>
 <li><a href="university">University</a></li>
+<li><a href="waterwell">Water well</a></li>
 <li><a href="windmill">Windmills</a></li>
 </Document>

Added: branches/waterwell/data/help/en/waterwell.xml
===================================================================
--- branches/waterwell/data/help/en/waterwell.xml	2007-04-01 18:32:28 UTC (rev 1166)
+++ branches/waterwell/data/help/en/waterwell.xml	2007-04-01 23:16:27 UTC (rev 1167)
@@ -0,0 +1,11 @@
+<?xml version="1.0"?>
+<Document style="helpdocument">
+	<p style="htitle">Water well</p>
+	<p style="hp"><b> Work in progress. May crash/hang ... (no warranty: reread the GPL license ;-)</b></p>
+	<p style="hp">Provide water to builings within the range. Polluted water will have consequences. Parks reduce pollution of waterwell. Range of water well is shown in starvation overlay.</p>
+
+	<p style="hp">See also:</p>
+	<li><a href="park">Parks</a></li>
+	<li><a href="pollution">Pollution</a></li>
+	<li><a href="msb-starve">Starvation overlay</a></li>
+</Document>

Modified: branches/waterwell/data/images/gui/buttonpanel/waterwell.png
===================================================================
(Binary files differ)

Modified: branches/waterwell/src/lincity/lctypes.h
===================================================================
--- branches/waterwell/src/lincity/lctypes.h	2007-04-01 18:32:28 UTC (rev 1166)
+++ branches/waterwell/src/lincity/lctypes.h	2007-04-01 23:16:27 UTC (rev 1167)
@@ -565,6 +565,10 @@
 #define CST_WATER_LURD_G        "waterlurd.csi"
 #define LCT_WATER_LURD_G        "waterlurd"
 
+#define CST_WATERWELL           238
+#define CST_WATERWELL_G         "waterwell.csi"
+#define LCT_WATERWELL_G         "waterwell"
+
 #define CST_CRICKET_1           240
 #define CST_CRICKET_1_G         "cricket1.csi"
 #define LCT_CRICKET_1_G         "cricket1"

Modified: branches/waterwell/src/lincity/lin-city.h
===================================================================
--- branches/waterwell/src/lincity/lin-city.h	2007-04-01 18:32:28 UTC (rev 1166)
+++ branches/waterwell/src/lincity/lin-city.h	2007-04-01 23:16:27 UTC (rev 1167)
@@ -1048,6 +1048,15 @@
 #define GROUP_RESIDENCE_HH_TECH 0
 #define GROUP_RESIDENCE_HH_FIREC 75
 
+#define GROUP_WATERWELL	   41
+#define GROUP_WATERWELL_COLOUR    (blue(31))
+#define GROUP_WATERWELL_COST      1
+#define GROUP_WATERWELL_COST_MUL 2
+#define GROUP_WATERWELL_BUL_COST      1
+#define GROUP_WATERWELL_TECH      0
+#define GROUP_WATERWELL_FIREC 0
+
+
 #define GROUP_IS_TRANSPORT(group) \
             ((group == GROUP_TRACK) || \
              (group == GROUP_ROAD) || \
@@ -1062,15 +1071,6 @@
              (group == GROUP_RESIDENCE_MH) || \
              (group == GROUP_RESIDENCE_HH))
 
-#define GROUP_RESIDENCE_LL 4
-#define GROUP_RESIDENCE_LL_COLOUR (cyan(24))
-#define GROUP_RESIDENCE_LL_COST 1000
-#define GROUP_RESIDENCE_LL_COST_MUL 25
-#define GROUP_RESIDENCE_LL_BUL_COST 1000
-#define GROUP_RESIDENCE_LL_TECH 0
-#define GROUP_RESIDENCE_LL_FIREC 75
-
-
 #define MOUSE_TYPE_NORMAL 1
 #define MOUSE_TYPE_SQUARE 2
 #define MOUSE_BUTTON_REPEAT 4

Modified: branches/waterwell/src/lincity/lintypes.cpp
===================================================================
--- branches/waterwell/src/lincity/lintypes.cpp	2007-04-01 18:32:28 UTC (rev 1166)
+++ branches/waterwell/src/lincity/lintypes.cpp	2007-04-01 23:16:27 UTC (rev 1167)
@@ -515,6 +515,18 @@
       GROUP_RESIDENCE_HH_TECH
     },
     /* 41 */
+        { N_("Water well"),
+      FALSE,                           /* need credit? */
+      GROUP_WATERWELL,
+      2,                               /* size */
+      GROUP_WATERWELL_COLOUR,
+      GROUP_WATERWELL_COST_MUL,
+      GROUP_WATERWELL_BUL_COST,
+      GROUP_WATERWELL_FIREC,
+      GROUP_WATERWELL_COST,
+      GROUP_WATERWELL_TECH
+    },
+    /* 42 */
     /* End of Data */
     { "EOF",
       FALSE,                           /* need credit? */
@@ -1176,6 +1188,9 @@
     main_types[CST_WATER_LURD].group=GROUP_WATER;
     main_types[CST_WATER_LURD].graphic=load_graphic(CST_WATER_LURD_G);
 
+    main_types[CST_WATERWELL].group=GROUP_WATERWELL;
+    main_types[CST_WATERWELL].graphic=load_graphic(CST_WATERWELL_G);
+
     main_types[CST_HEALTH].group=GROUP_HEALTH;
     main_types[CST_HEALTH].graphic=load_graphic(CST_HEALTH_G);
 

Modified: branches/waterwell/src/lincity/lintypes.h
===================================================================
--- branches/waterwell/src/lincity/lintypes.h	2007-04-01 18:32:28 UTC (rev 1166)
+++ branches/waterwell/src/lincity/lintypes.h	2007-04-01 23:16:27 UTC (rev 1167)
@@ -14,7 +14,7 @@
 #endif
 
 #define NUM_OF_TYPES    400
-#define NUM_OF_GROUPS    42
+#define NUM_OF_GROUPS    43
 #define GROUP_NAME_LEN   20
 
 struct GROUP

Modified: branches/waterwell/src/lincity-ng/ButtonPanel.cpp
===================================================================
--- branches/waterwell/src/lincity-ng/ButtonPanel.cpp	2007-04-01 18:32:28 UTC (rev 1166)
+++ branches/waterwell/src/lincity-ng/ButtonPanel.cpp	2007-04-01 23:16:27 UTC (rev 1167)
@@ -562,6 +562,8 @@
             getGame()->showHelpWindow( "park" ); break;
         case CST_WATER:
             getGame()->showHelpWindow( "river" ); break;
+        case CST_WATERWELL:
+            getGame()->showHelpWindow( "waterwell" ); break;
         default:
             std::cerr << "ButtonPanel::showToolHelp# unknown Type " << tooltype << "\n";
     }
@@ -617,6 +619,7 @@
         case CST_MONUMENT_0: newName ="BPMMonumentButton"; break;
         case CST_PARKLAND_PLANE: newName ="BPMParkButton"; break;
         case CST_WATER: newName ="BPMWaterButton"; break;
+        case CST_WATERWELL: newName ="BPMWaterwellButton"; break;
         default:
             std::cerr << "ButtonPanel::switchToTool# unknown Type " << newModuleType << "\n";
             newName ="BPMPointerButton";
@@ -890,6 +893,8 @@
         selected_module_type=CST_PARKLAND_PLANE;
     else if(button=="BPMWaterButton")
         selected_module_type=CST_WATER;
+    else if(button=="BPMWaterwellButton")
+        selected_module_type=CST_WATERWELL;
 }
 
 void ButtonPanel::updateSelectedCost()

Modified: branches/waterwell/src/lincity-ng/GameView.cpp
===================================================================
--- branches/waterwell/src/lincity-ng/GameView.cpp	2007-04-01 18:32:28 UTC (rev 1166)
+++ branches/waterwell/src/lincity-ng/GameView.cpp	2007-04-01 23:16:27 UTC (rev 1167)
@@ -651,6 +651,7 @@
    preReadCityTexture( CST_WATER_LUR,         "waterlur.png" );
    preReadCityTexture( CST_WATER_URD,         "waterurd.png" );
    preReadCityTexture( CST_WATER_LURD,        "waterlurd.png" );
+   preReadCityTexture( CST_WATERWELL,         "waterwell.png" );
    preReadCityTexture( CST_CRICKET_1,         "cricket1.png" );
    preReadCityTexture( CST_CRICKET_2,         "cricket2.png" );
    preReadCityTexture( CST_CRICKET_3,         "cricket3.png" );

Modified: branches/waterwell/src/lincity-ng/ReadPngInterface.cpp
===================================================================
--- branches/waterwell/src/lincity-ng/ReadPngInterface.cpp	2007-04-01 18:32:28 UTC (rev 1166)
+++ branches/waterwell/src/lincity-ng/ReadPngInterface.cpp	2007-04-01 23:16:27 UTC (rev 1167)
@@ -135,6 +135,8 @@
     LG(CST_WATER_URD,GROUP_WATER,LCT_WATER_URD_G);
     LG(CST_WATER_LURD,GROUP_WATER,LCT_WATER_LURD_G);
 
+    LG(CST_WATERWELL,GROUP_WATERWELL,LCT_WATERWELL_G);
+
     LG(CST_BLACKSMITH_0,GROUP_BLACKSMITH,LCT_BLACKSMITH_0_G);
     LG(CST_BLACKSMITH_1,GROUP_BLACKSMITH,LCT_BLACKSMITH_1_G);
     LG(CST_BLACKSMITH_2,GROUP_BLACKSMITH,LCT_BLACKSMITH_2_G);



From alainb at mail.berlios.de  Mon Apr  2 01:47:53 2007
From: alainb at mail.berlios.de (alainb at BerliOS)
Date: Mon, 2 Apr 2007 01:47:53 +0200
Subject: [Lincity-ng-commit] r1168 - branches/waterwell
Message-ID: <200704012347.l31NlrV0030488@sheep.berlios.de>

Author: alainb
Date: 2007-04-02 01:47:53 +0200 (Mon, 02 Apr 2007)
New Revision: 1168

Added:
   branches/waterwell/README-TODO-WaterWell
Log:
add README-TODO-WaterWell

Added: branches/waterwell/README-TODO-WaterWell
===================================================================
--- branches/waterwell/README-TODO-WaterWell	2007-04-01 23:16:27 UTC (rev 1167)
+++ branches/waterwell/README-TODO-WaterWell	2007-04-01 23:47:53 UTC (rev 1168)
@@ -0,0 +1,30 @@
+README:
+-------
+Attempt to implement some kind of water management
+
+TODO: 
+-----
+- transport capacity for water
+- show well's range in starvation window (<= market range)
+- add water management for residence (like food)
+- add water well to random village
+
+- think of how to import existing games without killing all population by thirstyness.
+  (maybe just add a new version to check at load time if water management should be enabled)
+
+AIM:
+----
+* Water availability can be computed from the initial map, from shortest distance
+    to navigable water. Area without water should be yellow-brown like desert.
+    Areas without water would need high-tech deep well and/or pipes to feed the water station.
+* Water quality (from drinkable to mortal). 
+* farms, industries also need water (connection needed?, or pipes?), and can pollute it
+* park along a river or around a well will also reduce the pollution.
+* pollution transported by river will follow the flow, so travel toward the bottom
+    of the map (roughtly oposite of win direction :-) 
+
+REMARKS:
+--------
+* Code contains obsolete stuff from old lincity (eg .csi references ...). Maybe a clean up should
+ be considered, but that can be a big job with compatibility issues.
+ (so in another branch, and later as far as i m concerned :-)



From alainb at mail.berlios.de  Mon Apr  2 20:47:26 2007
From: alainb at mail.berlios.de (alainb at BerliOS)
Date: Mon, 2 Apr 2007 20:47:26 +0200
Subject: [Lincity-ng-commit] r1169 - in branches/waterwell: .
	data/images/gui/buttonpanel src/lincity/modules src/lincity-ng
Message-ID: <200704021847.l32IlQ2B015879@sheep.berlios.de>

Author: alainb
Date: 2007-04-02 20:47:25 +0200 (Mon, 02 Apr 2007)
New Revision: 1169

Added:
   branches/waterwell/src/lincity/modules/waterwell.cpp
   branches/waterwell/src/lincity/modules/waterwell.h
Modified:
   branches/waterwell/README-TODO-WaterWell
   branches/waterwell/data/images/gui/buttonpanel/waterwell.png
   branches/waterwell/src/lincity-ng/ButtonPanel.cpp
   branches/waterwell/src/lincity-ng/MpsInterface.cpp
   branches/waterwell/src/lincity/modules/all_modules.h
Log:
less ugly icon, add info for query tool

Modified: branches/waterwell/README-TODO-WaterWell
===================================================================
--- branches/waterwell/README-TODO-WaterWell	2007-04-01 23:47:53 UTC (rev 1168)
+++ branches/waterwell/README-TODO-WaterWell	2007-04-02 18:47:25 UTC (rev 1169)
@@ -25,6 +25,12 @@
 
 REMARKS:
 --------
+Don't consider this is important, it's just some ideas i have while wandering in the
+code. I write them here instead of somewhere else, but maybe will just forget them later.
 * Code contains obsolete stuff from old lincity (eg .csi references ...). Maybe a clean up should
  be considered, but that can be a big job with compatibility issues.
  (so in another branch, and later as far as i m concerned :-)
+* better separation of engine and graphics could be nice for future:
+   - a building gives: tech at build time, average state (production %) during last period
+   - the drawing modules uses the info to choose correct tile, and manage looping for
+     cleaner animation (currently fast speed skip frames => weird animation).

Modified: branches/waterwell/data/images/gui/buttonpanel/waterwell.png
===================================================================
(Binary files differ)

Modified: branches/waterwell/src/lincity/modules/all_modules.h
===================================================================
--- branches/waterwell/src/lincity/modules/all_modules.h	2007-04-01 23:47:53 UTC (rev 1168)
+++ branches/waterwell/src/lincity/modules/all_modules.h	2007-04-02 18:47:25 UTC (rev 1169)
@@ -36,5 +36,6 @@
 #include "water.h"
 #include "windmill.h"
 #include "market.h"
+#include "waterwell.h"
 
 #endif

Added: branches/waterwell/src/lincity/modules/waterwell.cpp
===================================================================
--- branches/waterwell/src/lincity/modules/waterwell.cpp	2007-04-01 23:47:53 UTC (rev 1168)
+++ branches/waterwell/src/lincity/modules/waterwell.cpp	2007-04-02 18:47:25 UTC (rev 1169)
@@ -0,0 +1,29 @@
+/* ---------------------------------------------------------------------- *
+ * water.c
+ * This file is part of lincity.
+ * Lincity is copyright (c) I J Peters 1995-1997, (c) Greg Sharp 1997-2001.
+ * (c) Corey Keasling, 2004
+ * ---------------------------------------------------------------------- */
+
+#include "modules.h"
+#include "waterwell.h"
+
+
+void
+mps_waterwell (int x, int y)
+{
+    int i = 0;
+
+    const char * p;
+
+    mps_store_title(i++,_("Water_well"));
+    i++; /* blank line */
+
+    mps_store_sd(i++, _("Pollution"), MP_POL(x,y));
+
+    /* p = (MP_INFO(x,y).flags & FLAG_IS_RIVER) ? _("Yes") : _("No"); */
+    p = _("Yes");
+    mps_store_ss(i++,_("Drinkable"),p);
+
+}
+

Added: branches/waterwell/src/lincity/modules/waterwell.h
===================================================================
--- branches/waterwell/src/lincity/modules/waterwell.h	2007-04-01 23:47:53 UTC (rev 1168)
+++ branches/waterwell/src/lincity/modules/waterwell.h	2007-04-02 18:47:25 UTC (rev 1169)
@@ -0,0 +1,13 @@
+/* ---------------------------------------------------------------------- *
+ * water.h
+ * This file is part of lincity.
+ * Lincity is copyright (c) I J Peters 1995-1997, (c) Greg Sharp 1997-2001.
+ * (c) Corey Keasling, 2004
+ * ---------------------------------------------------------------------- */
+
+#ifndef __waterwell_h__
+#define __waterwell_h__
+
+void mps_waterwell (int x, int y);
+
+#endif /* __waterwell_h__ */

Modified: branches/waterwell/src/lincity-ng/ButtonPanel.cpp
===================================================================
--- branches/waterwell/src/lincity-ng/ButtonPanel.cpp	2007-04-01 23:47:53 UTC (rev 1168)
+++ branches/waterwell/src/lincity-ng/ButtonPanel.cpp	2007-04-02 18:47:25 UTC (rev 1169)
@@ -230,7 +230,7 @@
         return;
     }
     doButton( name );
-	if ( enoughTech( selected_module_type ) ){
+    if ( enoughTech( selected_module_type ) ){
         if( !b->isEnabled() ){
             newTechMessage( selected_module_type, showInfo );
             b->setTooltip( createTooltip( selected_module_type, false ) );

Modified: branches/waterwell/src/lincity-ng/MpsInterface.cpp
===================================================================
--- branches/waterwell/src/lincity-ng/MpsInterface.cpp	2007-04-01 23:47:53 UTC (rev 1168)
+++ branches/waterwell/src/lincity-ng/MpsInterface.cpp	2007-04-02 18:47:25 UTC (rev 1169)
@@ -213,6 +213,9 @@
                 case GROUP_WINDMILL:
                     mps_windmill (mps_x, mps_y);
                     break;
+		case GROUP_WATERWELL:
+		    mps_waterwell (mps_x, mps_y);
+		    break;
                 default: 
                     //no special information on this group, just show the Name.
                     for(int i = 1; i < MPS_PARAGRAPH_COUNT; ++i) {



From alainb at mail.berlios.de  Tue Apr  3 18:03:19 2007
From: alainb at mail.berlios.de (alainb at BerliOS)
Date: Tue, 3 Apr 2007 18:03:19 +0200
Subject: [Lincity-ng-commit] r1170 - in branches/waterwell: . src/lincity
	src/lincity/modules
Message-ID: <200704031603.l33G3JSh010493@sheep.berlios.de>

Author: alainb
Date: 2007-04-03 18:03:18 +0200 (Tue, 03 Apr 2007)
New Revision: 1170

Modified:
   branches/waterwell/README-TODO-WaterWell
   branches/waterwell/src/lincity/engglobs.h
   branches/waterwell/src/lincity/engine.cpp
   branches/waterwell/src/lincity/lin-city.h
   branches/waterwell/src/lincity/modules/residence.cpp
   branches/waterwell/src/lincity/modules/waterwell.cpp
   branches/waterwell/src/lincity/modules/waterwell.h
   branches/waterwell/src/lincity/shrglobs.cpp
   branches/waterwell/src/lincity/simulate.cpp
Log:
Very basic water management implemented:
 -residence need water like food. Lack of water has the same consequences as lack of food.
 -random village has a water well.



Modified: branches/waterwell/README-TODO-WaterWell
===================================================================
--- branches/waterwell/README-TODO-WaterWell	2007-04-02 18:47:25 UTC (rev 1169)
+++ branches/waterwell/README-TODO-WaterWell	2007-04-03 16:03:18 UTC (rev 1170)
@@ -1,36 +1,76 @@
 README:
 -------
-Attempt to implement some kind of water management
+Attempt to implement some kind of water management.
+This file is a temporary note book.
 
+WIP:
+----
+Rev 1170: basic water management implemented:
+ -icon, tile (hmmm, must be redrawn by someone competent)
+ -help (en), info with query tool and in residences.
+ -residence need water like food. Lack of water has the same consequences as lack of food.
+ -random village has a water well.
+
 TODO: 
 -----
-- transport capacity for water
-- show well's range in starvation window (<= market range)
-- add water management for residence (like food)
-- add water well to random village
+* show well's range in starvation window (<= market range)
+* load/save numof_waterwell and display it in stat window. (current load/save works)
 
-- think of how to import existing games without killing all population by thirstyness.
-  (maybe just add a new version to check at load time if water management should be enabled)
-
 AIM:
 ----
 * Water availability can be computed from the initial map, from shortest distance
     to navigable water. Area without water should be yellow-brown like desert.
     Areas without water would need high-tech deep well and/or pipes to feed the water station.
-* Water quality (from drinkable to mortal). 
+
 * farms, industries also need water (connection needed?, or pipes?), and can pollute it
-* park along a river or around a well will also reduce the pollution.
-* pollution transported by river will follow the flow, so travel toward the bottom
-    of the map (roughtly oposite of win direction :-) 
 
-REMARKS:
---------
+* Water quality (from drinkable to mortal). 
+  - park along a river or around a well will also reduce the pollution.
+  - pollution transported by river will follow the flow, so travel toward the bottom
+      of the map (roughtly oposite of win direction :-)
+
+* think of how to import existing games without killing all population by thirstyness.
+  (maybe just add a new version to check at load time if water management should be enabled)
+
+Won't do soon:
+--------------
+* transport capacity for water = water_on_road, water_on rail.... ?
+  This mean quantity management of water. can be very tricky.
+  rev 1170 uses range, so no need for transport
+  ? market can buy/sell water ? or waterwell is a watermarket ? 
+
+REMARKS/NOTES:
+--------------
 Don't consider this is important, it's just some ideas i have while wandering in the
-code. I write them here instead of somewhere else, but maybe will just forget them later.
+code. I write them here instead of somewhere else, but maybe i will just forget them later,
+or put them in the wiki.
+
+* random village is placed near water in original lincity :) 
+  (see src/lincity/simulate.cpp random_start near line 610)
+
 * Code contains obsolete stuff from old lincity (eg .csi references ...). Maybe a clean up should
  be considered, but that can be a big job with compatibility issues.
  (so in another branch, and later as far as i m concerned :-)
+
 * better separation of engine and graphics could be nice for future:
    - a building gives: tech at build time, average state (production %) during last period
    - the drawing modules uses the info to choose correct tile, and manage looping for
      cleaner animation (currently fast speed skip frames => weird animation).
+
+* rivers are ready for transport: in lin-city.h  
+  #define MAX_FOOD_ON_RIVER (MAX_FOOD_ON_TRACK*2)
+  #define MAX_JOBS_ON_RIVER (MAX_JOBS_ON_TRACK*2)
+  #define MAX_COAL_ON_RIVER (MAX_COAL_ON_TRACK*2)
+  #define MAX_GOODS_ON_RIVER (MAX_GOODS_ON_TRACK*2)
+  #define MAX_ORE_ON_RIVER (MAX_ORE_ON_TRACK*2)
+  #define MAX_STEEL_ON_RIVER (MAX_STEEL_ON_TRACK*2)
+
+  but are not in GROUP_IS_TRANSPORT.
+  #define GROUP_IS_TRANSPORT(group) \
+            ((group == GROUP_TRACK) || \
+             (group == GROUP_ROAD) || \
+             (group == GROUP_RAIL) || \
+             (group == GROUP_POWER_LINE))
+
+  Beach scenario could cause trouble (stock many thing in the sea !).
+

Modified: branches/waterwell/src/lincity/engglobs.h
===================================================================
--- branches/waterwell/src/lincity/engglobs.h	2007-04-02 18:47:25 UTC (rev 1169)
+++ branches/waterwell/src/lincity/engglobs.h	2007-04-03 16:03:18 UTC (rev 1170)
@@ -52,6 +52,7 @@
 extern int numof_substations;
 extern int marketx[MAX_NUMOF_MARKETS], markety[MAX_NUMOF_MARKETS], numof_markets;
 extern int numof_health_centres, max_pop_ever, total_evacuated, total_births;
+extern int numof_waterwell;
 
 extern int total_money, income_tax_rate, coal_tax_rate;
 extern int dole_rate, transport_cost_rate;

Modified: branches/waterwell/src/lincity/engine.cpp
===================================================================
--- branches/waterwell/src/lincity/engine.cpp	2007-04-02 18:47:25 UTC (rev 1169)
+++ branches/waterwell/src/lincity/engine.cpp	2007-04-03 16:03:18 UTC (rev 1170)
@@ -142,6 +142,7 @@
     {
 	/* Don't build a tip if there has already been one.  If we succeed,
 	   mark the spot permanently by "doubling" the ore reserve */
+	/* AL1: in NG 1.1 tip cannot be bulldozed, so it seems impossible that this case happens */
 	int i,j;
 	int prev_tip = 0;
 	for (i=0;i<3;i++) {
@@ -198,6 +199,11 @@
 	    return -4;
 	}
     }
+    case GROUP_WATERWLL:
+    {
+	numof_waterwell++;
+    } break;
+
     } /* end case */
 
     /* Store last_built for refund on "mistakes" */
@@ -631,7 +637,7 @@
 {
   int x, y, m;
   m = 0xffffffff - (FLAG_FIRE_COVER | FLAG_HEALTH_COVER
-		    | FLAG_CRICKET_COVER);
+		    | FLAG_CRICKET_COVER| FLAG_WATERWELL_COVER);
   for (y = 0; y < WORLD_SIDE_LEN; y++)
     for (x = 0; x < WORLD_SIDE_LEN; x++)
       MP_INFO(x,y).flags &= m;
@@ -654,6 +660,8 @@
 	  do_health_cover (x, y);
 	else if (MP_GROUP(x,y) == GROUP_CRICKET)
 	  do_cricket_cover (x, y);
+	else if (MP_GROUP(x,y) == GROUP_WATERWELL)
+	  do_waterwell_cover (x, y);
       }
 }
 

Modified: branches/waterwell/src/lincity/lin-city.h
===================================================================
--- branches/waterwell/src/lincity/lin-city.h	2007-04-02 18:47:25 UTC (rev 1169)
+++ branches/waterwell/src/lincity/lin-city.h	2007-04-03 16:03:18 UTC (rev 1170)
@@ -170,9 +170,10 @@
 #define FLAG_CRICKET_COVER      (0x400000)
 #define FLAG_IS_RIVER           (0x800000)
 #define FLAG_HAD_POWER          (0x1000000)
-#define FLAG_MULTI_TRANSPORT    (0x2000000)   /* Is it a multitransport? */
-#define FLAG_MULTI_TRANS_PREV   (0x4000000)
+#define FLAG_MULTI_TRANSPORT    (0x2000000)   /* Is it a multitransport? */ /* AL1: unused in NG 1.1 */
+#define FLAG_MULTI_TRANS_PREV   (0x4000000)	/* AL1: unused in NG 1.1 */
 #define FLAG_POWER_LINE         (0x8000000)
+#define FLAG_WATERWELL_COVER    (0x10000000)
 
 /* XXX: It would appear that the following T_ are used exactly two times each,
    in market.c.  */
@@ -554,13 +555,15 @@
 #define MAX_ORE_IN_MARKET (MAX_ORE_ON_RAIL*2)
 #define MARKET_ORE_SEARCH_TRIGGER (MAX_ORE_IN_MARKET/5)
 
-
 #define MAX_STEEL_ON_TRACK 128
 #define MAX_STEEL_ON_RIVER (MAX_STEEL_ON_TRACK*2)
 #define MAX_STEEL_ON_ROAD (MAX_STEEL_ON_TRACK*4)
 #define MAX_STEEL_ON_RAIL (MAX_STEEL_ON_ROAD*4)
 #define RAIL_STEEL_USED_MASK 0x7f
 #define MAX_STEEL_AT_INDUSTRY_H (MAX_STEEL_ON_RAIL*10)
+
+#define WATERWELL_RANGE 10
+
 /*
   JOBS_MAKE_STEEL is the steel made per job at the steel works
   what's it doing here?
@@ -1352,6 +1355,7 @@
 extern void do_shanty (int, int);
 extern void do_tip (int, int);
 extern void update_tech_dep (int, int);
+extern void do_waterwell_cover (int, int);
 /*
    transport functions
    *******************

Modified: branches/waterwell/src/lincity/modules/residence.cpp
===================================================================
--- branches/waterwell/src/lincity/modules/residence.cpp	2007-04-02 18:47:25 UTC (rev 1169)
+++ branches/waterwell/src/lincity/modules/residence.cpp	2007-04-03 16:03:18 UTC (rev 1170)
@@ -68,9 +68,9 @@
 	    bad += 100;
 	}
     }
-    /* normal births - must have food and jobs... and people */
-    if ((MP_INFO(x,y).flags & (FLAG_FED + FLAG_EMPLOYED))
-	== (FLAG_FED + FLAG_EMPLOYED)
+    /* normal births - must have food, water and jobs... and people */
+    if ((MP_INFO(x,y).flags & (FLAG_FED + FLAG_WATERWELL_COVER + FLAG_EMPLOYED))
+	== (FLAG_FED + FLAG_WATERWELL_COVER+ FLAG_EMPLOYED)
 	&& (rand () % (RESIDENCE_BASE_BR + MP_INFO(x,y).int_4) == 1) 
 	&& p > 0)
     {
@@ -78,8 +78,8 @@
 	total_births++;
 	good += 50;
     }
-    /* are people starving. */
-    if ((MP_INFO(x,y).flags & FLAG_FED) == 0 && p > 0)
+    /* are people starving or lacking water ? */
+    if ( ((MP_INFO(x,y).flags & FLAG_FED) == 0 | (MP_INFO(x,y).flags & FLAG_WATERWELL_COVER) == 0) && p > 0)
     {
 	if (rand () % DAYS_PER_STARVE == 1)
 	{
@@ -180,7 +180,7 @@
 	if ((MP_INFO(x,y).flags & FLAG_HAD_POWER) != 0)
 	    bad += 50;
     }
-    /* now get fed */
+    /* now get fed */  /* AL1: should be done earlier, before check for starvation */
     if (get_food (x, y, p) != 0)
     {
 	MP_INFO(x,y).flags |= FLAG_FED;
@@ -188,6 +188,7 @@
     }
     else
 	MP_INFO(x,y).flags &= (0xffffffff - FLAG_FED);
+
     /* now supply jobs and buy goods if employed */
     if (MP_INFO(x,y).int_1 > 0)
 	swing = JOB_SWING + (hc * HC_JOB_SWING) + cc;
@@ -276,15 +277,21 @@
 
     mps_store_sd(i++,_("People"), MP_INFO(x,y).population);
 
-    p = ((MP_INFO(x,y).flags & FLAG_POWERED) != 0) ? _("YES") : _("NO");
-    mps_store_ss(i++, _("Power"), p);
+    p = ((MP_INFO(x,y).flags & FLAG_WATERWELL_COVER) != 0) ? _("YES") : _("NO");
+    mps_store_ss(i++, _("Water"), p);
 
     p = ((MP_INFO(x,y).flags & FLAG_FED) != 0) ? _("YES") : _("NO");
     mps_store_ss(i++, _("Fed"), p);
 
+    p = ((MP_INFO(x,y).flags & FLAG_POWERED) != 0) ? _("YES") : _("NO");
+    mps_store_ss(i++, _("Power"), p);
+
     p = ((MP_INFO(x,y).flags & FLAG_EMPLOYED) != 0) ? _("YES") : _("NO");
     mps_store_ss(i++, _("Employed"), p);
 
+    p = (MP_INFO(x,y).int_1 >= 10) ? _("good") : _("poor");
+    mps_store_ss(i++, _("Job"), p);
+
     p = ((MP_INFO(x,y).flags & FLAG_HEALTH_COVER) != 0) ? _("YES") : _("NO");
     mps_store_ss(i++, _("Health Cvr"), p);
 
@@ -296,7 +303,4 @@
 
     mps_store_sd(i++, _("Pollution"), MP_POL(x,y));
 
-    p = (MP_INFO(x,y).int_1 >= 10) ? _("good") : _("poor");
-    mps_store_ss(i++, _("Job"), p);
-
 }

Modified: branches/waterwell/src/lincity/modules/waterwell.cpp
===================================================================
--- branches/waterwell/src/lincity/modules/waterwell.cpp	2007-04-02 18:47:25 UTC (rev 1169)
+++ branches/waterwell/src/lincity/modules/waterwell.cpp	2007-04-03 16:03:18 UTC (rev 1170)
@@ -1,5 +1,5 @@
 /* ---------------------------------------------------------------------- *
- * water.c
+ * waterwell.c
  * This file is part of lincity.
  * Lincity is copyright (c) I J Peters 1995-1997, (c) Greg Sharp 1997-2001.
  * (c) Corey Keasling, 2004
@@ -10,6 +10,29 @@
 
 
 void
+do_waterwell_cover (int x, int y)
+{
+  int xx, x1, x2, y1, y2;
+
+  x1 = x - WATERWELL_RANGE;
+  if (x1 < 0)
+    x1 = 0;
+  x2 = x + WATERWELL_RANGE;
+  if (x2 > WORLD_SIDE_LEN)
+    x2 = WORLD_SIDE_LEN;
+  y1 = y - WATERWELL_RANGE;
+  if (y1 < 0)
+    y1 = 0;
+  y2 = y + WATERWELL_RANGE;
+  if (y2 > WORLD_SIDE_LEN)
+    y2 = WORLD_SIDE_LEN;
+  for (; y1 < y2; y1++)
+    for (xx = x1; xx < x2; xx++)
+      MP_INFO(xx,y1).flags |= FLAG_WATERWELL_COVER;
+}
+
+
+void
 mps_waterwell (int x, int y)
 {
     int i = 0;

Modified: branches/waterwell/src/lincity/modules/waterwell.h
===================================================================
--- branches/waterwell/src/lincity/modules/waterwell.h	2007-04-02 18:47:25 UTC (rev 1169)
+++ branches/waterwell/src/lincity/modules/waterwell.h	2007-04-03 16:03:18 UTC (rev 1170)
@@ -8,6 +8,7 @@
 #ifndef __waterwell_h__
 #define __waterwell_h__
 
+void do_waterwell_cover (int x, int y);
 void mps_waterwell (int x, int y);
 
 #endif /* __waterwell_h__ */

Modified: branches/waterwell/src/lincity/shrglobs.cpp
===================================================================
--- branches/waterwell/src/lincity/shrglobs.cpp	2007-04-02 18:47:25 UTC (rev 1169)
+++ branches/waterwell/src/lincity/shrglobs.cpp	2007-04-03 16:03:18 UTC (rev 1170)
@@ -60,6 +60,7 @@
 int numof_substations = 0;
 int marketx[MAX_NUMOF_MARKETS], markety[MAX_NUMOF_MARKETS], numof_markets = 0;
 int numof_health_centres, max_pop_ever = 0, total_evacuated = 0, total_births = 0;
+int numof_waterwell = 0;
 
 int total_money = 0, income_tax_rate, coal_tax_rate;
 int dole_rate, transport_cost_rate;

Modified: branches/waterwell/src/lincity/simulate.cpp
===================================================================
--- branches/waterwell/src/lincity/simulate.cpp	2007-04-02 18:47:25 UTC (rev 1169)
+++ branches/waterwell/src/lincity/simulate.cpp	2007-04-03 16:03:18 UTC (rev 1170)
@@ -640,34 +640,24 @@
     quick_start_add (xx + 5, yy + 5, CST_FARM_O0, 4);
     quick_start_add (xx + 9, yy + 6, CST_RESIDENCE_ML, 3);
     MP_INFO(xx + 9,yy + 6).population = 50;
-    MP_INFO(xx + 9,yy + 6).flags |= (FLAG_FED + FLAG_EMPLOYED);
-    quick_start_add (xx + 7, yy + 9, CST_MARKET_EMPTY, 2);
-    marketx[numof_markets] = xx + 7;
-    markety[numof_markets] = yy + 9;
-    numof_markets++;
-    /* Bootstap markets with some stuff. */
-    MP_INFO(xx + 7,yy + 9).int_1 = 2000;
-    MP_INFO(xx + 7,yy + 9).int_2 = 10000;
-    MP_INFO(xx + 7,yy + 9).int_3 = 100;
-    MP_INFO(xx + 7,yy + 9).int_5 = 10000;
-    MP_INFO(xx + 7,yy + 9).flags 
-	    |= (FLAG_MB_FOOD + FLAG_MS_FOOD + FLAG_MB_JOBS
-		+ FLAG_MS_JOBS + FLAG_MB_COAL + FLAG_MS_COAL + FLAG_MB_ORE
-		+ FLAG_MS_ORE + FLAG_MB_GOODS + FLAG_MS_GOODS + FLAG_MB_STEEL
-		+ FLAG_MS_STEEL);
+    MP_INFO(xx + 9,yy + 6).flags |= (FLAG_FED + FLAG_EMPLOYED + FLAG_WATERWELL_COVER);
+    quick_start_add (xx + 9, yy + 9, CST_POTTERY_0, 2);
+    quick_start_add (xx + 16, yy + 9, CST_WATERWELL, 2);
 
-
     quick_start_add (xx + 14, yy + 6, CST_RESIDENCE_ML, 3);
     MP_INFO(xx + 14,yy + 6).population = 50;
-    MP_INFO(xx + 14,yy + 6).flags |= (FLAG_FED + FLAG_EMPLOYED);
+    MP_INFO(xx + 14,yy + 6).flags |= (FLAG_FED + FLAG_EMPLOYED + FLAG_WATERWELL_COVER);
     quick_start_add (xx + 17, yy + 5, CST_FARM_O0, 4);
-    quick_start_add (xx + 17, yy + 9, CST_MARKET_EMPTY, 2);
-    marketx[numof_markets] = xx + 17;
+    quick_start_add (xx + 14, yy + 9, CST_MARKET_EMPTY, 2);
+    marketx[numof_markets] = xx + 14;
     markety[numof_markets] = yy + 9;
     numof_markets++;
-    MP_INFO(xx + 17,yy + 9).int_1 = 2000;
-    MP_INFO(xx + 17,yy + 9).int_2 = 8000;
-    MP_INFO(xx + 17,yy + 9).flags 
+    /* Bootstrap markets with some stuff. */
+    MP_INFO(xx + 14,yy + 9).int_1 = 2000;
+    MP_INFO(xx + 14,yy + 9).int_2 = 10000;
+    MP_INFO(xx + 14,yy + 9).int_3 = 100;
+    MP_INFO(xx + 14,yy + 9).int_5 = 10000;
+    MP_INFO(xx + 14,yy + 9).flags 
 	    |= (FLAG_MB_FOOD + FLAG_MS_FOOD + FLAG_MB_JOBS
 		+ FLAG_MS_JOBS + FLAG_MB_COAL + FLAG_MS_COAL + FLAG_MB_ORE
 		+ FLAG_MS_ORE + FLAG_MB_GOODS + FLAG_MS_GOODS + FLAG_MB_STEEL
@@ -678,35 +668,12 @@
 	quick_start_add (xx + x, yy + 11, CST_TRACK_LR, 1);
 	MP_INFO(xx + x,yy + 11).flags |= FLAG_IS_TRANSPORT;
     }
-    for (y = 12; y < 18; y++)
-    {
-	quick_start_add (xx + 5, yy + y, CST_TRACK_LR, 1);
-	MP_INFO(xx + 5,yy + y).flags |= FLAG_IS_TRANSPORT;
-    }
     quick_start_add (xx + 6, yy + 12, CST_COMMUNE_1, 4);
     quick_start_add (xx + 6, yy + 17, CST_COMMUNE_1, 4);
     quick_start_add (xx + 11, yy + 12, CST_COMMUNE_1, 4);
     quick_start_add (xx + 11, yy + 17, CST_COMMUNE_1, 4);
     quick_start_add (xx + 16, yy + 12, CST_COMMUNE_1, 4);
     quick_start_add (xx + 16, yy + 17, CST_COMMUNE_1, 4);
-    for (x = 6; x < 17; x++)
-    {
-	quick_start_add (xx + x, yy + 16, CST_TRACK_LR, 1);
-	MP_INFO(xx + x,yy + 16).flags |= FLAG_IS_TRANSPORT;
-    }
-    for (y = 12; y < 16; y++)
-    {
-	quick_start_add (xx + 10, yy + y, CST_TRACK_LR, 1);
-	MP_INFO(xx + 10,yy + y).flags |= FLAG_IS_TRANSPORT;
-	quick_start_add (xx + 15, yy + y, CST_TRACK_LR, 1);
-	MP_INFO(xx + 15,yy + y).flags |= FLAG_IS_TRANSPORT;
-    }
-    quick_start_add (xx + 10, yy + 17, CST_TRACK_LR, 1);
-    MP_INFO(xx + 10,yy + 17).flags |= FLAG_IS_TRANSPORT;
-    quick_start_add (xx + 15, yy + 17, CST_TRACK_LR, 1);
-    MP_INFO(xx + 15,yy + 17).flags |= FLAG_IS_TRANSPORT;
-
-    quick_start_add (xx + 9, yy + 9, CST_POTTERY_0, 2);
 }
 
 /* XXX: WCK: What is up with this?  Why not just use set_mappoint?! */



From wolfgangb at mail.berlios.de  Tue Apr  3 20:07:28 2007
From: wolfgangb at mail.berlios.de (wolfgangb at BerliOS)
Date: Tue, 3 Apr 2007 20:07:28 +0200
Subject: [Lincity-ng-commit] r1171 - in trunk: . src/lincity-ng
	src/tinygettext
Message-ID: <200704031807.l33I7SCO031351@sheep.berlios.de>

Author: wolfgangb
Date: 2007-04-03 20:07:27 +0200 (Tue, 03 Apr 2007)
New Revision: 1171

Modified:
   trunk/RELNOTES
   trunk/src/lincity-ng/Game.cpp
   trunk/src/lincity-ng/HelpWindow.cpp
   trunk/src/lincity-ng/MainMenu.hpp
   trunk/src/lincity-ng/MiniMap.hpp
   trunk/src/tinygettext/TinyGetText.cpp
Log:
Patch by Martin Michlmayr to fix GCC 4.3. issues.


Modified: trunk/RELNOTES
===================================================================
--- trunk/RELNOTES	2007-04-03 16:03:18 UTC (rev 1170)
+++ trunk/RELNOTES	2007-04-03 18:07:27 UTC (rev 1171)
@@ -4,8 +4,10 @@
 * Heavy industry no longer storing too much coal.
 * Sustainability progress is reload from saved games.
 * Draw range for selected building around cursor 
+* Online help includes a tutorial
+* Russian online help
 
-*** LincityNG 1.1.0 *** [r1139 in svn]
+*** LincityNG 1.1.0 *** [r1139 in svn] 2007-02-19
 
 * Display correct values for unemployment rate.
 * Port connects on all land parts.
@@ -14,7 +16,7 @@
 * French online help
 * German online help
 
-*** LincityNG 1.0.3 *** [r1089 in svn]
+*** LincityNG 1.0.3 *** [r1089 in svn] 2006-04-14
 
 * Show correct demolition costs for powerlines, substations and farms.
 * Quantizing tile-images saves about 12MB.
@@ -22,7 +24,7 @@
 * Tool-Menu now opens on left mousebutton.
 * Separate menus for loading and saving games. 
 
-*** LincityNG 1.0.2 *** [r1063 in svn]
+*** LincityNG 1.0.2 *** [r1063 in svn] 2005-11-09 
 
 * Catalan translation
 * Spanish translation
@@ -30,17 +32,17 @@
 * Swedish translation 
 * Fixed: unwanted double-clicks in file menu
 
-*** LincityNG 1.0.1 *** [r1038 in svn]
+*** LincityNG 1.0.1 *** [r1038 in svn] 2005-07-13
 
 * Adjust volume in options
 * Load game on doubleclick 
 * Fixed: Endgame evacuation causes termination of game.
 * Fixed: Hightech houses require tech 30, but the tooltip says 20.
-* Fixed: Suppressed doublicated tech-messages.
-* Fixed: Doublicated command line arguments.
+* Fixed: Suppressed duplicated tech-messages.
+* Fixed: Duplicated command line arguments.
 * Fixed: Crash when empty scenario is selected.
 
-*** LincityNG 1.0 *** [r1026 in svn]
+*** LincityNG 1.0 *** [r1026 in svn] 2005-06-20
 
 * The first release of LincityNG features everything from classic lincity
   but with brand new graphics and modern user interface.

Modified: trunk/src/lincity-ng/Game.cpp
===================================================================
--- trunk/src/lincity-ng/Game.cpp	2007-04-03 16:03:18 UTC (rev 1170)
+++ trunk/src/lincity-ng/Game.cpp	2007-04-03 18:07:27 UTC (rev 1171)
@@ -129,7 +129,7 @@
     std::string fullname;
     char **rc = PHYSFS_enumerateFiles( directory.c_str() );
     char **i;
-    unsigned int pos;
+    size_t pos;
     for (i = rc; *i != NULL; i++) {
         fullname = directory;
         fullname.append( *i );

Modified: trunk/src/lincity-ng/HelpWindow.cpp
===================================================================
--- trunk/src/lincity-ng/HelpWindow.cpp	2007-04-03 16:03:18 UTC (rev 1170)
+++ trunk/src/lincity-ng/HelpWindow.cpp	2007-04-03 18:07:27 UTC (rev 1171)
@@ -22,6 +22,7 @@
 #include <sstream>
 #include <stdexcept>
 #include <iostream>
+#include <memory>
 #include <physfs.h>
 #include "tinygettext/gettext.hpp"
 #include "gui/Component.hpp"

Modified: trunk/src/lincity-ng/MainMenu.hpp
===================================================================
--- trunk/src/lincity-ng/MainMenu.hpp	2007-04-03 16:03:18 UTC (rev 1170)
+++ trunk/src/lincity-ng/MainMenu.hpp	2007-04-03 18:07:27 UTC (rev 1171)
@@ -21,6 +21,8 @@
 #include "main.hpp"
 #include "gui/Paragraph.hpp"
 
+#include <memory>
+
 class Component;
 class Desktop;
 class Button;

Modified: trunk/src/lincity-ng/MiniMap.hpp
===================================================================
--- trunk/src/lincity-ng/MiniMap.hpp	2007-04-03 16:03:18 UTC (rev 1170)
+++ trunk/src/lincity-ng/MiniMap.hpp	2007-04-03 18:07:27 UTC (rev 1171)
@@ -24,6 +24,8 @@
 #include "gui/Texture.hpp"
 #include "MapPoint.hpp"
 
+#include <memory>
+
 class XmlReader;
 class Button;
 class CheckButton;

Modified: trunk/src/tinygettext/TinyGetText.cpp
===================================================================
--- trunk/src/tinygettext/TinyGetText.cpp	2007-04-03 16:03:18 UTC (rev 1170)
+++ trunk/src/tinygettext/TinyGetText.cpp	2007-04-03 18:07:27 UTC (rev 1171)
@@ -23,6 +23,7 @@
 #if defined (HAVE_DIRENT_H)
 #include <dirent.h>
 #endif
+#include <cstdlib>
 #include <fstream>
 #include <iostream>
 #include <ctype.h>



From alainb at mail.berlios.de  Wed Apr  4 19:38:55 2007
From: alainb at mail.berlios.de (alainb at BerliOS)
Date: Wed, 4 Apr 2007 19:38:55 +0200
Subject: [Lincity-ng-commit] r1172 - in branches/waterwell: .
	data/images/tiles src/lincity src/lincity/modules src/lincity-ng
Message-ID: <200704041738.l34Hctf3013417@sheep.berlios.de>

Author: alainb
Date: 2007-04-04 19:38:51 +0200 (Wed, 04 Apr 2007)
New Revision: 1172

Added:
   branches/waterwell/data/images/tiles/desert.png
   branches/waterwell/data/images/tiles/tree.png
   branches/waterwell/data/images/tiles/tree2.png
   branches/waterwell/data/images/tiles/tree3.png
Modified:
   branches/waterwell/README-TODO-WaterWell
   branches/waterwell/src/lincity-ng/GameView.cpp
   branches/waterwell/src/lincity-ng/MapEdit.cpp
   branches/waterwell/src/lincity-ng/Mps.cpp
   branches/waterwell/src/lincity-ng/MpsInterface.cpp
   branches/waterwell/src/lincity-ng/ReadPngInterface.cpp
   branches/waterwell/src/lincity/engine.cpp
   branches/waterwell/src/lincity/lctypes.h
   branches/waterwell/src/lincity/lin-city.h
   branches/waterwell/src/lincity/lintypes.cpp
   branches/waterwell/src/lincity/lintypes.h
   branches/waterwell/src/lincity/modules/fire.cpp
   branches/waterwell/src/lincity/modules/tip.cpp
   branches/waterwell/src/lincity/simulate.cpp
Log:


Modified: branches/waterwell/README-TODO-WaterWell
===================================================================
--- branches/waterwell/README-TODO-WaterWell	2007-04-03 18:07:27 UTC (rev 1171)
+++ branches/waterwell/README-TODO-WaterWell	2007-04-04 17:38:51 UTC (rev 1172)
@@ -3,6 +3,10 @@
 Attempt to implement some kind of water management.
 This file is a temporary note book.
 
+HELP NEEDED:
+------------
+- Better graphic for icon and tile. (i did my best but its not enough ;-)
+
 WIP:
 ----
 Rev 1170: basic water management implemented:
@@ -15,30 +19,40 @@
 -----
 * show well's range in starvation window (<= market range)
 * load/save numof_waterwell and display it in stat window. (current load/save works)
+* sound.
+* basic ecology : desert, green, tree, tree2, tree3, % depending on water proximity.
 
+
 AIM:
 ----
-* Water availability can be computed from the initial map, from shortest distance
-    to navigable water. Area without water should be yellow-brown like desert.
-    Areas without water would need high-tech deep well and/or pipes to feed the water station.
+* simple ecology = periodic event :
+   - neighbours  => % decrease/increase from desert to tree3. (tree3 need 4 neighbouring trees)
+   - pollution ++%decrease
+   - water ++%increase
+   = just look nicer (change nothing in the game) but could show impact of human activities on forests :)
 
-* farms, industries also need water (connection needed?, or pipes?), and can pollute it
+* farms, industries also need water (connection needed?, or pipes?)
 
-* Water quality (from drinkable to mortal). 
+* Water quality (from drinkable to mortal).
+  - residences, farms and industries can pollute water.
   - park along a river or around a well will also reduce the pollution.
   - pollution transported by river will follow the flow, so travel toward the bottom
-      of the map (roughtly oposite of win direction :-)
+      of the map (y++) (roughtly opposite of win direction :-)
 
 * think of how to import existing games without killing all population by thirstyness.
   (maybe just add a new version to check at load time if water management should be enabled)
 
 Won't do soon:
 --------------
+* Areas without water could need high-tech deep well and/or pipes to feed the water station.
+
 * transport capacity for water = water_on_road, water_on rail.... ?
-  This mean quantity management of water. can be very tricky.
-  rev 1170 uses range, so no need for transport
+  This mean quantity management of water. can be very tricky in addition to quality.
+  rev 1170 uses range, so no need for transport.
   ? market can buy/sell water ? or waterwell is a watermarket ? 
 
+* fire/health cover in dry area should cost more (need more equipment ...)
+
 REMARKS/NOTES:
 --------------
 Don't consider this is important, it's just some ideas i have while wandering in the
@@ -57,6 +71,7 @@
    - the drawing modules uses the info to choose correct tile, and manage looping for
      cleaner animation (currently fast speed skip frames => weird animation).
 
+* With market range, everything can already jump accross rivers.
 * rivers are ready for transport: in lin-city.h  
   #define MAX_FOOD_ON_RIVER (MAX_FOOD_ON_TRACK*2)
   #define MAX_JOBS_ON_RIVER (MAX_JOBS_ON_TRACK*2)
@@ -71,6 +86,16 @@
              (group == GROUP_ROAD) || \
              (group == GROUP_RAIL) || \
              (group == GROUP_POWER_LINE))
-
   Beach scenario could cause trouble (stock many thing in the sea !).
 
+* Parks are not entertainment parks. They are biological depollution tool
+ => they are build in very polluted areas (sometimes mortal)
+ => no child games should appear there!
+
+* Parks appear too early, when they are not needed.
+
+* Graphic before rail techlevel should not have cars, but horses and bullocks instead.
+* Low tech houses looks too modern.
+
+* non-navigable waters (not seas) could very slowly become green (less than 1/1000 chance per year)
+

Added: branches/waterwell/data/images/tiles/desert.png
===================================================================
(Binary files differ)


Property changes on: branches/waterwell/data/images/tiles/desert.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: branches/waterwell/data/images/tiles/tree.png
===================================================================
(Binary files differ)


Property changes on: branches/waterwell/data/images/tiles/tree.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: branches/waterwell/data/images/tiles/tree2.png
===================================================================
(Binary files differ)


Property changes on: branches/waterwell/data/images/tiles/tree2.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: branches/waterwell/data/images/tiles/tree3.png
===================================================================
(Binary files differ)


Property changes on: branches/waterwell/data/images/tiles/tree3.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Modified: branches/waterwell/src/lincity/engine.cpp
===================================================================
--- branches/waterwell/src/lincity/engine.cpp	2007-04-03 18:07:27 UTC (rev 1171)
+++ branches/waterwell/src/lincity/engine.cpp	2007-04-04 17:38:51 UTC (rev 1172)
@@ -199,7 +199,7 @@
 	    return -4;
 	}
     }
-    case GROUP_WATERWLL:
+    case GROUP_WATERWELL:
     {
 	numof_waterwell++;
     } break;
@@ -265,7 +265,7 @@
     size = MP_SIZE(x,y);
     g = MP_GROUP(x,y);
 
-    if (g == GROUP_BARE) {
+    if (g == GROUP_DESERT) {
 	/* Nothing to do. */
 	return -1;
     }
@@ -283,7 +283,7 @@
     }
     else {
 	adjust_money(-main_groups[g].bul_cost);
-	do_bulldoze_area (CST_GREEN, x, y);
+	do_bulldoze_area (CST_DESERT, x, y);
 	if (g == GROUP_OREMINE)
 	{
 	    int i, j;
@@ -520,7 +520,7 @@
 	  p = *pol / 16;
 	  *pol -= p;
 	  switch ( rand() % 11)
-	    {         /* prevailing wind is *from* SW ie right down */
+	    {         /* prevailing wind is *from* SW */
 	    case 0:
 	    case 1: /* up */
 	    case 2:
@@ -823,10 +823,10 @@
 	  x--;
 	  if (x > 1 && x < WORLD_SIDE_LEN - 2 && y > 1
 	      && y < WORLD_SIDE_LEN - 2)
-	    if (MP_TYPE(x,y) == CST_GREEN
-		&& MP_TYPE(x + 1,y) == CST_GREEN
-		&& MP_TYPE(x,y + 1) == CST_GREEN
-		&& MP_TYPE(x + 1,y + 1) == CST_GREEN)
+	    if (GROUP_IS_BARE(MP_GROUP(x,y))
+		&& GROUP_IS_BARE(MP_GROUP(x + 1,y))
+		&& GROUP_IS_BARE(MP_GROUP(x,y + 1))
+		&& GROUP_IS_BARE(MP_GROUP(x + 1,y + 1)) )
 	      return (x + y * WORLD_SIDE_LEN);
 	}
       for (j = 0; j < i; j++)
@@ -834,10 +834,10 @@
 	  y--;
 	  if (x > 1 && x < WORLD_SIDE_LEN - 2 && y > 1
 	      && y < WORLD_SIDE_LEN - 2)
-	    if (MP_TYPE(x,y) == CST_GREEN
-		&& MP_TYPE(x + 1,y) == CST_GREEN
-		&& MP_TYPE(x,y + 1) == CST_GREEN
-		&& MP_TYPE(x + 1,y + 1) == CST_GREEN)
+	    if (GROUP_IS_BARE(MP_GROUP(x,y))
+		&& GROUP_IS_BARE(MP_GROUP(x + 1,y))
+		&& GROUP_IS_BARE(MP_GROUP(x,y + 1))
+		&& GROUP_IS_BARE(MP_GROUP(x + 1,y + 1)))
 	      return (x + y * WORLD_SIDE_LEN);
 	}
       i++;
@@ -846,10 +846,10 @@
 	  x++;
 	  if (x > 1 && x < WORLD_SIDE_LEN - 2 && y > 1
 	      && y < WORLD_SIDE_LEN - 2)
-	    if (MP_TYPE(x,y) == CST_GREEN
-		&& MP_TYPE(x + 1,y) == CST_GREEN
-		&& MP_TYPE(x,y + 1) == CST_GREEN
-		&& MP_TYPE(x + 1,y + 1) == CST_GREEN)
+	    if (GROUP_IS_BARE(MP_GROUP(x,y))
+		&& GROUP_IS_BARE(MP_GROUP(x + 1,y))
+		&& GROUP_IS_BARE(MP_GROUP(x,y + 1))
+		&& GROUP_IS_BARE(MP_GROUP(x + 1,y + 1)))
 	      return (x + y * WORLD_SIDE_LEN);
 	}
       for (j = 0; j < i; j++)
@@ -857,10 +857,10 @@
 	  y++;
 	  if (x > 1 && x < WORLD_SIDE_LEN - 2 && y > 1
 	      && y < WORLD_SIDE_LEN - 2)
-	    if (MP_TYPE(x,y) == CST_GREEN
-		&& MP_TYPE(x + 1,y) == CST_GREEN
-		&& MP_TYPE(x,y + 1) == CST_GREEN
-		&& MP_TYPE(x + 1,y + 1) == CST_GREEN)
+	    if (GROUP_IS_BARE(MP_GROUP(x,y))
+		&& GROUP_IS_BARE(MP_GROUP(x + 1,y))
+		&& GROUP_IS_BARE(MP_GROUP(x,y + 1))
+		&& GROUP_IS_BARE(MP_GROUP(x + 1,y + 1)))
 	      return (x + y * WORLD_SIDE_LEN);
 	}
     }

Modified: branches/waterwell/src/lincity/lctypes.h
===================================================================
--- branches/waterwell/src/lincity/lctypes.h	2007-04-03 18:07:27 UTC (rev 1171)
+++ branches/waterwell/src/lincity/lctypes.h	2007-04-04 17:38:51 UTC (rev 1172)
@@ -882,6 +882,15 @@
 #define CST_FARM_O16_G           "farm16.csi"
 #define LCT_FARM_O16_G           "farm16"
 
+#define CST_DESERT		350
+#define LCT_DESERT_G		"desert"
+#define CST_TREE		351
+#define LCT_TREE_G		"tree"
+#define CST_TREE2		352
+#define LCT_TREE2_G		"tree2"
+#define CST_TREE3		353
+#define LCT_TREE3_G		"tree3"
+
 #define CST_NONE 1000
 
 /*

Modified: branches/waterwell/src/lincity/lin-city.h
===================================================================
--- branches/waterwell/src/lincity/lin-city.h	2007-04-03 18:07:27 UTC (rev 1171)
+++ branches/waterwell/src/lincity/lin-city.h	2007-04-04 17:38:51 UTC (rev 1172)
@@ -1059,7 +1059,39 @@
 #define GROUP_WATERWELL_TECH      0
 #define GROUP_WATERWELL_FIREC 0
 
+#define GROUP_DESERT 	  42 
+#define GROUP_DESERT_COLOUR  (yellow(18))
+#define GROUP_DESERT_COST    0
+#define GROUP_DESERT_COST_MUL 1
+#define GROUP_DESERT_BUL_COST 1
+#define GROUP_DESERT_TECH    0
+#define GROUP_DESERT_FIREC   0
 
+#define GROUP_TREE 	   43
+#define GROUP_TREE_COLOUR  (green(12))
+#define GROUP_TREE_COST    0
+#define GROUP_TREE_COST_MUL 1
+#define GROUP_TREE_BUL_COST 1
+#define GROUP_TREE_TECH    0
+#define GROUP_TREE_FIREC   0
+
+#define GROUP_TREE2 	   44
+#define GROUP_TREE2_COLOUR  (green(12))
+#define GROUP_TREE2_COST    0
+#define GROUP_TREE2_COST_MUL 1
+#define GROUP_TREE2_BUL_COST 1
+#define GROUP_TREE2_TECH    0
+#define GROUP_TREE2_FIREC   0
+
+#define GROUP_TREE3 	   45
+#define GROUP_TREE3_COLOUR  (green(12))
+#define GROUP_TREE3_COST    0
+#define GROUP_TREE3_COST_MUL 1
+#define GROUP_TREE3_BUL_COST 1
+#define GROUP_TREE3_TECH    0
+#define GROUP_TREE3_FIREC   0
+
+
 #define GROUP_IS_TRANSPORT(group) \
             ((group == GROUP_TRACK) || \
              (group == GROUP_ROAD) || \
@@ -1074,6 +1106,13 @@
              (group == GROUP_RESIDENCE_MH) || \
              (group == GROUP_RESIDENCE_HH))
 
+#define GROUP_IS_BARE(group) \
+	    ((group == GROUP_BARE) || \
+	     (group == GROUP_DESERT) || \
+	     (group == GROUP_TREE) || \
+	     (group == GROUP_TREE2) || \
+	     (group == GROUP_TREE3))
+
 #define MOUSE_TYPE_NORMAL 1
 #define MOUSE_TYPE_SQUARE 2
 #define MOUSE_BUTTON_REPEAT 4

Modified: branches/waterwell/src/lincity/lintypes.cpp
===================================================================
--- branches/waterwell/src/lincity/lintypes.cpp	2007-04-03 18:07:27 UTC (rev 1171)
+++ branches/waterwell/src/lincity/lintypes.cpp	2007-04-04 17:38:51 UTC (rev 1172)
@@ -526,7 +526,59 @@
       GROUP_WATERWELL_COST,
       GROUP_WATERWELL_TECH
     },
+
     /* 42 */
+    { N_("Desert"),       	/* name */
+      FALSE,            	/* need credit? */
+      GROUP_DESERT,       	/* group number */
+      1,                	/* size */
+      GROUP_DESERT_COLOUR,      /* color */
+      GROUP_DESERT_COST_MUL,	/* cost multiplier */
+      GROUP_DESERT_BUL_COST,	/* bulldoze cost */
+      GROUP_DESERT_FIREC,	/* probability of fire */
+      GROUP_DESERT_COST,	/* cost */
+      GROUP_DESERT_TECH		/* tech */
+    },
+    /* 43 */
+    { N_("Tree"),       	/* name */
+      FALSE,            	/* need credit? */
+      GROUP_TREE,       	/* group number */
+      1,                	/* size */
+      GROUP_TREE_COLOUR,	/* color */
+      GROUP_TREE_COST_MUL,	/* cost multiplier */
+      GROUP_TREE_BUL_COST,	/* bulldoze cost */
+      GROUP_TREE_FIREC,		/* probability of fire */
+      GROUP_TREE_COST,		/* cost */
+      GROUP_TREE_TECH		/* tech */
+    },
+
+    /* 44 */
+    { N_("Trees"),       	/* name */
+      FALSE,            	/* need credit? */
+      GROUP_TREE2,       	/* group number */
+      1,                	/* size */
+      GROUP_TREE2_COLOUR,	/* color */
+      GROUP_TREE2_COST_MUL,	/* cost multiplier */
+      GROUP_TREE2_BUL_COST,	/* bulldoze cost */
+      GROUP_TREE2_FIREC,	/* probability of fire */
+      GROUP_TREE2_COST,		/* cost */
+      GROUP_TREE2_TECH		/* tech */
+    },
+
+    /* 45 */
+    { N_("Forest"),       	/* name */
+      FALSE,            	/* need credit? */
+      GROUP_TREE3,       	/* group number */
+      1,                	/* size */
+      GROUP_TREE3_COLOUR,	/* color */
+      GROUP_TREE3_COST_MUL,	/* cost multiplier */
+      GROUP_TREE3_BUL_COST,	/* bulldoze cost */
+      GROUP_TREE3_FIREC,	/* probability of fire */
+      GROUP_TREE3_COST,		/* cost */
+      GROUP_TREE3_TECH		/* tech */
+    },
+
+    /* 46 */
     /* End of Data */
     { "EOF",
       FALSE,                           /* need credit? */

Modified: branches/waterwell/src/lincity/lintypes.h
===================================================================
--- branches/waterwell/src/lincity/lintypes.h	2007-04-03 18:07:27 UTC (rev 1171)
+++ branches/waterwell/src/lincity/lintypes.h	2007-04-04 17:38:51 UTC (rev 1172)
@@ -14,7 +14,7 @@
 #endif
 
 #define NUM_OF_TYPES    400
-#define NUM_OF_GROUPS    43
+#define NUM_OF_GROUPS    47
 #define GROUP_NAME_LEN   20
 
 struct GROUP

Modified: branches/waterwell/src/lincity/modules/fire.cpp
===================================================================
--- branches/waterwell/src/lincity/modules/fire.cpp	2007-04-03 18:07:27 UTC (rev 1171)
+++ branches/waterwell/src/lincity/modules/fire.cpp	2007-04-04 17:38:51 UTC (rev 1172)
@@ -29,7 +29,7 @@
 	MP_INFO(x,y).int_4 = rand () % (AFTER_FIRE_LENGTH / 6);
       MP_INFO(x,y).int_4++;
       if (MP_INFO(x,y).int_4 > AFTER_FIRE_LENGTH)
-	do_bulldoze_area (CST_GREEN, x, y);
+	do_bulldoze_area (CST_DESERT, x, y);
       else if (MP_INFO(x,y).int_4 > (3 * AFTER_FIRE_LENGTH) / 4)
 	MP_TYPE(x,y) = CST_FIRE_DONE4;
       else if (MP_INFO(x,y).int_4 > (2 * AFTER_FIRE_LENGTH) / 4)

Modified: branches/waterwell/src/lincity/modules/tip.cpp
===================================================================
--- branches/waterwell/src/lincity/modules/tip.cpp	2007-04-03 18:07:27 UTC (rev 1171)
+++ branches/waterwell/src/lincity/modules/tip.cpp	2007-04-04 17:38:51 UTC (rev 1172)
@@ -28,7 +28,7 @@
   if (MP_TYPE(x,y) == CST_TIP_8) {
       MP_INFO(x,y).int_4++;
       if (MP_INFO(x,y).int_4 >= TIP_DEGRADE_TIME) {
-	  do_bulldoze_area(CST_GREEN,x,y);
+	  do_bulldoze_area(CST_DESERT,x,y);
       }
       return;
   }

Modified: branches/waterwell/src/lincity/simulate.cpp
===================================================================
--- branches/waterwell/src/lincity/simulate.cpp	2007-04-03 18:07:27 UTC (rev 1171)
+++ branches/waterwell/src/lincity/simulate.cpp	2007-04-04 17:38:51 UTC (rev 1172)
@@ -113,7 +113,7 @@
 	for (xx = 0; xx < WORLD_SIDE_LEN; xx++) {
 	    int x = mappoint_array_x[xx];
 	    short grp = MP_GROUP(x,y);
-	    if (grp == GROUP_USED || grp == GROUP_BARE)
+	    if (grp == GROUP_USED || GROUP_IS_BARE(grp))
 		continue;
 	    switch (grp) {
 	    case GROUP_TRACK:
@@ -424,7 +424,18 @@
     int x, y;
     for (y = 0; y < WORLD_SIDE_LEN; y++) {
 	for (x = 0; x < WORLD_SIDE_LEN; x++) {
-	    clear_mappoint (CST_GREEN, x, y);
+	    int r = rand () %5;
+	    if (r == 0)
+	    	clear_mappoint (CST_DESERT, x, y);
+	    else if (r == 1)
+	    	clear_mappoint (CST_GREEN, x, y);
+	    else if (r == 2)
+	    	clear_mappoint (CST_TREE, x, y);
+	    else if (r == 3)
+	    	clear_mappoint (CST_TREE2, x, y);
+	    else if (r == 4)
+	    	clear_mappoint (CST_TREE3, x, y);
+
 	    MP_POL(x,y) = 0;
 	}
     }
@@ -548,8 +559,8 @@
 	else if (r > 1)
 	    r = 1;
 	x += r;
-	if (MP_TYPE(x+(d+d),y) != 0
-	    || MP_TYPE(x+(d+d+d),y) != 0)
+	if (!GROUP_IS_BARE(MP_GROUP(x+(d+d),y))
+	    || !GROUP_IS_BARE(MP_GROUP(x+(d+d+d),y)) )
 	    return;
 	if (x > 5 && x < WORLD_SIDE_LEN - 5)
 	{
@@ -594,7 +605,7 @@
     for (y = 0; y < WORLD_SIDE_LEN; y++) {
 	for (x = 0; x < WORLD_SIDE_LEN; x++) {
 	    t = MP_TYPE(x,y);
-	    if (t != CST_USED && t != CST_GREEN) {
+	    if (t != CST_USED && !GROUP_IS_BARE(MP_GROUP(x,y)))  {
 		g = get_group_of_type(t);
 		group_count[g]++;
 	    }
@@ -625,7 +636,7 @@
 	} while (flag == 0 || (--watchdog) < 1);
 	for (y = yy + 4; y < yy + 22; y++)
 	    for (x = xx + 4; x < xx + 22; x++)
-		if (MP_GROUP(x,y) != GROUP_BARE) {
+		if ( !GROUP_IS_BARE(MP_GROUP(x,y)) ) {
 		    flag = 0;
 		    x = xx + 22;   /* break out of loop */
 		    y = yy + 22;   /* break out of loop */
@@ -774,7 +785,7 @@
   for (x = 0; x < WORLD_SIDE_LEN; x++)
     for (y = 0; y < WORLD_SIDE_LEN; y++)
       {
-	if (MP_GROUP(x,y) == GROUP_BARE
+	if (GROUP_IS_BARE(MP_GROUP(x,y))
 	    || MP_TYPE(x,y) == CST_USED
 	    || MP_GROUP(x,y) == GROUP_WATER
 	    || MP_GROUP(x,y) == GROUP_POWER_LINE

Modified: branches/waterwell/src/lincity-ng/GameView.cpp
===================================================================
--- branches/waterwell/src/lincity-ng/GameView.cpp	2007-04-03 18:07:27 UTC (rev 1171)
+++ branches/waterwell/src/lincity-ng/GameView.cpp	2007-04-04 17:38:51 UTC (rev 1172)
@@ -481,6 +481,10 @@
            -e 's/"/.png" );/2'                 
    */
    preReadCityTexture( CST_GREEN, 	"green.png" );
+   preReadCityTexture( CST_DESERT, 	"desert.png" );
+   preReadCityTexture( CST_TREE, 	"tree.png" );
+   preReadCityTexture( CST_TREE2, 	"tree2.png" );
+   preReadCityTexture( CST_TREE3, 	"tree3.png" );
    preReadCityTexture( CST_POWERL_H_L, "powerlhl.png" );
    preReadCityTexture( CST_POWERL_V_L,  	"powerlvl.png" );
    preReadCityTexture( CST_POWERL_LD_L, 	"powerlldl.png" );
@@ -1365,7 +1369,7 @@
         } else {
             for( y = (int) tile.y; y < tile.y + cursorSize; y++ ) {
                 for( x = (int) tile.x; x < tile.x + cursorSize; x++ ) {
-                    if( MP_TYPE( x, y ) != CST_GREEN ) {
+                    if( MP_TYPE( x, y ) != CST_DESERT ) {
                         painter.setFillColor( alphared );
                         y += cursorSize;
                         break;

Modified: branches/waterwell/src/lincity-ng/MapEdit.cpp
===================================================================
--- branches/waterwell/src/lincity-ng/MapEdit.cpp	2007-04-03 18:07:27 UTC (rev 1171)
+++ branches/waterwell/src/lincity-ng/MapEdit.cpp	2007-04-04 17:38:51 UTC (rev 1172)
@@ -99,8 +99,8 @@
 void
 check_bulldoze_area (int x, int y)
 {
-    //no need to bulldoze grass
-    if( MP_TYPE( x, y ) == CST_GREEN ) 
+    //no need to bulldoze desert
+    if( MP_TYPE( x, y ) == CST_DESERT ) 
         return;
     
   int xx, yy, g;
@@ -192,7 +192,7 @@
     /* Bring up mappoint_stats for certain left mouse clicks */
     /* Check market and port double-clicks here */
     /* Check rocket launches */
-    if( MP_TYPE( x,y ) != CST_GREEN ) {
+    if( !GROUP_IS_BARE(MP_GROUP( x,y )) ) {
         if(mapMPS)
             mapMPS->playBuildingSound( mod_x, mod_y );
         mps_result = mps_set( mod_x, mod_y, MPS_MAP ); //query Tool
@@ -261,27 +261,27 @@
         return;
     
     if (size >= 2) {
-        if (MP_TYPE(x + 1,y) != CST_GREEN
-            || MP_TYPE(x,y + 1) != CST_GREEN
-            || MP_TYPE(x + 1,y + 1) != CST_GREEN)
+        if (!GROUP_IS_BARE(MP_GROUP(x + 1,y))
+            || !GROUP_IS_BARE(MP_GROUP(x,y + 1))
+            || !GROUP_IS_BARE(MP_GROUP(x + 1,y + 1)))
             return;
     }
     if (size >= 3) {
-        if (MP_TYPE(x + 2,y) != CST_GREEN
-            || MP_TYPE(x + 2,y + 1) != CST_GREEN
-            || MP_TYPE(x + 2,y + 2) != CST_GREEN
-            || MP_TYPE(x + 1,y + 2) != CST_GREEN
-            || MP_TYPE(x,y + 2) != CST_GREEN)
+        if (!GROUP_IS_BARE(MP_GROUP(x + 2,y))
+            || !GROUP_IS_BARE(MP_GROUP(x + 2,y + 1))
+            || !GROUP_IS_BARE(MP_GROUP(x + 2,y + 2))
+            || !GROUP_IS_BARE(MP_GROUP(x + 1,y + 2))
+            || !GROUP_IS_BARE(MP_GROUP(x,y + 2)))
             return;
     }
     if (size == 4) {
-        if (MP_TYPE(x + 3,y) != CST_GREEN
-            || MP_TYPE(x + 3,y + 1) != CST_GREEN
-            || MP_TYPE(x + 3,y + 2) != CST_GREEN
-            || MP_TYPE(x + 3,y + 3) != CST_GREEN
-            || MP_TYPE(x + 2,y + 3) != CST_GREEN
-            || MP_TYPE(x + 1,y + 3) != CST_GREEN
-            || MP_TYPE(x,y + 3) != CST_GREEN)
+        if (!GROUP_IS_BARE(MP_GROUP(x + 3,y))
+            || !GROUP_IS_BARE(MP_GROUP(x + 3,y + 1))
+            || !GROUP_IS_BARE(MP_GROUP(x + 3,y + 2))
+            || !GROUP_IS_BARE(MP_GROUP(x + 3,y + 3))
+            || !GROUP_IS_BARE(MP_GROUP(x + 2,y + 3))
+            || !GROUP_IS_BARE(MP_GROUP(x + 1,y + 3))
+            || !GROUP_IS_BARE(MP_GROUP(x,y + 3)))
             return;
     }
     

Modified: branches/waterwell/src/lincity-ng/Mps.cpp
===================================================================
--- branches/waterwell/src/lincity-ng/Mps.cpp	2007-04-03 18:07:27 UTC (rev 1171)
+++ branches/waterwell/src/lincity-ng/Mps.cpp	2007-04-04 17:38:51 UTC (rev 1172)
@@ -272,7 +272,7 @@
             getSound()->playSound( "Shanty" );
             break;
         default: 
-            if( MP_TYPE( mps_x, mps_y ) == CST_GREEN ){
+            if( GROUP_IS_BARE(MP_GROUP( mps_x, mps_y )) && (MP_GROUP( mps_x, mps_y) != CST_DESERT )){
                 getSound()->playSound( "Green" );
             }  
             if( MP_TYPE( mps_x, mps_y ) == CST_PARKLAND_PLANE ){

Modified: branches/waterwell/src/lincity-ng/MpsInterface.cpp
===================================================================
--- branches/waterwell/src/lincity-ng/MpsInterface.cpp	2007-04-03 18:07:27 UTC (rev 1171)
+++ branches/waterwell/src/lincity-ng/MpsInterface.cpp	2007-04-04 17:38:51 UTC (rev 1172)
@@ -223,7 +223,7 @@
                     }
                     mps_store_title(0, 
                             _(main_groups[MP_GROUP(mps_x, mps_y)].name));
-                    if( MP_TYPE( mps_x, mps_y ) == CST_GREEN ){
+                    if( GROUP_IS_BARE(MP_GROUP( mps_x, mps_y )) ){
                         mps_store_title(4,_("build something here") );
                     }
                     mps_store_title(2, _("no further information available") );

Modified: branches/waterwell/src/lincity-ng/ReadPngInterface.cpp
===================================================================
--- branches/waterwell/src/lincity-ng/ReadPngInterface.cpp	2007-04-03 18:07:27 UTC (rev 1171)
+++ branches/waterwell/src/lincity-ng/ReadPngInterface.cpp	2007-04-04 17:38:51 UTC (rev 1172)
@@ -349,6 +349,11 @@
     LG(CST_TIP_7,GROUP_TIP,LCT_TIP_7_G);
     LG(CST_TIP_8,GROUP_TIP,LCT_TIP_8_G);
 
+    LG(CST_DESERT,GROUP_DESERT,LCT_DESERT_G);
+    LG(CST_TREE,GROUP_TREE,LCT_TREE_G);
+    LG(CST_TREE2,GROUP_TREE2,LCT_TREE2_G);
+    LG(CST_TREE3,GROUP_TREE3,LCT_TREE3_G);
+
     return 0;
 }
 



From alainb at mail.berlios.de  Wed Apr  4 19:44:42 2007
From: alainb at mail.berlios.de (alainb at BerliOS)
Date: Wed, 4 Apr 2007 19:44:42 +0200
Subject: [Lincity-ng-commit] r1173 - branches/waterwell
Message-ID: <200704041744.l34Hig9v013886@sheep.berlios.de>

Author: alainb
Date: 2007-04-04 19:44:42 +0200 (Wed, 04 Apr 2007)
New Revision: 1173

Modified:
   branches/waterwell/README-TODO-WaterWell
Log:
No more empty land. Now have random desert/green/tree/tree2/tree3
Bulldoze makes desert.

Modified: branches/waterwell/README-TODO-WaterWell
===================================================================
--- branches/waterwell/README-TODO-WaterWell	2007-04-04 17:38:51 UTC (rev 1172)
+++ branches/waterwell/README-TODO-WaterWell	2007-04-04 17:44:42 UTC (rev 1173)
@@ -14,6 +14,7 @@
  -help (en), info with query tool and in residences.
  -residence need water like food. Lack of water has the same consequences as lack of food.
  -random village has a water well.
+ -random terrain instead of uniform empty green land.
 
 TODO: 
 -----



From alainb at mail.berlios.de  Fri Apr  6 18:52:43 2007
From: alainb at mail.berlios.de (alainb at BerliOS)
Date: Fri, 6 Apr 2007 18:52:43 +0200
Subject: [Lincity-ng-commit] r1174 - in branches/waterwell: . src/lincity
Message-ID: <200704061652.l36Gqhm9009943@sheep.berlios.de>

Author: alainb
Date: 2007-04-06 18:52:38 +0200 (Fri, 06 Apr 2007)
New Revision: 1174

Modified:
   branches/waterwell/README-TODO-WaterWell
   branches/waterwell/src/lincity/simulate.cpp
Log:
setup_land : empty terrain initialisation depends on distance to water.


Modified: branches/waterwell/README-TODO-WaterWell
===================================================================
--- branches/waterwell/README-TODO-WaterWell	2007-04-04 17:44:42 UTC (rev 1173)
+++ branches/waterwell/README-TODO-WaterWell	2007-04-06 16:52:38 UTC (rev 1174)
@@ -9,12 +9,13 @@
 
 WIP:
 ----
-Rev 1170: basic water management implemented:
+1170: basic water management implemented:
  -icon, tile (hmmm, must be redrawn by someone competent)
  -help (en), info with query tool and in residences.
  -residence need water like food. Lack of water has the same consequences as lack of food.
  -random village has a water well.
- -random terrain instead of uniform empty green land.
+1174:
+ -not-so-random terrain depending on distance to water (instead of uniform empty green land.)
 
 TODO: 
 -----
@@ -38,7 +39,7 @@
   - residences, farms and industries can pollute water.
   - park along a river or around a well will also reduce the pollution.
   - pollution transported by river will follow the flow, so travel toward the bottom
-      of the map (y++) (roughtly opposite of win direction :-)
+      of the map (y++) (roughtly opposite of wind direction :-)
 
 * think of how to import existing games without killing all population by thirstyness.
   (maybe just add a new version to check at load time if water management should be enabled)

Modified: branches/waterwell/src/lincity/simulate.cpp
===================================================================
--- branches/waterwell/src/lincity/simulate.cpp	2007-04-04 17:44:42 UTC (rev 1173)
+++ branches/waterwell/src/lincity/simulate.cpp	2007-04-06 16:52:38 UTC (rev 1174)
@@ -49,6 +49,7 @@
 static void random_start (int* originx, int* originy);
 static void simulate_mappoints (void);
 static void quick_start_add (int x, int y, short type, int size);
+static void setup_land (void);
 
 /* ---------------------------------------------------------------------- *
  * Public Functions
@@ -424,18 +425,7 @@
     int x, y;
     for (y = 0; y < WORLD_SIDE_LEN; y++) {
 	for (x = 0; x < WORLD_SIDE_LEN; x++) {
-	    int r = rand () %5;
-	    if (r == 0)
-	    	clear_mappoint (CST_DESERT, x, y);
-	    else if (r == 1)
-	    	clear_mappoint (CST_GREEN, x, y);
-	    else if (r == 2)
-	    	clear_mappoint (CST_TREE, x, y);
-	    else if (r == 3)
-	    	clear_mappoint (CST_TREE2, x, y);
-	    else if (r == 4)
-	    	clear_mappoint (CST_TREE3, x, y);
-
+	    clear_mappoint (CST_GREEN, x, y);
 	    MP_POL(x,y) = 0;
 	}
     }
@@ -461,6 +451,7 @@
     clear_game ();
     coal_reserve_setup ();
     setup_river ();
+    setup_land ();
     ore_reserve_setup ();
     init_pbars ();
 
@@ -516,7 +507,7 @@
 setup_river (void)
 {
     int x, y, i, j;
-    x = WORLD_SIDE_LEN / 2;
+    x = (1 * WORLD_SIDE_LEN  + rand () % WORLD_SIDE_LEN) / 3 ;
     y = WORLD_SIDE_LEN - 1;
     i = (rand () % 12) + 6;
     for (j = 0; j < i; j++) {
@@ -583,6 +574,80 @@
     }
 }
 
+void
+setup_land (void)
+{
+  int x, y, xw, yw;
+  for (y = 0; y < WORLD_SIDE_LEN; y++) {
+	for (x = 0; x < WORLD_SIDE_LEN; x++) {
+	    int d2w_min = 2 * WORLD_SIDE_LEN * WORLD_SIDE_LEN;
+	    int r;
+	    if (MP_GROUP(x,y) == GROUP_WATER)
+		continue;
+
+  	    for (yw = 0; yw < WORLD_SIDE_LEN; yw++) {
+		for (xw = 0; xw < WORLD_SIDE_LEN; xw++) {
+			int d2w;
+			if (MP_GROUP(xw,yw) != GROUP_WATER)
+				continue;
+			d2w = (xw-x)*(xw-x) + (yw-y)*(yw-y);
+			if (d2w < d2w_min)
+				d2w_min = d2w;
+		}
+	    }
+  	    /* Store square of distance to water for each tile */
+	    /* MP_DIST2WATER(x,y) = d2w_min; */
+
+	    r = rand () % (d2w_min/3 + 60);
+	    if (r >= 160) {
+	    	int r2 = rand() % 5;
+		if (r2 <= 1)
+	    		clear_mappoint (CST_DESERT, x, y);
+		else if (r2 <= 3)
+	    		clear_mappoint (CST_GREEN, x, y);
+		else 
+	    		clear_mappoint (CST_TREE, x, y);
+
+	    } else if (r >= 80) {
+	    	int r2 = rand() % 5;
+		if (r2 == 0)
+	    		clear_mappoint (CST_DESERT, x, y);
+		else if (r2 <= 2)
+	    		clear_mappoint (CST_GREEN, x, y);
+		else if (r2 == 3)
+	    		clear_mappoint (CST_TREE, x, y);
+		else
+	    		clear_mappoint (CST_TREE2, x, y);
+
+	    } else if (r >= 40) {
+	    	int r2 = rand() % 20;
+		if (r2 <= 1)
+	    		clear_mappoint (CST_DESERT, x, y);
+		else if (r2 <= 5)
+	    		clear_mappoint (CST_GREEN, x, y);
+		else if (r2 <= 10)
+	    		clear_mappoint (CST_TREE, x, y);
+		else if (r2 <= 15)
+			clear_mappoint (CST_TREE2, x, y);
+		else
+			clear_mappoint (CST_TREE3, x, y);
+	    } else {
+	    	int r2 = rand() % 40;
+		if (r2 <= 2)
+	    		clear_mappoint (CST_GREEN, x, y);
+		else if (r2 <= 10)
+	    		clear_mappoint (CST_TREE, x, y);
+		else if (r2 <= 25)
+			clear_mappoint (CST_TREE2, x, y);
+		else
+			clear_mappoint (CST_TREE3, x, y);
+	    }
+
+	    MP_POL(x,y) = 0;
+	}
+    }
+}
+
 int
 count_groups (int g)
 {



From wolfgangb at mail.berlios.de  Thu Apr 12 20:45:25 2007
From: wolfgangb at mail.berlios.de (wolfgangb at BerliOS)
Date: Thu, 12 Apr 2007 20:45:25 +0200
Subject: [Lincity-ng-commit] r1175 - in trunk/data: help/nl locale/gui
Message-ID: <200704121845.l3CIjPt9024384@sheep.berlios.de>

Author: wolfgangb
Date: 2007-04-12 20:45:23 +0200 (Thu, 12 Apr 2007)
New Revision: 1175

Added:
   trunk/data/help/nl/tutorial-advanced.xml
   trunk/data/help/nl/tutorial-aim.xml
   trunk/data/help/nl/tutorial-basics.xml
   trunk/data/help/nl/tutorial-overview.xml
   trunk/data/help/nl/tutorial-scenario.xml
   trunk/data/help/nl/tutorial.xml
Modified:
   trunk/data/help/nl/commune.xml
   trunk/data/help/nl/dialogs.xml
   trunk/data/help/nl/finance.xml
   trunk/data/help/nl/help.xml
   trunk/data/help/nl/housing.xml
   trunk/data/help/nl/index.xml
   trunk/data/help/nl/market.xml
   trunk/data/help/nl/mini-screen.xml
   trunk/data/help/nl/msb-transport.xml
   trunk/data/help/nl/pbar.xml
   trunk/data/help/nl/river.xml
   trunk/data/help/nl/sustain.xml
   trunk/data/help/nl/tech-level.xml
   trunk/data/locale/gui/nl.po
Log:
Update of Dutch translation by Ronald Stroethoff.


Modified: trunk/data/help/nl/commune.xml
===================================================================
--- trunk/data/help/nl/commune.xml	2007-04-06 16:52:38 UTC (rev 1174)
+++ trunk/data/help/nl/commune.xml	2007-04-12 18:45:23 UTC (rev 1175)
@@ -15,6 +15,6 @@
 	<li><a href="pottery">Pottenbakkerij</a></li>
 	<li><a href="blacksmith">Smidse</a></li>
 	<li><a href="mill">Textielfabriek</a></li>
-	<li><a href="oremine">IJzerertsmijn<a></li>
-	<li><a href="steel">Staal<a></li>
+	<li><a href="oremine">IJzerertsmijn</a></li>
+	<li><a href="steel">Staal</a></li>
 </Document>

Modified: trunk/data/help/nl/dialogs.xml
===================================================================
--- trunk/data/help/nl/dialogs.xml	2007-04-06 16:52:38 UTC (rev 1174)
+++ trunk/data/help/nl/dialogs.xml	2007-04-12 18:45:23 UTC (rev 1175)
@@ -1,14 +1,15 @@
 <?xml version="1.0" encoding="utf-8"?>
 <Document style="helpdocument">
-	<p style="htitle">Dialogvenster help</p>
-	   <p>Map-Tab</p>
-    <li><a href="mini-screen">Minikaart</a></li>
-<p>Stats-Tab</p>	
-    <li><a href="pbar">PBar</a></li>
- <p>$-Tab</p>
-	<li><a href="finance">Financi?le venster</a></li>
-	<li><a href="housing">Bevolkingskosten venster</a></li>
-<p>Eco-Tab</p>
-	<li><a href="economy">Economische grafieken</a></li>
-	<li><a href="sustain">Duurzaamheid voortgansvenster</a></li>
-</Document>
+	<p style="htitle">Informatie Tabs help</p>
+	<p>Map-Tab</p>
+		<li><a href="mini-screen">Minikaart</a></li>
+	<p>Stats-Tab</p>	
+		<li><a href="pbar">PBar</a></li>
+ 	<p>$-Tab</p>
+		<li><a href="finance">Financi?le venster</a></li>
+		<li><a href="other-costs">Overige kosten venster</a></li>
+		<li><a href="housing">Bevolkingskosten venster</a></li>
+	<p>Eco-Tab</p>
+		<li><a href="economy">Economische grafieken</a></li>
+		<li><a href="sustain">Duurzaamheid voortgansvenster</a></li>
+</Document>
\ No newline at end of file

Modified: trunk/data/help/nl/finance.xml
===================================================================
--- trunk/data/help/nl/finance.xml	2007-04-06 16:52:38 UTC (rev 1174)
+++ trunk/data/help/nl/finance.xml	2007-04-12 18:45:23 UTC (rev 1175)
@@ -3,7 +3,7 @@
 	<p style="htitle">Financi?le venster</p>
 	<p style="hp">Dit is het financi?le venster</p>
 	<p style="hp">Dit venster wordt elk jaar op 1 januari ge?pdated. De grafieken onder 'inkomsten' en 'uitgaven' laten uw inkomsten en uitgaven zien voor het afgelopen jaar.</p>
-	<p style="hp">De 'Tot' grafiek is de hoevelheid geld op uw bankrekening. <!--Waarom staat dit hier?-->Er zijn verschillende zaken die u kunt doen als u in het rood staat.</p>
+	<p style="hp">De 'Tot' grafiek is de hoevelheid geld op uw bankrekening.</p>
 	<p style="hp">De betekenissen van de afkortingen:</p>
 	<p style="hp">Inkomsten:</p>
 	<li>IT = Inkomstenbelasting.</li>

Modified: trunk/data/help/nl/help.xml
===================================================================
--- trunk/data/help/nl/help.xml	2007-04-06 16:52:38 UTC (rev 1174)
+++ trunk/data/help/nl/help.xml	2007-04-12 18:45:23 UTC (rev 1175)
@@ -1,16 +1,15 @@
 <?xml version="1.0" encoding="utf-8"?>
 <Document style="helpdocument">
 	<p style="htitle">Lincity Help</p>
-	<p style="hp">Dit is het lincity-help systeem. Kies een onderwerp door te klikken op een van de blauwe woorden hieronder.</p>
-
+	<p style="hp">Dit is het lincity-help systeem. Kies een onderwerp door te klikken op een van de blauwe woorden hieronder.Gebruik de pijl linksboven om terug tegaan naar de vorige help-pagina</p>
+	<p style="hp">Terwijl het spel wordt gespeeld, kan er context-gekoppelde help worden gekregen via de help-knop, of door rechtsklikken op een icoon in de lijst linksboven.</p>
+	
 	<li><a href="keys">Toetsenbord commandos</a></li>
 	<li><a href="button-index">Lijst van alle gebouwen</a></li>
 	<li><a href="mini-screen">Help over de minikaart</a></li>
 	<li><a href="dialogs">Help over de informatie kaartjes</a></li>
-	<p style="hp">Terwijl het spel wordt gespeeld, kan er kontext-gekoppelde help worden gekregen via de help-knop.</p>
 	<li><a href="index">Index</a></li>
 	
 	<p style="htitle">Doel van het spel</p>
 	<p style="hp">U heeft in Lincity gewonnen door een <a href="sustain">duurzame economie </a> te bouwen of door alle inwoners te evacueren met <a href="rocket">raketten</a>.</p>
-    <li><a href="index">Index</a></li>
 </Document>
\ No newline at end of file

Modified: trunk/data/help/nl/housing.xml
===================================================================
--- trunk/data/help/nl/housing.xml	2007-04-06 16:52:38 UTC (rev 1174)
+++ trunk/data/help/nl/housing.xml	2007-04-12 18:45:23 UTC (rev 1175)
@@ -4,7 +4,7 @@
 	<p style="hp">Dit is het bevolkingskosten venster.</p>
 	<p style="hp">Dit venster laat 9 statistieken zien:</p>
 	<li>1.  Pop - dit laat Uw totaal aantal inwoners zien. Dit houdt geen rekening met daklozen</li>
-	<li>2.  Gehuisd - dit toont het totaal aantal mensen die in de woonwijken van Uw stad leven.</li>
+	<li>2.  Behuist - dit toont het totaal aantal mensen die in de woonwijken van Uw stad leven.</li>
 	<li>3.  Daklozen - dit toont het aantal mensen die dakloos zijn.</li>
 	<li>4.  Krottenwijken - dit laat het aantal krottenwijken in uw stad zien</li>
 	<li>5.  Onnatuurlijke doden - dit laat het aantal onnatuurlijke doden van de laatste maand zien die verhongerd zijn of gestorven aan de vervuiling</li>

Modified: trunk/data/help/nl/index.xml
===================================================================
--- trunk/data/help/nl/index.xml	2007-04-06 16:52:38 UTC (rev 1174)
+++ trunk/data/help/nl/index.xml	2007-04-12 18:45:23 UTC (rev 1175)
@@ -10,6 +10,7 @@
 <li><a href="commune">Communie</a></li>
 <li><a href="dialogs">Dialogvenster</a></li>
 <li><a href="other-costs">Diverse kosten</a></li>
+<li><a href="tutorial-aim">Doel van het spel</a></li>
 <li><a href="sustain">Duurzaamheid venster</a></li>
 <li><a href="economy">Economische grafieken</a></li>
 <li><a href="powerline">Electriciteitsdraad</a></li>
@@ -32,6 +33,7 @@
 <li><a href="keys">Muis</a></li>
 <li><a href="msb-normal">Normale landkaart</a></li>
 <li><a href="medium">Normale snelheid</a></li>
+<li><a href="tutorial-overview">Overzicht van het scherm</a></li>
 <li><a href="park">Park</a></li>
 <li><a href="pause">Pauzeknop</a></li>
 <li><a href="pbar">PBar</a></li>
@@ -53,12 +55,16 @@
 <li><a href="mill">Textielfabriek</a></li>
 <li><a href="keys">Toetsenbord</a></li>
 <li><a href="substation">Transformatorhuisje</a></li>
+<li><a href="tutorial">Tutorial</a></li>
+<li><a href="tutorial-basics">Tutorial voor beginners</a></li>
+<li><a href="tutorial-advanced">Tutorial voor gevorderden</a></li>
 <li><a href="university">Universiteit</a></li>
 <li><a href="transport">Verkeer</a></li>
 <li><a href="msb-transport">Verkeerskaart</a></li>
 <li><a href="pollution">Vervuiling</a></li>
 <li><a href="msb-pol">Vervuilings kaart</a></li>
 <li><a href="food">Voedsel</a></li>
+<li><a href="tutorial-scenario">Voor gedefineerde landschappen</a></li>
 <li><a href="tip">Vuilstort (vuilnis)</a></li>
 <li><a href="msb-health">Welzijns kaart</a></li>
 <li><a href="jobs">Werk</a></li>

Modified: trunk/data/help/nl/market.xml
===================================================================
--- trunk/data/help/nl/market.xml	2007-04-06 16:52:38 UTC (rev 1174)
+++ trunk/data/help/nl/market.xml	2007-04-12 18:45:23 UTC (rev 1175)
@@ -1,9 +1,23 @@
 <?xml version="1.0"?>
 <Document style="helpdocument">
 	<p style="htitle">Markt</p>
-	<p style="hp">Markt is mogelijk een slechte naam voor deze gebieden. Ze zijn meer zoals uitzendburo's, winkels, warenhuizen en markten ineens. Ze kopen en verkopen voedsel, werk, steenkool, goederen, ijzererts, en staal aan de omliggende gebieden en aan het verkeer. Voorbeeld: een woonwijk levert goederen aan een markt, en die markt verkoopt het werk aan een monument in aanbouw. <b>Opgelet!</b>, de woonwijken worden niet gevoed als de markten op de grens van het bereik ligt. <!-- Klopt dit wel?<b>NOTE</b>, the residents are not being fe if the areas are more or less at the extent of their range.--></p>
-	<p style="hsubtitle">Controlleer wat markten kopen en verkopen</p>
+	
+	<p style="hp">De markt is een belangrijk gebouw in Lincity.</p>
+	<p style="hp">Markt is mogelijk een slechte naam voor deze gebieden. Ze zijn meer zoals uitzendburo's, winkels, warenhuizen en markten ineens. Ze kopen en verkopen voedsel, werk, steenkool, goederen, ijzererts, en staal aan de omliggende gebieden en aan het verkeer.</p>
+ 
+	<p style="hp"><b>Binnen het bereik </b>van een markt kan alles geruild worden <b>zonder gebruik te maken van verkeer</b>, behalve wanneer dat duidelijk is aangegeven. Gebruik de <a href="msb-transport">Verkeer en markt overlay </a> om te controleren of een gebouw binnen het bereik van een markt is.</p>
+	<li>Mensen kunnen voedsel, goederen en werk krijgen op markten binnen loopafstand van hun woonwijk.</li>
+	<li>Alle gebieden die werk (werknemers) nodig hebben, krijgen die van markten.</li>
+	<li>Boerderijen kunnen hun geproduceerde voedsel direkt op de markt verkopen.</li>
+	<li>Textielfabrieken, pottenbakkerijen en smederijen verkopen hun spullen direct op de dichtsbijzijnde markt, ze krijgen ook hun grondstoffen van dezelfde markt.</li>
+	<p style="hp">Als er geen markt in de buurt is, dan moeten deze gebouwen verbinding hebben met <a href="transport">verkeer</a>.</p>
+	<p style="hp">Rechtsonder, onder de tweede knop van het mini-venster is een overzicht zien van <b>alle marktvoorraden</b>,ook is te zien hoe dit verandert via een progres bar. Samen met de kleine kaartjes (kleine icoontjes onder het minivenster) zal het veel helpen inzicht te krijgen in de veranderingen van grondstoffen (voedsel, werk...).</p>
+		 
+	<p style="hp">Binnen het bereik van een markt of kan alles geruild worden <b>zonder gebruik te maken van verkeer</b>, behalve wanneer dat duidelijk is aangegeven. Rechtsonder is het kleine icoontje "verkeer kaart", op deze kaart is te zie  hoeveel verkeer er is en in het blauw wat het bereik van is van een markt. Controleer hier of een gebouw binnen het bereik van een markt is.Deze informatie kan ook op het grote scherm getoond worden door op het grote overlay icoon te klikken of door de "V"-toets in te drukken.</p>
+	
+	<p style="hsubtitle">Controleer wat markten kopen en verkopen</p>
 	<p style="hp">U kan de werking van de markt bepalen door selectie's te maken van wat kan worden gekocht en verkocht van het verkeer. Klik twee keer op een markt (niet de selecteer-knop) en linksboven komt een scherm zichtbaar waarmee bepaalt kan worden wat wordt verhandeld. Standaard wordt alles verhandeld.</p>
+	
 	<p style="hp">Dit is een markt</p>
 	<img src="images/tiles/market-empty.png" halign="center"/>
 	<p style="hp">en dit is het icoontje</p>
@@ -23,4 +37,4 @@
 	<li><a href="ore">IJzererts</a></li>
 	<li><a href="steel">Staal</a></li>
 	<li><a href="transport">Verkeer</a></li>
-</Document>
\ No newline at end of file
+</Document>

Modified: trunk/data/help/nl/mini-screen.xml
===================================================================
--- trunk/data/help/nl/mini-screen.xml	2007-04-06 16:52:38 UTC (rev 1174)
+++ trunk/data/help/nl/mini-screen.xml	2007-04-12 18:45:23 UTC (rev 1175)
@@ -2,8 +2,9 @@
 <Document style="helpdocument">
 	<p style="htitle">Minikaart</p>
 	<p style="hp">De minikaart laat op schaal het hele gebied zien waar u op aan het spelen bent. De knoppen eronder zullen als u er op klikt informatie laten zien over oa. de vervuiling over u gebied.</p>
-	<p style="hp">Klik op de links hieronder om meer informatie te zien over elk van deze knoppen.</p>
+	<p style="hp">Rechtsklikken op een van de knoppen onder de minikaart laat de bijbehorende help-pagina zien.</p>
 	<p style="hp">De witte rechthoek laat het gebied zien dat u kunt zien in het hoofdscherm.</p>
+	<p style="hp">De grote knopThe big button "overlay" toont de inhoud van de minikaart op het grote scherm</p>
 	
 	<p style="hsubtitle">Lees ook:</p>
 	<li><a href="msb-coal">Steenkoolkaart</a></li>
@@ -12,6 +13,7 @@
 	<li><a href="msb-health">Welzijnskaart</a></li>
 	<li><a href="msb-normal">Normale kaart</a></li>
 	<li><a href="msb-pol">Vervuilingskaart</a></li>
+	<li><a href="msb-transport">Verkeerskaart</a></li>
 	<li><a href="msb-power">Energiekaart</a></li>
 	<li><a href="msb-starve">Sterftekaart</a></li>
 	<li><a href="msb-ub40">Werkloosheidskaart</a></li>

Modified: trunk/data/help/nl/msb-transport.xml
===================================================================
--- trunk/data/help/nl/msb-transport.xml	2007-04-06 16:52:38 UTC (rev 1174)
+++ trunk/data/help/nl/msb-transport.xml	2007-04-12 18:45:23 UTC (rev 1175)
@@ -14,7 +14,7 @@
 	<li><a href="msb-fire">Brandkaart</a></li>
 	<li><a href="msb-health">Welzijnskaart</a></li>
 	<li><a href="msb-normal">Normale kaart</a></li>
-	<li><a href="msb-pol">Vervuilingskaart</a></li
+	<li><a href="msb-pol">Vervuilingskaart</a></li>
 	<li><a href="msb-power">Energiekaart</a></li>
 	<li><a href="msb-starve">Sterftekaart</a></li>
 	<li><a href="msb-ub40">Werkloosheidskaart</a></li>

Modified: trunk/data/help/nl/pbar.xml
===================================================================
--- trunk/data/help/nl/pbar.xml	2007-04-06 16:52:38 UTC (rev 1174)
+++ trunk/data/help/nl/pbar.xml	2007-04-12 18:45:23 UTC (rev 1175)
@@ -1,7 +1,7 @@
 <?xml version="1.0"?>
 <Document style="helpdocument">
 	<p style="htitle">PBar</p>
-	<p style="hp">Deze indicator wordt de pbar genoemd. Het laat de hoeveelheidswijziging zien van zaken die worden opgeslagen in markten.</p>
-	<p style="hp">Een groene balk rechts duidt een verhoging aan. Een rode balk links duidt een vermindering aan. De grootte van de balk laat de grootte van de wijziging zien.</p>
+	<p style="hp">Dit is de tweede tab van het minivensterThis is the second tab of the miniwindow</p>
+	<p style="hp">Het toont de totale voorrad op alle markten samen zien, en hoe dat verandert.</p>
 	<p style="hp">Het getal rechts duidt de totale hoeveelheid aan.</p>
 </Document>

Modified: trunk/data/help/nl/river.xml
===================================================================
--- trunk/data/help/nl/river.xml	2007-04-06 16:52:38 UTC (rev 1174)
+++ trunk/data/help/nl/river.xml	2007-04-12 18:45:23 UTC (rev 1175)
@@ -2,7 +2,7 @@
 <Document style="helpdocument">
 	<p style="htitle">Rivieren/Water</p>
 	<p style="hp">Rivieren zijn er voornamelijk om in de weg te zitten als obstakel.Het is erg duur om een brug overheen te bouwen, om ze te graven en om ze te slopen (vullen met aarde). Het <i>enige nut</i> van rivieren is dat havens aan een rivier moet liggen.</p>
-	<p style="hp">Er zijn twee soorten water. Meren zijn water dat <b>niet<b/> is verbonden met een rivier, een rivier is water dat wel <b>is<b/> verbonden met een rivier. Al het water bij de start van het spel is rivier . Bijvoorbeeld, wanneer een ijzerertsmijn leeg raakt en naast een rivier ligt, wordt het ook een stukje rivier, in alle andere gevallen is het gewoon een meer. </p>
+	<p style="hp">Er zijn twee soorten water. Meren zijn water dat <b>niet</b> is verbonden met een rivier, een rivier is water dat wel <b>is</b> verbonden met een rivier. Al het water bij de start van het spel is rivier . Bijvoorbeeld, wanneer een ijzerertsmijn leeg raakt en naast een rivier ligt, wordt het ook een stukje rivier, in alle andere gevallen is het gewoon een meer. </p>
 	<p style="hp">Als u een stuk rivier sloopt om een route te maken voor, zeg, een (spoor)weg, bouwt u een peiler van een brug. Beide zijdes van uw brugpeiler zijn nog steeds een gedeelte van de rivier, U zult daarom een dam moeten aanleggen van kant tot kant. Dit is een reden waarom het zo duur is om water te <i>slopen</i>.</p>
 	<p style="hp">Wanneer een stuk water eenmaal een gedeelte van een rivier is, kan het <b>niet</b> weer een apart meertje worden. Water dat een gedeelte van een rivier is wordt aangegeven als navigeerbaar</p>
 	<p style="hp">Electriciteits-draden kunnen onder <b>??n</b> rivierstukje doorgaan, op dezelfde manier als onder een (spoor)weg.</p>

Modified: trunk/data/help/nl/sustain.xml
===================================================================
--- trunk/data/help/nl/sustain.xml	2007-04-06 16:52:38 UTC (rev 1174)
+++ trunk/data/help/nl/sustain.xml	2007-04-12 18:45:23 UTC (rev 1175)
@@ -9,7 +9,7 @@
 	<li>
 		<span color="green">MNY</span>(groen) uw hoeveelheid geld is stabiel of wordt meer, dit betekent u alleen op de goedkoopste gebieden kan bouwen.</li>
 	<li>
-		<span color="bleu">POP</span>(blauw) uw bevolking mag na 180 jaar niet met meer dan 2% zijn gestegen of gedaald. Als de bevolking in een jaar met meer dan 2% is gestegen of gedaald, wordt de jaarteller (om de 180 jaar te tellen) opnieuw gestart en krijgt de bevolking het nieuwe getal. Ook moet u minimaal 5000 inwoners hebben.</li>
+		<span color="blue">POP</span>(blauw) uw bevolking mag na 180 jaar niet met meer dan 2% zijn gestegen of gedaald. Als de bevolking in een jaar met meer dan 2% is gestegen of gedaald, wordt de jaarteller (om de 180 jaar te tellen) opnieuw gestart en krijgt de bevolking het nieuwe getal. Ook moet u minimaal 5000 inwoners hebben.</li>
 	<li>
 		<span color="yellow">TEC</span>(geel) uw technologie nivo mag maar weinig stijgen of dalen. Als het met meer dan 1% is gestegen of gedaalt, wordt de jaarteller (om de 120 jaar te tellen) opnieuw gestart. Ook moet uw technologie nivo minimaal 50 zijn.</li>
 	<li>

Modified: trunk/data/help/nl/tech-level.xml
===================================================================
--- trunk/data/help/nl/tech-level.xml	2007-04-06 16:52:38 UTC (rev 1174)
+++ trunk/data/help/nl/tech-level.xml	2007-04-12 18:45:23 UTC (rev 1175)
@@ -7,8 +7,11 @@
 	<p style="hp">Wanneer u en nog hoger technologie nivo bereikt heeft, zal u universiteiten <i>uitvinden</i>. Deze zorgen voor nog meer technologie dan scholen, maar ze gebruiken <b>erg veel</b> voorraden.</p>
 	<p style="hp">Des te meer technologie u heeft, des te sneller het zal <i>verslijten</i>. Dit betekent dat hoe hoger technologie nivo u wilt, des te meer scholen en universiteiten u nodig zal hebben.</p>
 	<p style="hp">Wees er ook op bedacht dat als u voor een of andere reden, laten we zeggen, twee universiteiten sluit (of ze krijgen plotseling geen vooraden meer) uw technologie nivo begint te <b>dalen</b>.</p>
-
+	<p style="hp">Het percentage van gelukte lanceringen is gelijk met uw technische nivo.</p>
+	
 	<p style="hsubtitle">Lees ook:</p>
+	<li><a href="monument">Monumenten</a></li>
 	<li><a href="school">Scholen</a></li>
 	<li><a href="university">Universiteiten</a></li>
+	<li><a href="rocket">Lanceerplatform</a></li>
 </Document>

Added: trunk/data/help/nl/tutorial-advanced.xml
===================================================================
--- trunk/data/help/nl/tutorial-advanced.xml	2007-04-06 16:52:38 UTC (rev 1174)
+++ trunk/data/help/nl/tutorial-advanced.xml	2007-04-12 18:45:23 UTC (rev 1175)
@@ -0,0 +1,18 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<Document style="helpdocument">
+<p style="htitle">Tutorial voor gevorderden</p>
+<p style="hsubtitle">Markten en verkeer.</p>
+<p style="hp">Dubbel klikken op een markt in het hoofdvenster opent een venster. Hier kan controle uitgeoefend worden op <b>de uitwisseling tussen de markt en het verkeer</b>. </p>
+<li>Kopen is wat de markt koopt van het verkeer (zodat de voorraad van de markt groter wordt). </li>
+<li>Verkopen is het tegenovergestelde. </li>
+
+<p style="hp">Dit venster wordt zelden gebruikt, behalve wanneer juist voorkomen moet worden dat iets gebeurt. </p>
+
+<p style="hsubtitle">Duurzame economie</p>
+<p style="hp">De vierde tab van de kaartjes toont gekleurde lijnen die de voortgang aangeven naar een duurzame economie. </p>
+<p style="hp">Het wordt aanbevolen om eerst het spel op te slaan voor het spel een lange tijd gaat lopen om te kijken of het een duurzame economie heeft. Als iets heel erg verkeerd gaat (de hongerdood bijvoorbeeld) kan het spel opnieuw gestart worden van de bewaarde moment?:-) </p>
+<p style="hp">Het controleren van de totale voorraden in de markten (het mini-venster met de voortgang-grafieken) moet grote problemen voorkomen. Af en toe de voortgang naar een duurzame economie controleren in de ECO mini-venster moet genoeg zijn. </p>
+
+<li>Hint: pas op voor krottenwijken en afval in markten... </li>
+<p style="hp"/>
+</Document>
\ No newline at end of file

Added: trunk/data/help/nl/tutorial-aim.xml
===================================================================
--- trunk/data/help/nl/tutorial-aim.xml	2007-04-06 16:52:38 UTC (rev 1174)
+++ trunk/data/help/nl/tutorial-aim.xml	2007-04-12 18:45:23 UTC (rev 1175)
@@ -0,0 +1,21 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<Document style="helpdocument">
+<p style="htitle">Doel van het spel </p>
+<p style="hp">Er zijn 2 manieren om het spel te "winnen":</p>
+<li>Het bereiken van een Reach <a href="sustain">duurzame economie </a> (er kan daarna gewoon verder gespeeld worden) </li>
+<li>Evacueer alle inwoners met <a href="rocket">raketten </a> naar een andere planeet, het spel stopt dan. </li>
+<p style="hp"/>
+
+<p style="hp">op dit moment (1.1.0) is er maar een manier om te verliezen:</p>
+<li>Iedereen is dood vanwege de hongerdood of vervuiling. (een bevolking bestaat uit tenminste 2 mensen;-) </li>
+<p style="hp"/>
+
+<p style="hp">Het technologie nivo moet verhoogd worden om nieuwe soorten gebouwen en industrie?n te krijgen. De groei van de bevolking moet onder controle blijven, en U moet zorg dragen voor verschillende benodigheden en de economie moet in balans zijn.</p>
+<p style="hp"/>
+
+<p style="hp">Lees ook:</p>
+<li><a href="tutorial-basics">Tutorial voor beginners</a></li>
+<li><a href="tutorial-advanced">Tutorial voor gevorderden</a></li>
+<li><a href="tutorial-scenario">Voor gedefineerde landschappen</a></li>
+
+</Document>
\ No newline at end of file

Added: trunk/data/help/nl/tutorial-basics.xml
===================================================================
--- trunk/data/help/nl/tutorial-basics.xml	2007-04-06 16:52:38 UTC (rev 1174)
+++ trunk/data/help/nl/tutorial-basics.xml	2007-04-12 18:45:23 UTC (rev 1175)
@@ -0,0 +1,54 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<Document style="helpdocument">
+<p style="htitle">Tutorial voor beginners</p>
+<p style="hp">Kies "new game " &gt; "willekeurig dorp". Andere scenario's zijn voor min of meer ervaren spelers. </p>
+<p style="hp">Merk op dat het willekeurige dorp basis-benodigheden heeft:</p>
+<li><a href="farm">Boerderijen</a> maken voedsel voor markten</li>
+<li><a href="commune">Communies</a> die houtskool en kleine hoeveelheden ijzererts en staal maken </li>
+<li><a href="residential">Woonwijken</a></li>
+<li><a href="pottery">Pottebakkerijen</a></li>
+<li><a href="track">Landweggetjes</a></li>
+
+<p style="hp">Klik op een gebouw (in het hoofdvenster) en er wordt informatie getoond in het kleine venstertje rechtsonder.</p>
+
+<p style="hsubtitle">Markt </p>
+<p style="hp">De markt is een belangrijk gebouw in Lincity. Ze zijn noodzakelijk voor bijna alle plaatselijke in- en verkopen. De help-pagina's op <a href="market">markt </a> <b>moeten</b> gelezen worden :-). <i>, wanneer iets niet op een markt aanwezig is, dan kan het ook niet niet verhandeld worden, en wanneer een markt vol met een soort product is, dan zal dat ook niet meer ingekocht worden. Dit kan mischien een beetje helpen om te begrijpen waarom sommige gebouwen niet werken (waarschijnlijk kan iets war dringend nodig is niet gekocht worden, of ze kunnen de spulletjes die ze gemaakt hebben niet verkopen)</i> </p>
+
+<p style="hsubtitle">Verkeer </p>
+<p style="hp"><a href="transport">Verkeer </a> is nodig voor lange afstand vervoer van goederen, en voor sommige met name genoemde activiteiten (het wordt dan beschreven in het bijbehorende help-pagina, zoals lichte industrie). Net zoals markten hebben ook wegen een beperkte capaciteit en kunnen vol raken.</p>
+
+<p style="hp">Wanneer een "normaal" gebouw niet in het bereik van een markt is, moet het verbonden worden met verkeer. Vergeet niet dat wegen en spoorwegen ieder jaar geld kosten, daarom is het handiger (en goedkoper) om wanneer nodig markten te gebruiken (tenzij een gebouw zoals een monument werkelijk apart moet staan). </p>
+
+<p style="hp">Als een dorp net is gestart, zijn landweggetjes alleen nodig voor de produktie van communes. Alle andere aktiviteiten hebben alleen een markt nodig. </p>
+
+<p style="hsubtitle">Geld </p>
+<p style="hp">Er zit belasting op produktie en daarmee verdien je geld. In de minikaart is de derde tab <a href="finance">het financi?le kaartje</a>. Zorg ervoor dat er niet te snel, te veel geld wordt uitgegeven: wanneer er een geldtekoort is, kan er niets gebouwd worden en moet er rente betaald worden. Dit kan leiden tot een faillisement (lees ook <a href="tutorial-scenario"> Moeilijke scenario </a>). </p>
+
+<p style="hsubtitle">De stad ontwikkelen </p>
+<p style="hp">Vergeet niet dat mensen sterven als ze niet eten. Om controle te houden over de groei van de stad, moet er een balans gevonden in de soort gebouwde huizen  (Er worden meer of minder kinderen geboren en er sterven meer of minder mensen in verschillende soorten huizen) . De nieuwe bevolking kan meer werk verrichten, maar eten ook meer, en gebruiken meer goederen en hebben meer banen nodig...</p>
+<p style="hp">De produktie moet vergroot worden (voeg pottebakkerijen en smederijen toe) en er moet voor gezorgd worden dat deze ook materialen krijgen. Er moet daarom ook communes bijgemaakt worden. </p>
+<p style="hp">Om nieuwe soorten gebouwen te kunnen bouwen moet het <a href="tech-level"> Technologie nivo </a> verhoogt worden.</p>
+<p style="hp">Op een gegeven moment moet er een speeldoel gekozen worden:of een <a href="sustain"> duurzame economie </a> of evacuatie met <a href="rocket"> raketten</a>.</p>
+
+<p style="hp">Het statistieken venstertje toont de totale hoeveelheid voorraden beschikbaar in markten, en hoe dit zich ontwikkelt. Dit moet vaak gecontroleerd worden. De minikaartjes geven een beter inzicht de economie van dit spel.</p>
+<li>Hint: zet het spel in de hoogste snelheid, verander een of twee dingen en wacht een tijdje</li>
+
+<p style="hsubtitle">Duurzame economie</p>
+<p style="hp">De vierde tab van de kaartjes toont gekleurde lijnen die de voortgang aangeven naar een duurzame economie. </p>
+<p style="hp">Het wordt aanbevolen om eerst het spel op te slaan voor het spel een lange tijd gaat lopen om te kijken of het een duurzame economie heeft. Als iets heel erg verkeerd gaat (de hongerdood bijvoorbeeld) kan het spel opnieuw gestart worden van de bewaarde moment?:-) </p>
+<p style="hp">Het controleren van de totale voorraden in de markten (het mini-venster met de voortgang-grafieken) moet grote problemen voorkomen. Af en toe de voortgang naar een duurzame economie controleren in de ECO mini-venster moet genoeg zijn. </p>
+
+<li>Hint: pasop voor krottenwijken en afval in markten... </li>
+
+<li>Hint: Maak een of twee veranderingen en wacht een tijdje (lees help bestanden?;-) of zet het spel in een hogere snelheid, en kijk hoe de economie verandert.</li>
+<p style="hp"/>
+<p style="hp">Veel plezier.</p>
+<p style="hp"/>
+
+<p style="hp">Lees ook:</p>
+<li><a href="tutorial-advanced">Tutorial voor gevorderden</a></li>
+<li><a href="tutorial-scenario">Voor gedefineerde landschappen</a></li>
+<li><a href="msb-starve">Sterfte kaart</a></li>
+<li><a href="msb-ub40">Werkloosheid kaart</a></li>
+
+</Document>

Added: trunk/data/help/nl/tutorial-overview.xml
===================================================================
--- trunk/data/help/nl/tutorial-overview.xml	2007-04-06 16:52:38 UTC (rev 1174)
+++ trunk/data/help/nl/tutorial-overview.xml	2007-04-12 18:45:23 UTC (rev 1175)
@@ -0,0 +1,24 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<Document style="helpdocument">
+<p style="htitle">Overzicht van het scherm </p>
+
+<p style="hp"><b>Links boven</b> is een scherm met iconen en gereedschappen (informatie-vragen en bulldozer) en alle gebouwen die beschikbaar komen tijdens het spelen. </p>
+<li>Klik links op een icoon om de drawer te openen om nog meer iconen te zien. </li>
+<li>Klik rechts op een icoon om de bijbehorende help-pagina te krijgen. </li>
+<li>Wacht even met de muis en er opent een mini help-bericht. </li>
+<p style="hp"/>
+
+<p style="hp"><b>Links beneden</b> is de controle over de spelsnelheid.</p>
+<p style="hp"/>
+
+<p style="hp"><b>Rechts beneden</b> zijn alle "informatie gereedschappen": kaarten met 4 tabs, en daaronder mini-iconen voor verschillende soorten informatie. Klik erop om te zien wat gebeurt.</p>
+<p style="hp"/>
+
+<p style="hp">Probeer het toetsenbord en de muis uit (links, midden en rechts klikken en de muiswiel...), klik op F1 voor help.</p>
+
+<p style="hp">Lees ook:</p>
+<li><a href="tutorial-basics">Tutorial voor beginners</a></li>
+<li><a href="tutorial-advanced">Tutorial voor gevorderden</a></li>
+<li><a href="tutorial-scenario">Voor gedefineerde landschappen</a></li>
+
+</Document>
\ No newline at end of file

Added: trunk/data/help/nl/tutorial-scenario.xml
===================================================================
--- trunk/data/help/nl/tutorial-scenario.xml	2007-04-06 16:52:38 UTC (rev 1174)
+++ trunk/data/help/nl/tutorial-scenario.xml	2007-04-12 18:45:23 UTC (rev 1175)
@@ -0,0 +1,12 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<Document style="helpdocument">
+<p style="htitle">Voor gedefineerde landschappen</p>
+<p style="hp">Onder "new game" zijn drie landschappen, twee daarvan zijn makkelijk en een moeilijk </p>
+
+<p style="hsubtitle"> Makkelijk</p>
+<li>Good time </li>
+<li>Beach (Vergeet niet dat mensen sterven als ze niet eten?;-) </li>
+
+<p style="hsubtitle">Moeilijk </p>
+<li>"hard-time": probeer faillisement te voorkomen. Analiseer nauwkeurig de hele stad, grote ingrepen zijn nodig om geld te besparen en geld te verdienen. Het zal moeilijk zijn maar niet onmogelijk, het is zelfs mogelijk om een duurzame samenleving te krijgen. </li>
+</Document>
\ No newline at end of file

Added: trunk/data/help/nl/tutorial.xml
===================================================================
--- trunk/data/help/nl/tutorial.xml	2007-04-06 16:52:38 UTC (rev 1174)
+++ trunk/data/help/nl/tutorial.xml	2007-04-12 18:45:23 UTC (rev 1175)
@@ -0,0 +1,93 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<Document style="helpdocument">
+<p style="htitle">Tutorial</p>
+<p style="htitle">Doel van het spel </p>
+<p style="hp">Er zijn 2 manieren om het spel te "winnen":</p>
+<li>Het bereiken van een duurzame samenleving (er kan daarna gewoon doorgespeeld worden) </li>
+<li>Het evacueren van alle inwoners met raketten naar een andere planeet, daarna stopt het spel. </li>
+<p style="hp"></p>
+
+<p style="hp">Op dit moment (1.1.0) kan er maar op een manier verloren worden:</p>
+<li>Iedereen is dood vanwege honger of vervuiling. (Er moeten tenminste 2 personen zijn om een bevolking te cre?ren?;-) </li>
+<p style="hp"></p>
+
+<p style="hp">U moet uw technologie-nivo verhogen om nieuwe soorten gebouwen en industri?n te kunnen bouwen. De bevolkingsgroei moet beheert worden en U moet zorg dragen voor verschillende benodigheden en de economie moet in balans zijn. </p>
+<p style="htitle">Stap een </p>
+<p style="hp">Kies "new game " &gt; "random village". Andere scenario's zijn voor min of meer ervaren spelers. </p>
+<p style="hsubtitle">Overzicht van het scherm </p>
+
+<p style="hp"><b>Links boven</b> is een scherm met iconen en gereedschappen (vragen naar informatie en een bulldozer) en alle gebouwen die beschikbaar komen tijdens het spelen. </p>
+<li>Klik links op een icoon om de drawer te openen om nog meer iconen te zien. </li>
+<li>Klik rechts op een icoon om de bijbehorende help-pagina te krijgen. </li>
+<li>Wacht even met de muis en er opent een mini help-bericht.</li>
+<p style="hp"></p>
+
+<p style="hp"><b>Links beneden</b> is de controle over de spelsnelheid.</p>
+<p style="hp"></p>
+
+<p style="hp"><b>Rechts beneden</b> zijn alle "informatie gereedschappen": kaarten met 4 tabs, en daaronder mini-iconen voor verschillende soorten informatie. Klik erop om te zien wat gebeurt. </p>
+<p style="hp"></p>
+
+<p style="hp">Probeer het toetsenbord en de muis uit (links, midden en rechts klikken en de muiswiel...), klik op F1 voor help.</p>
+
+<p style="hp">Merk op dat het willekeurige dorp de basis-benodigheden heeft: </p>
+<li><a href="farm">Boerderijen</a> maken voedsel voor markten</li>
+<li><a href="market">Markten</a>zijn plaatsen waar alles gevonden kan worden wat mensen nodig zoals eten en werk, en ze kunnen hun afval erheen sturen. </li>
+<li><a href="commune">Communies</a> die houtskool en kleine hoeveelheden ijzererts en staal maken </li>
+<li><a href="residential">Woonwijken</a></li>
+<li><a href="pottery">Pottebakkerijen</a></li>
+<li><a href="track">Landweggetjes</a></li>
+
+<p style="hsubtitle">Markt </p>
+<p style="hp">De markt is een belangrijk gebouw in Lincity. Ze zijn noodzakelijk voor bijna alle plaatselijke in- en verkopen. Bijvoorbeeld boeren verkopen hun geproduceerde voedsel op de markt, waar andere mensen het komen kopen. </p>
+<p style="hp"><b>Binnen het bereik </b>van een markt of kan alles geruild worden <b>zonder gebruik te maken van verkeer</b>, behalve wanneer dat duidelijk is aangegeven. Rechtsonder is het kleine icoontje "verkeer kaart", op deze kaart is te zie  hoeveel verkeer er is en in het blauw wat het bereik van is van een markt. Controleer hier of een gebouw binnen het bereik van een markt is.Deze informatie kan ook op het grote scherm getoond worden door op het grote overlay icoon te klikken of door de "V"-toets in te drukken. </p>
+<p style="hp">Door op een markt te klikken is informatie te zien over de huidige <b>voorraden</b> (in het informatie venster rechts onderin). wanneer iets niet op een markt aanwezig is, dan kan het ook niet niet verhandeld worden, en wanneer een markt vol met soort product is, dan zal dat ook niet meer ingekocht worden.:-) Dit kan mischien een beetje helpen om te begrijpen waarom sommige gebouwen niet werken (waarschijnlijk kan iets war dringend nodig is niet gekocht worden, of ze kunnen de spulletjes die ze gemaakt hebben niet verkopen) </p>
+<p style="hp">Rechtsonder, onder de tweede knop van het mini-venster is een overzicht zien van <b>alle markt-voorraden</b> , ook is te zien hoe dit verandert via een progres bar. Samen met de kleine kaartjes (kleine icoontjes onder het minivenster) zal het veel helpen inzicht te krijgen in de veranderingen van grondstoffen (voedsel, werk...).</p>
+
+<p style="hsubtitle">Verkeer </p>
+<p style="hp">><a href="transport">Verkeer </a> is nodig voor lange afstand vervoer van goederen, en voor sommige met name genoemde activiteiten (het wordt dan beschreven in het bijbehorende help-pagina, zoals lichte industrie). Net zoals markten hebben ook wegen een beperkte capaciteit en kunnen vol raken.</p>
+<p style="hp">Als een "normaal" gebouw niet in de buurt van een markt ligt, dan moet het verbonden worden met verkeer. Maar bedenk wel dat wegen en rails jaarlijks geld kosten, behalve als een gebouw apart moet liggen (zoals een monument) is het in het algemeen beter (en goedkoper) om (wanneer nodig)een markt te gebruiken.</p>
+<p style="hp">In een dorp zijn landweggetjes alleen nodig voor de produktie van communes. Alle andere activiteiten hebben alleen een markt nodig. </p>
+
+<p style="hsubtitle">Geld </p>
+<p style="hp">Men betaalt over productie belasting en daarom verdient de burgemeester geld. Zorg ervoor dat niet teveel geld te snel wordt uitgegeven: wanneer er een schuld is, kan er niets meer gebouwd worden, en er moet rente betaald worden. Dit kan tot bankroet leiden. (zie "new game" &gt; "hard-time" scenario). </p>
+
+<p style="hsubtitle">Tech-Level </p>
+<p style="hp">In het begin is de enige manier om het technologie nivo te verhogen door "monumenten" te bouwen totdat "scholen" en later "universiteiten" uitgevonden zijn. </p>
+<li>Met een hoger technologie nivo kunnen nieuwe dingen gebouwd worden. </li>
+<li>Hoe goed sommige dingen werken, hangt af van het technologie nivo van het moment dat ze gebouwd werden (b.v. een zonne-energie centrale) </li>
+<li>De kans op slagen van een succesvolle raket-lancering is gelijk met het technologie nivo </li>
+
+<p style="hsubtitle">De stad ontwikkelen </p>
+<p style="hp">Vergeet niet dat mensen sterven als ze niet eten. Om controle te houden over de groei van de stad, moet er een balans gevonden in de soort gebouwde huizen  (Er worden meer of minder kinderen geboren en er sterven meer of minder mensen in verschillende soorten huizen) . De nieuwe bevolking kan meer werk verrichten...</p>
+<p style="hp">De produktie moet vergroot worden (voeg pottebakkerijen en smederijen toe) en er moet voor gezorgd worden dat deze ook materialen krijgen. Er moet daarom ook communes bijgemaakt worden. </p>
+<p style="hp">Het statistieken venstertje toont de totale hoeveelheid voorraden beschikbaar in markten, en hoe dit zich ontwikkelt. Dit moet vaak gecontroleerd worden. De minikaartjes geven een beter inzicht de economie van dit spel.</p>
+<li>Hint: zet het spel in de hoogste snelheid, verander een of twee dingen en wacht een tijdje (lees help bestanden?;-) en kijk hoe de economie zich ontwikkeld.</li>
+
+<p style="htitle">Advanced features </p>
+<p style="hsubtitle">Markten en verkeer </p>
+<p style="hp">Dubbel klikken op een markt in het hoofdvenster opent een venster. Hier kan controle uitgeoefend worden op <b>de uitwisseling tussen de markt en het verkeer</b>. </p>
+<li>Kopen is wat de markt koopt van het verkeer (zodat de voorraad op de markt groter wordt). </li>
+<li>Verkopen is het tegenovergestelde. </li>
+
+<p style="hp">Dit venster wordt zelden gebruikt, behalve wanneer juist voorkomen moet worden dat iets gebeurt. </p>
+
+<p style="hsubtitle">Duurzame economie</p>
+<p style="hp">De vierde tab van de kaartjes toont gekleurde lijnen die de voortgang aangeven naar een duurzame economie. </p>
+<p style="hp">Het wordt aanbevolen om eerst het spel op te slaan voor het spel een lange tijd gaat lopen om te kijken of het een duurzame economie heeft. Als iets heel erg verkeerd gaat (de hongerdood bijvoorbeeld) kan het spel opnieuw gestart worden van de bewaarde moment?:-) </p>
+<p style="hp">Het controleren van de totale voorraden in de markten (het mini-venster met de voortgang-grafieken) moet grote problemen voorkomen. Af en toe de voortgang naar een duurzame economie controleren in de ECO mini-venster moet genoeg zijn. </p>
+
+<li>Hint: pasop voor krottenwijken en afval in markten... </li>
+
+<p style="htitle">Voor gedefineerde landschappen</p>
+<p style="hp">Onder "new game" </p>
+
+<p style="hsubtitle"> Makkelijk</p>
+<li>Good time </li>
+<li>Beach ( onthoudt dat mensen voedsel eten of anders sterven ;-) </li>
+
+<p style="hsubtitle">Moeilijk </p>
+<li>"hard-time": probeer faillisement te voorkomen. Analiseer nauwkeurig de hele stad, grote ingrepen zijn nodig om geld te besparen en geld te verdienen. Het zal moeilijk zijn maar niet onmogelijk, het is zelfs mogelijk om een duurzame samenleving te krijgen. </li>
+<p style="hp"></p>
+</Document>
+

Modified: trunk/data/locale/gui/nl.po
===================================================================
--- trunk/data/locale/gui/nl.po	2007-04-06 16:52:38 UTC (rev 1174)
+++ trunk/data/locale/gui/nl.po	2007-04-12 18:45:23 UTC (rev 1175)
@@ -787,24 +787,3 @@
 #, fuzzy
 msgid "save to selected slot"
 msgstr "Opslaan in het geselecteerde slot"
-
-#~ msgid "FX off"
-#~ msgstr "FX uit"
-
-#~ msgid "FX on"
-#~ msgstr "FX aan"
-
-#~ msgid "GameMode:"
-#~ msgstr "SpelModus:"
-
-#~ msgid "Info: Rocket ready at Launchsite "
-#~ msgstr "Info: raket staat klaar op de lanceerbasis "
-
-#~ msgid "Music on"
-#~ msgstr "Muziek aan"
-
-#~ msgid "Mute Music"
-#~ msgstr "Muziek uit"
-
-#~ msgid "Windowed"
-#~ msgstr "In een venster."



From wolfgangb at mail.berlios.de  Thu Apr 12 22:07:48 2007
From: wolfgangb at mail.berlios.de (wolfgangb at BerliOS)
Date: Thu, 12 Apr 2007 22:07:48 +0200
Subject: [Lincity-ng-commit] r1176 - in trunk/data/locale: . gui
Message-ID: <200704122007.l3CK7mQk031317@sheep.berlios.de>

Author: wolfgangb
Date: 2007-04-12 22:07:47 +0200 (Thu, 12 Apr 2007)
New Revision: 1176

Modified:
   trunk/data/locale/ca.po
   trunk/data/locale/gui/ca.po
Log:
Update for Catalan translation by Felip Alfred Galit?\195?\179 I Trilla.


Modified: trunk/data/locale/ca.po
===================================================================
--- trunk/data/locale/ca.po	2007-04-12 18:45:23 UTC (rev 1175)
+++ trunk/data/locale/ca.po	2007-04-12 20:07:47 UTC (rev 1176)
@@ -2,7 +2,7 @@
 # translation of ca.po to
 # translation of messages.po to
 # This file is distributed under the same license as the PACKAGE package.
-# Copyright (C) YEAR THE PACKAGE'S COPYRIGHT HOLDER.
+# Copyright (C) 2007 THE PACKAGE'S COPYRIGHT HOLDER.
 # Joan <info at lutesor.com>, 2005.
 # Joan Padr?? <info at lutesor.com>, 2005.
 #
@@ -11,13 +11,12 @@
 "Project-Id-Version: ca\n"
 "Report-Msgid-Bugs-To: \n"
 "POT-Creation-Date: 2007-01-27 22:03+0100\n"
-"PO-Revision-Date: 2005-08-12 20:05+0000\n"
+"PO-Revision-Date: 2007-03-18 20:11+0100\n"
 "Last-Translator: Joan Padr?? <info at lutesor.com>\n"
 "Language-Team: Catal?? <ca at li.org>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
-"Content-Transfer-Encoding: 8bit\n"
-"X-Generator: KBabel 1.10.1\n"
+"Content-Transfer-Encoding: 8bit"
 
 #: src/lincity/fileutil.cpp:292 src/lincity/fileutil.cpp:341
 msgid "Error. Can't find LINCITY_HOME"
@@ -25,7 +24,7 @@
 
 #: src/lincity/fileutil.cpp:561
 msgid "Error verifying package. Can't find colour.pal."
-msgstr "Error verificar paquet. No es troba color.pal."
+msgstr "Error al verificar el paquet. No es troba color.pal."
 
 #: src/lincity/fileutil.cpp:580 src/lincity/fileutil.cpp:589
 #, c-format
@@ -43,7 +42,7 @@
 
 #: src/lincity/engine.cpp:158 src/lincity/engine.cpp:189
 msgid "This area was once a landfill"
-msgstr "Aquesta area era un abocador"
+msgstr "Aquesta ??rea era un abocador"
 
 #: src/lincity/engine.cpp:159 src/lincity/engine.cpp:190
 #: src/lincity/engine.cpp:197
@@ -52,7 +51,7 @@
 
 #: src/lincity/engine.cpp:188 src/lincity/engine.cpp:195
 msgid "You can't build a mine here"
-msgstr "No pots construir la mine aqui"
+msgstr "No pots construir la mina aqu??"
 
 #: src/lincity/engine.cpp:196
 msgid "There is no ore left at this site"
@@ -60,7 +59,7 @@
 
 #: src/lincity/engine.cpp:691
 msgid "It's at a power line."
-msgstr "Aix?? ??s una l??nea electrica"
+msgstr "Aix?? ??s una l??nia el??ctrica"
 
 #: src/lincity/engine.cpp:693
 msgid "It's at a solar power station."
@@ -68,51 +67,51 @@
 
 #: src/lincity/engine.cpp:695
 msgid "It's at a substation."
-msgstr "Aix?? ??s una sub-estaci??"
+msgstr "Aix?? ??s una sub-estaci??."
 
 #: src/lincity/engine.cpp:697
 msgid "It's at a residential area."
-msgstr "Aix?? ??s una area residencial"
+msgstr "Aix?? ??s una ??rea residencial."
 
 #: src/lincity/engine.cpp:699
 msgid "It's at a farm."
-msgstr "Aix?? ??s una Grange"
+msgstr "Aix?? ??s una granja."
 
 #: src/lincity/engine.cpp:701
 msgid "It's at a market."
-msgstr "Aix?? ??s un Mercat"
+msgstr "Aix?? ??s un mercat."
 
 #: src/lincity/engine.cpp:703
 msgid "It's at a track."
-msgstr "Aix?? ??s un cam??"
+msgstr "Aix?? ??s un cam??."
 
 #: src/lincity/engine.cpp:705
 msgid "It's at a coal mine."
-msgstr "Aix?? ??s una mine de carb??"
+msgstr "Aix?? ??s una mina de carb??."
 
 #: src/lincity/engine.cpp:707
 msgid "It's at a railway."
-msgstr "Aix?? ??s una Via"
+msgstr "Aix?? ??s una via de tren."
 
 #: src/lincity/engine.cpp:709
 msgid "It's at a coal power station."
-msgstr "Aix?? ??s una central de carb??"
+msgstr "Aix?? ??s una central t??rmica."
 
 #: src/lincity/engine.cpp:711
 msgid "It's at a road."
-msgstr "Aix?? ??s una Carretera"
+msgstr "Aix?? ??s una carretera."
 
 #: src/lincity/engine.cpp:713
 msgid "It's at light industry."
-msgstr "Aix?? ??s una Ind??stria electrica"
+msgstr "Aix?? ??s una ind??stria el??ctrica."
 
 #: src/lincity/engine.cpp:715
 msgid "It's at a university."
-msgstr "Aix?? ??s una Universitat"
+msgstr "Aix?? ??s una universitat."
 
 #: src/lincity/engine.cpp:717
 msgid "It's at a commune."
-msgstr "Aix?? ??s una comune"
+msgstr "Aix?? ??s una comuna."
 
 #: src/lincity/engine.cpp:719
 msgid "It's at a tip."
@@ -120,55 +119,55 @@
 
 #: src/lincity/engine.cpp:721
 msgid "It's at a port."
-msgstr "Aix?? ??s el Port"
+msgstr "Aix?? ??s el port."
 
 #: src/lincity/engine.cpp:723
 msgid "It's at a steel works."
-msgstr "Taller Mec??nic"
+msgstr "Aix?? ??s un ferrer."
 
 #: src/lincity/engine.cpp:725
 msgid "It's at a recycle centre."
-msgstr "Centre de Reciclat"
+msgstr "Aix?? ??s un centre de reciclatge."
 
 #: src/lincity/engine.cpp:727
 msgid "It's at a health centre."
-msgstr "Aix?? ??s un Centre Hospitalari"
+msgstr "Aix?? ??s un centre hospitalari."
 
 #: src/lincity/engine.cpp:729
 msgid "It's at a rocket site."
-msgstr "Aix?? ??s una plataforma de cohets"
+msgstr "Aix?? ??s una plataforma aeroespacial."
 
 #: src/lincity/engine.cpp:731
 msgid "It's at a windmill."
-msgstr "Aix?? ??s un mol??"
+msgstr "Aix?? ??s un mol??."
 
 #: src/lincity/engine.cpp:733
 msgid "It's at a school."
-msgstr "Aix?? ??s una Escola"
+msgstr "Aix?? ??s una escola."
 
 #: src/lincity/engine.cpp:735
 msgid "It's at a blacksmith."
-msgstr "Aix?? ??s una Farga"
+msgstr "Aix?? ??s una farga."
 
 #: src/lincity/engine.cpp:737
 msgid "It's at a mill."
-msgstr "Aix?? ??s una f??brica"
+msgstr "Aix?? ??s una f??brica."
 
 #: src/lincity/engine.cpp:739
 msgid "It's at a pottery."
-msgstr "Aix?? ??s un taller de cer??mique"
+msgstr "Aix?? ??s un terrissaire."
 
 #: src/lincity/engine.cpp:741
 msgid "It's at a fire station!!!."
-msgstr "Aix?? ??s una Estaci?? de Bombers"
+msgstr "Aix?? ??s una estaci?? de bombers."
 
 #: src/lincity/engine.cpp:743
 msgid "It's at a sports field!!!."
-msgstr "Aix?? ??s un Poliesportiu"
+msgstr "Aix?? ??s un poliesportiu!!!"
 
 #: src/lincity/engine.cpp:745
 msgid "It's at a shanty town."
-msgstr "Aix?? ??s na gossera"
+msgstr "Aix?? ??s una barraca."
 
 #: src/lincity/engine.cpp:747
 msgid "UNKNOWN!"
@@ -177,7 +176,7 @@
 #: src/lincity/ldsvguts.cpp:128
 #, c-format
 msgid "Save file <%s> - "
-msgstr "Desa fitxer<%s> - "
+msgstr "Desa el fitxer<%s> - "
 
 #: src/lincity/ldsvguts.cpp:129
 msgid "Can't open save file!"
@@ -185,7 +184,7 @@
 
 #: src/lincity/ldsvguts.cpp:134
 msgid "Saving scene"
-msgstr "Desant escena"
+msgstr "S'est?? desant l'escena"
 
 #: src/lincity/ldsvguts.cpp:334
 #, c-format
@@ -194,7 +193,7 @@
 
 #: src/lincity/ldsvguts.cpp:352
 msgid "Loading scene"
-msgstr "Obrint escena"
+msgstr "S'est?? obrint l'escena."
 
 #: src/lincity/lintypes.cpp:22
 msgid "Empty"
@@ -202,11 +201,11 @@
 
 #: src/lincity/lintypes.cpp:34
 msgid "Power line"
-msgstr "Li??ea el??ctrica "
+msgstr "L??nia el??ctrica"
 
 #: src/lincity/lintypes.cpp:46
 msgid "Solar PS"
-msgstr "Solar PS"
+msgstr "Central solar"
 
 #: src/lincity/lintypes.cpp:58 src/lincity/modules/substation.cpp:91
 msgid "Substation"
@@ -214,7 +213,7 @@
 
 #: src/lincity/lintypes.cpp:70
 msgid "Residential LL"
-msgstr "Residencial LL"
+msgstr "Resid??ncial LL"
 
 #: src/lincity/lintypes.cpp:82
 msgid "Farm"
@@ -235,11 +234,11 @@
 
 #: src/lincity/lintypes.cpp:130
 msgid "Railway"
-msgstr "Via"
+msgstr "Via de tren"
 
 #: src/lincity/lintypes.cpp:142
 msgid "Coal PS"
-msgstr "Coure PS"
+msgstr "Central t??rmica"
 
 #: src/lincity/lintypes.cpp:154 src/lincity/modules/road.cpp:47
 msgid "Road"
@@ -247,7 +246,7 @@
 
 #: src/lincity/lintypes.cpp:166
 msgid "Lt. Industry"
-msgstr "Petita Ind??stria"
+msgstr "Petita ind??stria"
 
 #: src/lincity/lintypes.cpp:178 src/lincity/modules/university.cpp:67
 msgid "University"
@@ -263,7 +262,7 @@
 
 #: src/lincity/lintypes.cpp:214
 msgid "Rubbish tip"
-msgstr "Deixelleria"
+msgstr "Deixalleria"
 
 #: src/lincity/lintypes.cpp:226 src/lincity/modules/port.cpp:173
 #: src/lincity-ng/Dialog.cpp:540
@@ -272,27 +271,27 @@
 
 #: src/lincity/lintypes.cpp:238
 msgid "Hv. Industry"
-msgstr "Industria pesada"
+msgstr "Ind??stria pesada"
 
 #: src/lincity/lintypes.cpp:250
 msgid "Park"
-msgstr "Parq"
+msgstr "Parc"
 
 #: src/lincity/lintypes.cpp:262 src/lincity-ng/MpsInterface.cpp:516
 msgid "Recycle"
-msgstr "Reciclat"
+msgstr "Reciclatge"
 
 #: src/lincity/lintypes.cpp:274 src/lincity/modules/water.cpp:19
 msgid "Water"
-msgstr "Aig??a"
+msgstr "Aigua"
 
 #: src/lincity/lintypes.cpp:286
 msgid "Health centre"
-msgstr "Ayuntament"
+msgstr "Centre de salut"
 
 #: src/lincity/lintypes.cpp:298
 msgid "Rocket pad"
-msgstr "Cohet"
+msgstr "Coet"
 
 #: src/lincity/lintypes.cpp:310 src/lincity/modules/windmill.cpp:73
 #: src/lincity-ng/MpsInterface.cpp:506
@@ -309,15 +308,15 @@
 
 #: src/lincity/lintypes.cpp:346 src/lincity/modules/blacksmith.cpp:97
 msgid "Blacksmith"
-msgstr "Farreter"
+msgstr "Farga"
 
 #: src/lincity/lintypes.cpp:358
 msgid "Mill"
-msgstr "Lleter"
+msgstr "Mol??"
 
 #: src/lincity/lintypes.cpp:370 src/lincity/modules/pottery.cpp:119
 msgid "Pottery"
-msgstr "Cer??mique"
+msgstr "Terrissaire"
 
 #: src/lincity/lintypes.cpp:382
 msgid "Fire sta'n"
@@ -329,11 +328,11 @@
 
 #: src/lincity/lintypes.cpp:407
 msgid "Burnt"
-msgstr "Cremar"
+msgstr "Cremat"
 
 #: src/lincity/lintypes.cpp:420
 msgid "Shanty town"
-msgstr "Sanitat "
+msgstr "Barraques"
 
 #: src/lincity/lintypes.cpp:433 src/lincity/modules/residence.cpp:292
 #: src/lincity-ng/MpsInterface.cpp:380 src/lincity-ng/EconomyGraph.cpp:131
@@ -346,26 +345,23 @@
 
 #: src/lincity/lintypes.cpp:458
 msgid "Residential ML"
-msgstr "Residencia ML"
+msgstr "Resid??ncia ML"
 
 #: src/lincity/lintypes.cpp:470
 msgid "Residential HL"
 msgstr "Residencil HL"
 
 #: src/lincity/lintypes.cpp:482
-#, fuzzy
 msgid "Residential LH"
-msgstr "Residencial LL"
+msgstr "Resid??ncial LH"
 
 #: src/lincity/lintypes.cpp:494
-#, fuzzy
 msgid "Residential MH"
-msgstr "Residencia ML"
+msgstr "Resid??ncia MH"
 
 #: src/lincity/lintypes.cpp:506
-#, fuzzy
 msgid "Residential HH"
-msgstr "Residencil HL"
+msgstr "Residencil HH"
 
 #: src/lincity/lclib.cpp:17
 msgid "Jan"
@@ -448,7 +444,7 @@
 #: src/lincity/modules/firestation.cpp:124 src/lincity/modules/school.cpp:57
 #: src/lincity-ng/MpsInterface.cpp:448
 msgid "Goods"
-msgstr "Riquesa"
+msgstr "B??ns"
 
 #: src/lincity/modules/rocket_pad.cpp:163
 msgid "Rocket Pad"
@@ -470,7 +466,7 @@
 #: src/lincity/modules/organic_farm.cpp:196
 #: src/lincity/modules/solar_power.cpp:58
 msgid "Tech"
-msgstr "Tec"
+msgstr "Tecnol."
 
 #: src/lincity/modules/windmill.cpp:80
 msgid "Local Status"
@@ -502,14 +498,14 @@
 #: src/lincity/modules/power_line.cpp:53
 #: src/lincity/modules/solar_power.cpp:60
 msgid "Grid ID"
-msgstr ""
+msgstr "ID de xarxa"
 
 #: src/lincity/modules/water.cpp:22 src/lincity/modules/commune.cpp:151
 #: src/lincity/modules/commune.cpp:153 src/lincity/modules/commune.cpp:155
 #: src/lincity/modules/commune.cpp:157 src/lincity-ng/MpsInterface.cpp:379
 #: src/lincity-ng/MpsInterface.cpp:382 src/lincity-ng/MpsInterface.cpp:385
 msgid "Yes"
-msgstr "Si"
+msgstr "S??"
 
 #: src/lincity/modules/water.cpp:22 src/lincity/modules/commune.cpp:151
 #: src/lincity/modules/commune.cpp:153 src/lincity/modules/commune.cpp:155
@@ -545,7 +541,7 @@
 #: src/lincity/modules/light_industry.cpp:359
 #: src/lincity/modules/organic_farm.cpp:188
 msgid "YES"
-msgstr "Si"
+msgstr "S??"
 
 #: src/lincity/modules/recycle.cpp:175 src/lincity/modules/residence.cpp:279
 #: src/lincity/modules/residence.cpp:282 src/lincity/modules/residence.cpp:285
@@ -554,14 +550,14 @@
 #: src/lincity/modules/heavy_industry.cpp:334
 #: src/lincity/modules/light_industry.cpp:359
 msgid "NO"
-msgstr "No"
+msgstr "NO"
 
 #: src/lincity/modules/recycle.cpp:176 src/lincity/modules/residence.cpp:280
 #: src/lincity/modules/heavy_industry.cpp:337
 #: src/lincity/modules/light_industry.cpp:360
 #: src/lincity/modules/organic_farm.cpp:193
 msgid "Power"
-msgstr "Energ??a"
+msgstr "Energia"
 
 #: src/lincity/modules/recycle.cpp:182
 #: src/lincity/modules/heavy_industry.cpp:342
@@ -577,7 +573,7 @@
 #: src/lincity/modules/road.cpp:62 src/lincity/modules/rail.cpp:65
 #: src/lincity/modules/commune.cpp:158 src/lincity/modules/track.cpp:53
 msgid "Waste"
-msgstr "Escombrer??es"
+msgstr "Escombraries"
 
 #: src/lincity/modules/coalmine.cpp:168
 msgid "Coal Mine"
@@ -585,7 +581,7 @@
 
 #: src/lincity/modules/coalmine.cpp:171 src/lincity/modules/oremine.cpp:187
 msgid "Stock"
-msgstr "Magatsem"
+msgstr "Magatzem"
 
 #: src/lincity/modules/coalmine.cpp:175 src/lincity/modules/coalmine.cpp:177
 #: src/lincity/modules/oremine.cpp:191
@@ -598,7 +594,7 @@
 
 #: src/lincity/modules/residence.cpp:273
 msgid "Residence"
-msgstr "Residencia"
+msgstr "Resid??ncia"
 
 #: src/lincity/modules/residence.cpp:277
 msgid "People"
@@ -627,7 +623,7 @@
 
 #: src/lincity/modules/residence.cpp:299 src/lincity-ng/MpsInterface.cpp:393
 msgid "good"
-msgstr "B??"
+msgstr "b??"
 
 #: src/lincity/modules/residence.cpp:299
 msgid "poor"
@@ -648,12 +644,12 @@
 
 #: src/lincity/modules/heavy_industry.cpp:323
 msgid "Heavy"
-msgstr "Force"
+msgstr "For??a"
 
 #: src/lincity/modules/heavy_industry.cpp:324
 #: src/lincity/modules/light_industry.cpp:355
 msgid "Industry"
-msgstr "Industria"
+msgstr "Ind??stria"
 
 #: src/lincity/modules/heavy_industry.cpp:329
 #: src/lincity/modules/heavy_industry.cpp:344
@@ -698,12 +694,12 @@
 #: src/lincity/modules/coal_power.cpp:90
 #: src/lincity/modules/solar_power.cpp:45
 msgid "Power Station"
-msgstr "Central electrica"
+msgstr "Central el??ctrica"
 
 #: src/lincity/modules/coal_power.cpp:94
 #: src/lincity/modules/solar_power.cpp:49
 msgid "Max Output"
-msgstr "Sortida m??xima"
+msgstr "Sortida m??xima"
 
 #: src/lincity/modules/coal_power.cpp:99
 #: src/lincity/modules/solar_power.cpp:54
@@ -716,15 +712,15 @@
 
 #: src/lincity/modules/mill.cpp:103
 msgid "Textile Mill"
-msgstr "F??brica t??xtil"
+msgstr "F??brica t??xtil"
 
 #: src/lincity/modules/oremine.cpp:184
 msgid "Ore Mine"
-msgstr "Mine de coure"
+msgstr "Mina de coure"
 
 #: src/lincity/modules/power_line.cpp:50
 msgid "Power Line"
-msgstr "Linea electrica"
+msgstr "Linea el??ctrica"
 
 #: src/lincity/modules/light_industry.cpp:354
 msgid "Light"
@@ -753,7 +749,7 @@
 #: src/lincity/modules/tip.cpp:117
 #, c-format
 msgid "% Filled"
-msgstr ""
+msgstr "% ple"
 
 #: src/lincity/modules/commune.cpp:149
 msgid "Activity"
@@ -761,11 +757,11 @@
 
 #: src/lincity/modules/firestation.cpp:119
 msgid "Fire Station"
-msgstr "Estaci?? de foc"
+msgstr "Bombers"
 
 #: src/lincity/modules/organic_farm.cpp:183
 msgid "Organic Farm"
-msgstr "Grange org??nique"
+msgstr "Granja org??nica"
 
 #: src/lincity/modules/organic_farm.cpp:190
 msgid "NO "
@@ -777,7 +773,7 @@
 
 #: src/lincity/modules/school.cpp:51
 msgid "Lessons Learned"
-msgstr "Llisons apreses"
+msgstr "Lli??ons apreses"
 
 #: src/lincity/modules/solar_power.cpp:44
 msgid "Solar"
@@ -785,21 +781,21 @@
 
 #: src/lincity-ng/Dialog.cpp:173
 msgid "Launchsite"
-msgstr "Zona de Llansament"
+msgstr "Plataforma d'enlairament"
 
 #: src/lincity-ng/Dialog.cpp:341 src/lincity-ng/Dialog.cpp:342
 msgid "----- IN TEST MODE -------"
-msgstr ""
+msgstr "----- MODE DE PROVES -------"
 
 #: src/lincity-ng/Dialog.cpp:344
 #, c-format
 msgid "Game statistics from LinCity-NG Version %s"
-msgstr ""
+msgstr "Estad??stiques del LinCity-NG Versi?? %s"
 
 #: src/lincity-ng/Dialog.cpp:348
 #, c-format
 msgid "Initial loaded scene - %s"
-msgstr ""
+msgstr "Escena carregada al principi - %s"
 
 #: src/lincity-ng/Dialog.cpp:353
 #, c-format
@@ -809,99 +805,99 @@
 #: src/lincity-ng/Dialog.cpp:357
 #, c-format
 msgid "Population  %d  of which  %d  are not housed."
-msgstr ""
+msgstr "%d de poblaci?? de la qual %d s??n indigents."
 
 #: src/lincity-ng/Dialog.cpp:362
 #, c-format
 msgid "Max population %d  Number evacuated %d Total births %d"
-msgstr "Maxime poblaci??%d  Nombre evacuats%d Total nascuts%d"
+msgstr "M??xima poblaci?? %d  Nombre evacuats%d Total nascuts %d"
 
 #: src/lincity-ng/Dialog.cpp:367
 #, c-format
 msgid "Date %s %04d  Money %8d   Tech-level %5.1f (%5.1f)"
-msgstr "Date%s %04d  Capital %8d  Nivell Tecnic %5.1f (%5.1f)"
+msgstr "Data %s %04d  Diners %8d  Nivell T??cnic %5.1f (%5.1f)"
 
 #: src/lincity-ng/Dialog.cpp:374
 #, c-format
 msgid ".Deaths by starvation %7d   History %8.3f"
-msgstr ""
+msgstr ".Morts de fam %7d   Historial %8.3f"
 
 #: src/lincity-ng/Dialog.cpp:379
 #, c-format
 msgid "Deaths from pollution %7d   History %8.3f"
-msgstr ""
+msgstr "Morts per contaminaci?? %7d   Historial %8.3f"
 
 #: src/lincity-ng/Dialog.cpp:383
 #, c-format
 msgid "Years of unemployment %7d   History %8.3f"
-msgstr ""
+msgstr "Anys d'atur %7d   Historial %8.3f"
 
 #: src/lincity-ng/Dialog.cpp:387
 #, c-format
 msgid "Rockets launched %2d  Successful launches %2d"
-msgstr "Cohets llansats%2d Pr??xim llansament% 2d"
+msgstr "Coets enlairats %2d Enlairaments exitosos % 2d"
 
 #: src/lincity-ng/Dialog.cpp:397
 #, c-format
 msgid ".   Residences %4d         Markets %4d            Farms %4d"
-msgstr ".Residencias%4d         Mercats%4d             Granges%4d"
+msgstr ".Resid??ncies %4d         Mercats%4d             Granges%4d"
 
 #: src/lincity-ng/Dialog.cpp:408
 #, c-format
 msgid ".       Tracks %4d           Roads %4d             Rail %4d"
-msgstr ".       Camins %4d           Carreteras %4d             Vias %4d"
+msgstr ".       Camins %4d           Carreteres %4d             Vies %4d"
 
 #: src/lincity-ng/Dialog.cpp:413
 #, c-format
 msgid ".    Potteries %4d     Blacksmiths %4d            Mills %4d"
-msgstr ".    Cer??miques %4d     Fargues%4d            F??briques%4d"
+msgstr ".    Terrissaires %4d     Fargues%4d            F??briques%4d"
 
 #: src/lincity-ng/Dialog.cpp:418
 #, c-format
 msgid ".    Monuments %4d         Schools %4d     Universities %4d"
-msgstr ",Monuments%4d Escoles%4d Universitats%4d"
+msgstr ".    Monuments %4d         Escoles %4d     Universitats %4d"
 
 #: src/lincity-ng/Dialog.cpp:423
 #, c-format
 msgid ".Fire stations %4d           Parks %4d    Sports fields %4d"
-msgstr ".Bombers%4d            Parcs%4d    Esports%4d"
+msgstr ".Bombers %4d            Parcs %4d    Esports %4d"
 
 #: src/lincity-ng/Dialog.cpp:428
 #, c-format
 msgid ".   Coal mines %4d       Ore mines %4d         Communes %4d"
-msgstr ".   Mines Carb??%4d         Mines Coure%4d           Comunes%4d"
+msgstr ".   Mines Carb?? %4d         Mines Coure %4d           Comunes %4d"
 
 #: src/lincity-ng/Dialog.cpp:433
 #, c-format
 msgid ".    Windmills %4d     Coal powers %4d     Solar powers %4d"
-msgstr ".    Molins%4d     Potencia carb??%4d     Potencia Solar%4d"
+msgstr ".    Molins %4d     Centrals t??rmiques %4d     Centras solars %4d"
 
 #: src/lincity-ng/Dialog.cpp:439
 #, c-format
 msgid ".  Substations %4d     Power lines %4d            Ports %4d"
-msgstr "Sub-estacions %4d     L??neas El??ctriques%4d        Ports%4d"
+msgstr "Sub-estacions %4d     L??nias El??ctriques %4d        Ports %4d"
 
 #: src/lincity-ng/Dialog.cpp:444
 #, c-format
 msgid ".   Light inds %4d      Heavy inds %4d        Recyclers %4d"
-msgstr ".   Ind. electrica%4d     Ind. Pesada%4d      Rciclat%4d"
+msgstr ".   Ind. el??ctrica%4d     Ind. Pesada%4d      Reciclatge %4d"
 
 #: src/lincity-ng/Dialog.cpp:449
 #, c-format
 msgid "Health centres %4d            Tips %4d         Shanties %4d"
-msgstr "Centres Salu   t%4d  Abodcadors%4d      Shanties %4d"
+msgstr "Centres Salut %4d  Abocadors%4d      Barraques %4d"
 
 #: src/lincity-ng/GameView.cpp:236
 msgid "Minimap: outline map"
-msgstr ""
+msgstr "Minimapa: mapa de l??nies"
 
 #: src/lincity-ng/GameView.cpp:239
 msgid "Minimap: unemployment"
-msgstr "Minimap; Parats"
+msgstr "Minimapa; Atur"
 
 #: src/lincity-ng/GameView.cpp:242
 msgid "Minimap: pollution"
-msgstr "Minimap Contaminaci??"
+msgstr "Minimapa Contaminaci??"
 
 #: src/lincity-ng/GameView.cpp:245
 msgid "Minimap: nourishments"
@@ -909,11 +905,11 @@
 
 #: src/lincity-ng/GameView.cpp:248
 msgid "Minimap: power supply"
-msgstr "Minimap: suport energ??a"
+msgstr "Minimapa: suport energia"
 
 #: src/lincity-ng/GameView.cpp:251
 msgid "Minimap: firedepartment cover"
-msgstr "Minimap Departament de foc"
+msgstr "Minimapa: Bombers"
 
 #: src/lincity-ng/GameView.cpp:254
 msgid "Minimap: sport cover"
@@ -921,7 +917,7 @@
 
 #: src/lincity-ng/GameView.cpp:257
 msgid "Minimap: medical care"
-msgstr "Minimapa: Salut"
+msgstr "Minimapa: Sanitat"
 
 #: src/lincity-ng/GameView.cpp:260
 msgid "Minimap: coal depots"
@@ -929,36 +925,36 @@
 
 #: src/lincity-ng/GameView.cpp:263
 msgid "Minimap: traffic density"
-msgstr "Minimapa: Densitat de trafic"
+msgstr "Minimapa: Densitat del tr??nsit"
 
 #: src/lincity-ng/GameView.cpp:1515
 msgid "Estimated Bulldoze Cost: "
-msgstr "Cost estimat escabadora"
+msgstr "Cost estimat de l'enderroc"
 
 #: src/lincity-ng/GameView.cpp:1517
 msgid "Bulldoze Cost: "
-msgstr "Cost Escabadora"
+msgstr "Cost de l'enderroc"
 
 #: src/lincity-ng/GameView.cpp:1520 src/lincity-ng/GameView.cpp:1551
 #: src/lincity-ng/ScreenInterface.cpp:269
 msgid "$"
-msgstr "$"
+msgstr "???"
 
 #: src/lincity-ng/GameView.cpp:1522
 msgid "n/a"
-msgstr "n/a"
+msgstr "n/d"
 
 #: src/lincity-ng/GameView.cpp:1540
 msgid "Query Tool: Show information about selected building."
-msgstr "Eina de investigar. Mostre informaci?? sobres el edifici seleccionat"
+msgstr "Eina d'investigar. Mostra informaci?? sobre els edificis seleccionats."
 
 #: src/lincity-ng/GameView.cpp:1544
 msgid "Bulldozer: remove building -price varies-"
-msgstr ""
+msgstr "Enderroca: enderroca l'edifici -el preu canvia-"
 
 #: src/lincity-ng/GameView.cpp:1551
 msgid ": Cost to build "
-msgstr "Cost de construcci??"
+msgstr "Cost de la construcci??"
 
 #: src/lincity-ng/GameView.cpp:1552
 msgid ", to bulldoze "
@@ -970,7 +966,7 @@
 
 #: src/lincity-ng/GameView.cpp:1554
 msgid " To build "
-msgstr "Construeix"
+msgstr "Per construir"
 
 #: src/lincity-ng/GameView.cpp:1554
 msgid " of them "
@@ -978,7 +974,7 @@
 
 #: src/lincity-ng/GameView.cpp:1555
 msgid "will cost about "
-msgstr "Et costar??"
+msgstr "Et costar??"
 
 #: src/lincity-ng/MainMenu.cpp:175
 msgid "empty"
@@ -986,7 +982,7 @@
 
 #: src/lincity-ng/MpsInterface.cpp:224
 msgid "build something here"
-msgstr "Construir aqu??"
+msgstr "Construeix quelcom aqu??"
 
 #: src/lincity-ng/MpsInterface.cpp:226
 msgid "no further information available"
@@ -994,7 +990,7 @@
 
 #: src/lincity-ng/MpsInterface.cpp:378
 msgid "Coverage"
-msgstr "Cubert"
+msgstr "Cobertura"
 
 #: src/lincity-ng/MpsInterface.cpp:383
 msgid "Health"
@@ -1014,11 +1010,11 @@
 
 #: src/lincity-ng/MpsInterface.cpp:399
 msgid "smokey"
-msgstr "Fums"
+msgstr "fumejant"
 
 #: src/lincity-ng/MpsInterface.cpp:401
 msgid "smoggy"
-msgstr ""
+msgstr "boir??s"
 
 #: src/lincity-ng/MpsInterface.cpp:403
 msgid "bad"
@@ -1026,7 +1022,7 @@
 
 #: src/lincity-ng/MpsInterface.cpp:405
 msgid "very bad"
-msgstr "m??s enrrera"
+msgstr "molt malament"
 
 #: src/lincity-ng/MpsInterface.cpp:407
 msgid "death!"
@@ -1038,11 +1034,11 @@
 
 #: src/lincity-ng/MpsInterface.cpp:418
 msgid "N/A"
-msgstr "N/A"
+msgstr "N/D"
 
 #: src/lincity-ng/MpsInterface.cpp:436
 msgid "Tax Income"
-msgstr "Ingres Impostos"
+msgstr "Ingressos per impostos"
 
 #: src/lincity-ng/MpsInterface.cpp:440
 msgid "Income"
@@ -1054,11 +1050,11 @@
 
 #: src/lincity-ng/MpsInterface.cpp:456
 msgid "Expenses"
-msgstr "Despesses"
+msgstr "Despeses"
 
 #: src/lincity-ng/MpsInterface.cpp:460
 msgid "Unemp."
-msgstr "Parats"
+msgstr "Atur"
 
 #: src/lincity-ng/MpsInterface.cpp:464
 msgid "Transport"
@@ -1106,11 +1102,11 @@
 
 #: src/lincity-ng/MpsInterface.cpp:510
 msgid "Rockets"
-msgstr "Cohets"
+msgstr "Coets"
 
 #: src/lincity-ng/MpsInterface.cpp:512
 msgid "Fire Stn"
-msgstr "Bombers Stn"
+msgstr "Bombers"
 
 #: src/lincity-ng/MpsInterface.cpp:530
 msgid "Population"
@@ -1118,15 +1114,15 @@
 
 #: src/lincity-ng/MpsInterface.cpp:533
 msgid "Housed"
-msgstr "Ocupat"
+msgstr "Amb casa"
 
 #: src/lincity-ng/MpsInterface.cpp:534
 msgid "Homeless"
-msgstr "Buit"
+msgstr "Indigents"
 
 #: src/lincity-ng/MpsInterface.cpp:535
 msgid "Shanties"
-msgstr "Pipican"
+msgstr "Barraques"
 
 #: src/lincity-ng/MpsInterface.cpp:536
 msgid "Unn Dths"
@@ -1134,11 +1130,11 @@
 
 #: src/lincity-ng/MpsInterface.cpp:537
 msgid "Unemployment"
-msgstr "Parats"
+msgstr "Atur"
 
 #: src/lincity-ng/MpsInterface.cpp:538
 msgid "Claims"
-msgstr ""
+msgstr "Peticions"
 
 #: src/lincity-ng/MpsInterface.cpp:539 src/lincity-ng/MpsInterface.cpp:544
 msgid "Rate"
@@ -1146,7 +1142,7 @@
 
 #: src/lincity-ng/MpsInterface.cpp:541
 msgid "Starvation"
-msgstr ""
+msgstr "fam"
 
 #: src/lincity-ng/MpsInterface.cpp:542
 msgid "Cases"
@@ -1174,11 +1170,11 @@
 
 #: src/lincity-ng/EconomyGraph.cpp:134
 msgid "Economy Overview:"
-msgstr "Econom??a overta"
+msgstr "Economia oberta."
 
 #: src/lincity-ng/EconomyGraph.cpp:137
 msgid "Sustainability:"
-msgstr "Sustenibilitat"
+msgstr "Sostenibilitat"
 
 #: src/lincity-ng/EconomyGraph.cpp:140
 msgid "Frames per Second:"
@@ -1194,44 +1190,44 @@
 
 #: src/lincity-ng/ButtonPanel.cpp:199
 msgid "Bulldozer"
-msgstr "Escabadora"
+msgstr "Excabadora"
 
 #: src/lincity-ng/ButtonPanel.cpp:201
 msgid "Residential: 50 denizens, low birthrate, high deathrate"
-msgstr "Residencia; 50 habitants, pocs naixaments,alta defunci??"
+msgstr "Resid??ncia; 50 habitants, pocs naixements,alta mortalitat"
 
 #: src/lincity-ng/ButtonPanel.cpp:202
 msgid "Residential: 100 denizens, high birthrate, low deathrate"
-msgstr "Residencial; 100 hab., alta natalitat, poques morts"
+msgstr "Resid??ncia; 100 hab., alta natalitat, poques morts"
 
 #: src/lincity-ng/ButtonPanel.cpp:203
 msgid "Residential: 200 denizens, high birthrate, high deathrate"
-msgstr "Residencial;200 hab., alta natalitat, alta defunci??"
+msgstr "Resid??ncia;200 hab., alta natalitat, alta mortalitat"
 
 #: src/lincity-ng/ButtonPanel.cpp:204
 msgid "Residential: 100 denizens, low birthrate, high deathrate"
-msgstr "Residencial; 100 hab. baixa natalitat, alta mortalitat"
+msgstr "Resid??ncia; 100 hab. baixa natalitat, alta mortalitat"
 
 #: src/lincity-ng/ButtonPanel.cpp:205
 msgid "Residential: 200 denizens, high birthrate, low deathrate"
-msgstr "Residencial; 200 hab, alta natalitat, baixa mortalitat"
+msgstr "Resid??ncia; 200 hab, alta natalitat, baixa mortalitat"
 
 #: src/lincity-ng/ButtonPanel.cpp:206
 msgid "Residential: 400 denizens, high birthrate, high deathrate"
-msgstr "Residencial; 400 hab.,alta natalitat, alta mortalitat"
+msgstr "Resid??ncia; 400 hab.,alta natalitat, alta mortalitat"
 
 #: src/lincity-ng/ButtonPanel.cpp:215
 msgid " [Click right for help.]"
-msgstr " [Click esquerra per ayuda.]"
+msgstr " [Clica al bot?? esquerra per obtenir ajuda.]"
 
 #: src/lincity-ng/ButtonPanel.cpp:243 src/lincity-ng/ButtonPanel.cpp:277
 #, c-format
 msgid "%s (Techlevel %.1f required.)"
-msgstr ""
+msgstr "%s (Nivell tecnol??gic %1f necessari.)"
 
 #: src/lincity-ng/ScreenInterface.cpp:258
 msgid "MM"
-msgstr ""
+msgstr "MM"
 
 #~ msgid "Couldn't create the save directory %s\n"
 #~ msgstr "No s'ha pogut crear el directori de desar %s\n"

Modified: trunk/data/locale/gui/ca.po
===================================================================
--- trunk/data/locale/gui/ca.po	2007-04-12 18:45:23 UTC (rev 1175)
+++ trunk/data/locale/gui/ca.po	2007-04-12 20:07:47 UTC (rev 1176)
@@ -1,57 +1,60 @@
-# translation of ca.po to Catal??
+# translation of ca.po to Catal?
 # translation of ca.po to
 # translation of messages.po to
-# This file is distributed under the same license as the PACKAGE package.
-# Copyright (C) YEAR THE PACKAGE'S COPYRIGHT HOLDER.
+# This file is distributed under the same license as the ca package.
+# Copyright (C) 2007 THE ca'S COPYRIGHT HOLDER.
 # Joan <info at lutesor.com>, 2005.
-# Joan Padr?? <info at lutesor.com>, 2005.
-#
+# Joan Padr? <info at lutesor.com>, 2005.
+# Wolfgang Becker <uafr at gmx.de>, 2007.
+# 
+# 
 msgid ""
 msgstr ""
-"Project-Id-Version: ca\n"
+"Project-Id-Version: ca v0.2 pendent de revisi?\n"
 "Report-Msgid-Bugs-To: \n"
 "POT-Creation-Date: Sat Jan 27 22:03:14 2007\n"
-"PO-Revision-Date: 2006-04-10 15:25+0100\n"
-"Last-Translator: Wolfgang Becker <uafr at gmx.de>\n"
-"Language-Team: Catal?? <ca at li.org>\n"
+"PO-Revision-Date: 2007-03-18 19:30+0100\n"
+"Last-Translator: felip alfred galit? <bratac at bratac.cat>\n"
+"Language-Team: Catalan <ca at dodds.net>\n"
 "MIME-Version: 1.0\n"
-"Content-Type: text/plain; charset=UTF-8\n"
-"Content-Transfer-Encoding: 8bit\n"
-"X-Generator: KBabel 1.10.1\n"
+"Content-Type: text/plain; charset=iso-8859-1\n"
+"Content-Transfer-Encoding: 8bit"
 
 #: data/gui/minimap.xml
 msgid "$"
-msgstr ""
+msgstr "???"
 
 #: data/gui/fire.xml
 msgid "A Fire has started"
-msgstr "Incendi declarat"
+msgstr "S'ha declarat un incendi"
 
 #: data/gui/shfire-uc.xml
 msgid ""
 "A fire has broken out at a shanty town. It is in a fire cover area and "
 "APPEARS to be under control. "
-msgstr "Foc a shanty town"
+msgstr "S'ha produ?t un incendi en una zona de barraques. Es troba en una zona coberta pels bombers i"
+"SEMBLA estar sota control."
 
 #: data/gui/shfire-oc.xml
 msgid ""
 "A fire has broken out at a shanty town. The fire is OUT OF CONTROL and may "
 "spread to other areas. "
 msgstr ""
-"Incendi a shanty town. El foc est??  fore de control i perilla que sescampi."
+"S'ha declarat un incendi a les barraques. L'incendi es troba FORA DE CONTROL"
+"i es pot escampar a altres zones."
 
 #: data/gui/newgame.xml data/gui/loadgame.xml data/gui/credits.xml
 #: data/gui/savegame.xml
 msgid "Back"
-msgstr "Enrrera"
+msgstr "Enrera"
 
 #: data/gui/options.xml
 msgid "Background Music"
-msgstr "M??sica de fons"
+msgstr "M?sica de fons"
 
 #: data/gui/cricketup.xml
 msgid "Basketball Courts available"
-msgstr "Pista de Basket disponible"
+msgstr "Pista de b?squet disponible"
 
 #: data/gui/blacksmithup.xml
 msgid "Blacksmiths available"
@@ -59,39 +62,39 @@
 
 #: data/gui/bulldoze_monument_yn.xml
 msgid "Bulldozing a monument costs a lot of money."
-msgstr "Destruir monuments coste molts diners."
+msgstr "Enderrocar un monument ?s molt car."
 
 #: data/gui/bulldoze_river_yn.xml
 msgid "Bulldozing a section of river costs a lot of money."
-msgstr "Escabar una secci?? del riu coste molts diners."
+msgstr "Arrasar una part del riu ?s molt car."
 
 #: data/gui/bulldoze_shanty_yn.xml
 msgid "Bulldozing a shanty town costs a lot of money and may cause a fire."
-msgstr "Enderrocar un shanty town coste molts diners i provoca incendis"
+msgstr "Enderrocar barraques ?s car i sol provocar incendis."
 
 #: data/gui/tradedialog.xml data/gui/portdialog.xml
 msgid "Buy"
-msgstr "Facture"
+msgstr "Compra"
 
 #: data/gui/newgame.xml
 msgid "Choose Scenario"
-msgstr "Tria escenari"
+msgstr "Escull un escenari"
 
 #: data/gui/pbar.xml data/gui/tradedialog.xml data/gui/portdialog.xml
 msgid "Coal"
-msgstr "Carb??"
+msgstr "Carb?"
 
 #: data/gui/coalpowerup.xml
 msgid "Coal Fired Power Stations available"
-msgstr "Central T??rmica disponible"
+msgstr "Central t?rmica disponible"
 
 #: data/gui/coalmineup.xml
 msgid "Coal Mine available"
-msgstr "Mine de carb?? disponible"
+msgstr "Mina de carb? disponible"
 
 #: data/gui/coal_survey_yn.xml
 msgid "Coal Survey"
-msgstr "Carb??"
+msgstr "Carb?"
 
 #: data/gui/creditslist.xml
 msgid "Code"
@@ -103,7 +106,7 @@
 
 #: data/gui/mainmenu.xml data/gui/creditslist.xml
 msgid "Credits"
-msgstr "Credits"
+msgstr "Cr?dits"
 
 #: data/gui/coal_survey_yn.xml
 msgid "Do coal survey?"
@@ -111,23 +114,23 @@
 
 #: data/gui/launch-good.xml
 msgid "Doing well."
-msgstr ""
+msgstr "Ho est?s fent b?."
 
 #: data/gui/minimap.xml
 msgid "Eco"
-msgstr ""
+msgstr "Economia"
 
 #: data/gui/sustain.xml
 msgid "Economy Sustainable."
-msgstr "Econom??a sustenible"
+msgstr "Economia sostenible"
 
 #: data/gui/launch-evac.xml
 msgid "Evacuation Launch Good"
-msgstr "Evacuaci?? correcte"
+msgstr "Evacuaci? correcta"
 
 #: data/gui/shfire-uc.xml data/gui/shfire-oc.xml
 msgid "Fire"
-msgstr "Foc"
+msgstr "Incendi"
 
 #: data/gui/firestationup.xml
 msgid "Fire Stations available"
@@ -135,11 +138,11 @@
 
 #: data/gui/shfire-uc.xml data/gui/shfire-oc.xml
 msgid "Fire!"
-msgstr "Foc"
+msgstr "Foc!"
 
 #: data/gui/pbar.xml data/gui/tradedialog.xml data/gui/portdialog.xml
 msgid "Food"
-msgstr "Aliment"
+msgstr "Menjar"
 
 #: data/gui/options.xml
 msgid "Fullscreen"
@@ -151,27 +154,27 @@
 
 #: data/gui/speedpanel.xml
 msgid "Go back to Main Menu"
-msgstr ""
+msgstr "V?s al men? principal"
 
 #: data/gui/pbar.xml data/gui/tradedialog.xml data/gui/portdialog.xml
 msgid "Goods"
-msgstr "Bens"
+msgstr "B?ns"
 
 #: data/gui/creditslist.xml
 msgid "Graphics"
-msgstr "Grafics"
+msgstr "Gr?fics"
 
 #: data/gui/portdialog.xml
 msgid "Harbour Trade Settings"
-msgstr ""
+msgstr "Par?metres del comer? portuari"
 
 #: data/gui/healthup.xml
 msgid "Health Centres available"
-msgstr ""
+msgstr "Centres sanitaris disponibles"
 
 #: data/gui/hvindustryup.xml
 msgid "Heavy Industry available"
-msgstr "Industria pesada disponible"
+msgstr "Ind?stria pesada disponible"
 
 #: data/gui/import-exportup.xml
 msgid "Import/Export available"
@@ -183,43 +186,43 @@
 
 #: data/gui/launch-fail.xml
 msgid "Launch Failure"
-msgstr "Llansament fallit"
+msgstr "Enlairament fallit"
 
 #: data/gui/launch-good.xml
 msgid "Launch Successfull"
-msgstr "Proxim llansament"
+msgstr "Proper enlairament"
 
 #: data/gui/launch_rocket_yn.xml
 msgid "Launch now?"
-msgstr "Llansar ya"
+msgstr "El voleu enlairar ara?"
 
 #: data/gui/ltindustryup.xml
 msgid "Light Industry available"
-msgstr "Industria electrica disponible"
+msgstr "Ind?stria el?ctrica disponible"
 
 #: data/gui/sustain.xml
 msgid "LinCity has determined that you have a sustainable economy."
-msgstr "Tens una econom??a sustanible"
+msgstr "Tens una economia sostenible"
 
 #: data/gui/mainmenu.xml data/gui/loadgame.xml
 msgid "Load"
-msgstr "Carregar"
+msgstr "Carrega"
 
 #: data/gui/loadgame.xml
 msgid "Load Game"
-msgstr "Carregar Joc"
+msgstr "Carrega una partida"
 
 #: data/gui/minimap.xml
 msgid "Map"
-msgstr ""
+msgstr "Mapa"
 
 #: data/gui/millup.xml
 msgid "Mills available"
-msgstr "F??brica disponible"
+msgstr "F?brica disponible"
 
 #: data/gui/mod_wind_up.xml
 msgid "Modern Windmills available"
-msgstr "Mol?? modern disponible"
+msgstr "Mol? modern disponible"
 
 #: data/gui/pbar.xml
 msgid "Money"
@@ -238,7 +241,7 @@
 #: data/gui/rocketup.xml data/gui/schoolup.xml data/gui/millup.xml
 #: data/gui/import-exportup.xml data/gui/healthup.xml
 msgid "New Invention"
-msgstr "Nova Versi??"
+msgstr "Nova Versi?"
 
 #: data/gui/coal_survey_yn.xml data/gui/bulldoze_monument_yn.xml
 #: data/gui/bulldoze_river_yn.xml data/gui/bulldoze_shanty_yn.xml
@@ -258,7 +261,7 @@
 
 #: data/gui/nobull-tip.xml
 msgid "Not Allowed"
-msgstr "No perm??s"
+msgstr "No ?s perm?s"
 
 #: data/gui/options.xml data/gui/firestationup.xml data/gui/hvindustryup.xml
 #: data/gui/windmillup.xml data/gui/fire.xml data/gui/shfire-uc.xml
@@ -276,7 +279,7 @@
 #: data/gui/healthup.xml data/gui/launch-gone.xml data/gui/shfire-oc.xml
 #: data/gui/sustain.xml data/gui/allgone.xml
 msgid "Ok"
-msgstr "OK"
+msgstr "D'acord"
 
 #: data/gui/gamestats.xml
 msgid "Okay"
@@ -292,7 +295,7 @@
 
 #: data/gui/creditslist.xml
 msgid "Original Idea and Code"
-msgstr "Idea Original y Codi"
+msgstr "Idea Original i Codi"
 
 #: data/gui/parkup.xml
 msgid "Parks available"
@@ -300,19 +303,19 @@
 
 #: data/gui/speedpanel.xml
 msgid "Pause the game"
-msgstr ""
+msgstr "Pausa el joc"
 
 #: data/gui/pbar.xml
 msgid "Population"
-msgstr "Contaminaci??"
+msgstr "Contaminaci?"
 
 #: data/gui/potteryup.xml
 msgid "Potteries available"
-msgstr "Cer??mique disponible"
+msgstr "Terrissaire disponible"
 
 #: data/gui/minimap.xml
 msgid "Press this button to show statistics"
-msgstr "Prema aquet but?? per veure les estad??stiques"
+msgstr "Prem aquest bot? per veure les estad?stiques"
 
 #: data/gui/tradedialog.xml data/gui/portdialog.xml
 msgid "Product"
@@ -324,7 +327,7 @@
 
 #: data/gui/railwayup.xml
 msgid "Railways available"
-msgstr "Vias disponibles"
+msgstr "Vies de tren disponibles"
 
 #: data/gui/recycleup.xml
 msgid "Recycling Centres available"
@@ -332,7 +335,7 @@
 
 #: data/gui/riverup.xml
 msgid "Rivers available"
-msgstr "Rivera disponible"
+msgstr "Rius disponible"
 
 #: data/gui/roadup.xml
 msgid "Roads available"
@@ -340,35 +343,35 @@
 
 #: data/gui/rocketup.xml
 msgid "Rocket Launch Pad available"
-msgstr "Plataforma cohets disponible"
+msgstr "Plataforma coets disponible"
 
 #: data/gui/launch_rocket_yn.xml
 msgid "Rocket Ready"
-msgstr "Cohet carregat"
+msgstr "Coet llest per a ser enlairat"
 
 #: data/gui/launch_rocket_yn.xml
 msgid "Rocket ready to launch"
-msgstr "Cohet carregat per llansar"
+msgstr "Coet a punt per enlairar"
 
 #: data/gui/speedpanel.xml
 msgid "Run the simulation with fast speed"
-msgstr ""
+msgstr "Juga r?pidament."
 
 #: data/gui/speedpanel.xml
 msgid "Run the simulation with normal speed"
-msgstr ""
+msgstr "Juga a una velocitat normal"
 
 #: data/gui/speedpanel.xml
 msgid "Run the simulation with very fast speed"
-msgstr ""
+msgstr "Juga molt r?pidament"
 
 #: data/gui/mainmenu.xml
 msgid "Save"
-msgstr "Desar"
+msgstr "Desa-ho"
 
 #: data/gui/savegame.xml
 msgid "Save Game"
-msgstr "Desar Joc"
+msgstr "Desa el joc"
 
 #: data/gui/schoolup.xml
 msgid "Schools available"
@@ -377,7 +380,7 @@
 #: data/gui/coalmineup.xml
 msgid ""
 "See the help screen for more information on coal mines and coal surveys."
-msgstr "Per mes informaci?? veure pantalla de ayude mines de Carb?? i Coure"
+msgstr "Per mes informaci? v?s a a pantalla d'ajuda sobre les mines de carb? i coure"
 
 #: data/gui/firestationup.xml data/gui/hvindustryup.xml
 #: data/gui/windmillup.xml data/gui/ltindustryup.xml data/gui/universityup.xml
@@ -387,7 +390,7 @@
 #: data/gui/mod_wind_up.xml data/gui/rocketup.xml data/gui/schoolup.xml
 #: data/gui/millup.xml data/gui/healthup.xml
 msgid "See the help screen for more information."
-msgstr "Per mes informaci?? veure pantalla de ayude"
+msgstr "Per mes informaci? veure pantalla de ayude"
 
 #: data/gui/tradedialog.xml data/gui/portdialog.xml
 msgid "Sell"
@@ -395,71 +398,71 @@
 
 #: data/gui/coal_survey_yn.xml
 msgid "Send out Prospectors"
-msgstr "Enviar exploradors"
+msgstr "Envia exploradors"
 
 #: data/gui/minimap.xml
 msgid "Show Income and Expenses. Click this tab again to cycle through views."
-msgstr ""
+msgstr "Mostra els impostos i les despeses. Clica en aquesta pestanya de nou per canviar els modes de visualitzaci?."
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show coal depots"
-msgstr "Mostre diposits carb??"
+msgstr "Mostra els dip?sits de carb?"
 
 #: data/gui/minimap.xml
 msgid "Show economy graphs."
-msgstr "Mostre grafics econom??a"
+msgstr "Mostra els gr?fics de l'economia."
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show fire department cover"
-msgstr "Mostre departaments bombers"
+msgstr "Mostra la cobertura dels bombers."
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show map outline"
-msgstr "Mostre mapa"
+msgstr "Mostra el mapa"
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show medical care"
-msgstr "Mostre centres m??dics"
+msgstr "Mostra els centres m?dics."
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show nourishments"
-msgstr "Mostre Aliment"
+msgstr "Mostra els aliments"
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show pollution density"
-msgstr "Mostre densitat contaminaci??"
+msgstr "Mostra la densitat de la contaminaci?."
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show power supply"
-msgstr "Mostre Suministre d'energia"
+msgstr "Mostra el subministrament d'energia"
 
 #: data/gui/minimap.xml
 msgid "Show resources."
-msgstr "Mostre recursos"
+msgstr "Mostra els recursos."
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show sport cover"
-msgstr "Mostrar esports "
+msgstr "Mostra la cobertura dels esports."
 
 #: data/gui/minimap.xml
 msgid "Show the MiniMap"
-msgstr "Mostrar el Minimapa"
+msgstr "Mostra el Minimapa"
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show traffic density"
-msgstr "Mostrar densitat de trafic"
+msgstr "Mostra la densitat de tr?nsit."
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show unemployment"
-msgstr "Mostrar Parats"
+msgstr "Mostra l'atur."
 
 #: data/gui/solarpowerup.xml
 msgid "Solar Power Stations available"
-msgstr "Central Solar disponible"
+msgstr "Central solar disponible"
 
 #: data/gui/nobull-tip.xml
 msgid "Sorry you can't bulldoze a tip."
-msgstr "No pots escabar en aquet lloc"
+msgstr "No pots enderrocar aquest lloc."
 
 #: data/gui/options.xml
 msgid "Sound Effects"
@@ -467,7 +470,7 @@
 
 #: data/gui/creditslist.xml
 msgid "Sound and Music"
-msgstr "So i m??sica"
+msgstr "So i m?sica"
 
 #: data/gui/newgame.xml
 msgid "Start"
@@ -483,7 +486,7 @@
 
 #: data/gui/minimap.xml
 msgid "Stats"
-msgstr ""
+msgstr "Estat"
 
 #: data/gui/pbar.xml data/gui/tradedialog.xml data/gui/portdialog.xml
 msgid "Steel"
@@ -491,27 +494,27 @@
 
 #: data/gui/pbar.xml
 msgid "Tech Level"
-msgstr "Nivell Tecnolog??a"
+msgstr "Nivell Tecnol?gic"
 
 #: data/gui/allgone.xml
 msgid "There are no people left in this city."
-msgstr "I a poque poblaci?? en aquesta ciutat"
+msgstr "No hi ha habitants en aquesta ciutat."
 
 #: data/gui/coal_survey_yn.xml
 msgid "This will cost you 1 million once. After that it is free to call again."
-msgstr "Et costar?? 1 mili??. Despr??s es lliure de pagament."
+msgstr "Costar? 1 mili?, un sol cop. Despr?s ?s lliure de pagament."
 
 #: data/gui/launch-gone.xml
 msgid "Total Evacuation Complete."
-msgstr "Evacuaci?? Total Completada"
+msgstr "Evacuaci? total completada."
 
 #: data/gui/tradedialog.xml
 msgid "Trade Settings"
-msgstr "Par??metres de comer??"
+msgstr "Par?metres de comer?"
 
 #: data/gui/creditslist.xml
 msgid "Translation"
-msgstr ""
+msgstr "Traducci?"
 
 #: data/gui/universityup.xml
 msgid "University available"
@@ -520,7 +523,7 @@
 #: data/gui/bulldoze_monument_yn.xml data/gui/bulldoze_river_yn.xml
 #: data/gui/bulldoze_shanty_yn.xml
 msgid "Want to bulldoze?"
-msgstr ""
+msgstr "Vols arrasar-ho?"
 
 #: data/gui/bulldoze_monument_yn.xml data/gui/bulldoze_river_yn.xml
 #: data/gui/bulldoze_shanty_yn.xml
@@ -529,19 +532,19 @@
 
 #: data/gui/bulldoze_monument_yn.xml
 msgid "Warning: Bulldozing monuments is expensive"
-msgstr "En comte Destruir monuments es car"
+msgstr "Compte: Enderrocar monuments ?s car"
 
 #: data/gui/bulldoze_shanty_yn.xml
 msgid "Warning: Bulldozing shanties is dangerous."
-msgstr "Comte enderrocar shanties es perill??s."
+msgstr "Compte!  ?s perill?s enderrocar barraques."
 
 #: data/gui/bulldoze_river_yn.xml
 msgid "Warning: Bulldozing water is expensive"
-msgstr "En comte remoure aig??es es car"
+msgstr "Compte: Arrasar aig?es ?s car."
 
 #: data/gui/launch-gone.xml
 msgid "Well done you have evacuated all your people."
-msgstr "Aur??s de evacuar la gent"
+msgstr "Haur?s de evacuar la gent."
 
 #: data/gui/windmillup.xml
 msgid "Windmills available"
@@ -551,11 +554,11 @@
 #: data/gui/bulldoze_river_yn.xml data/gui/bulldoze_shanty_yn.xml
 #: data/gui/launch_rocket_yn.xml
 msgid "Yes"
-msgstr "Si"
+msgstr "S?"
 
 #: data/gui/fire.xml
 msgid "You better go and look for it"
-msgstr "Millor que aneu a cercar-ho"
+msgstr "Millor que ho aneu a cercar."
 
 #: data/gui/launch_rocket_yn.xml
 msgid ""
@@ -563,68 +566,72 @@
 "continue costing you money to keep the rocket ready. Launch it later by "
 "clicking on the rocket area."
 msgstr ""
-"Pots llansar el cohet ara o mes tard. Si vols continuar costar?? molts diners."
+"Pots enlairar el coet ara o esperar-te i fer-ho mes tard. Si vols continuar,"
+"mantenir el coet a punt et costar? diners. Fes-lo enlairar quan vulguis"
+"clicant a l'?rea del coet."
 
 #: data/gui/import-exportup.xml
 msgid ""
 "You can now import and export coal, goods, ore and steel. Read the help "
 "pages on these subjects to find out how to use them. "
 msgstr ""
-"Pots Importar i exportar carb??, bens, coure i acer, llegeix la plana de "
-"ayude per fer-u correctement."
+"Pots Importar i exportar carb?, b?ns, coure i acer. Llegeix les p?gines d'ajuda "
+"per saber com funciona."
 
 #: data/gui/no-credit-parkland.xml
 msgid ""
 "You have a budget deficit. The legislative council will not allow you to "
 "build parks on credit."
 msgstr ""
-"Quan entras en deficit la legislaci?? no et permet construir parcs a cr??dit."
+"Tens d?ficit pressupostari. La legislaci? no et permet construir parcs a cr?dit."
 
 #: data/gui/no-credit-recycle.xml
 msgid ""
 "You have a budget deficit. The legislative council will not allow you to "
 "build recycling centres on credit."
 msgstr ""
-"Quan est??s en deficit La legislaci?? no et permet construir centres de "
-"reciclat a credit."
+"Tens d?ficit pressupostari. La legislaci? no et permet construir centres"
+"de reciclatge a cr?dit."
+""
 
 #: data/gui/no-credit-rocket.xml
 msgid ""
 "You have a budget deficit. The legislative council will not allow you to "
 "build rocket launch pads on credit."
 msgstr ""
-"Quan estas en deficit la legislaci?? no et permet construir Plataformes de "
-"cohets a cr??dit."
+"Tens d?ficit pressupostari. La legislaci? no et permet construir plataformes aeroespacials a cr?dit."
+""
 
 #: data/gui/no-credit-solar-power.xml
 msgid ""
 "You have a budget deficit. The legislative council will not allow you to "
 "build solar power stations on credit."
 msgstr ""
-"Quan estas en deficit La legislaci?? no et permet construir central solar a "
-"credit."
+"Tens d?ficit pressupostari. La legislaci? no et permet construir centrals solars a cr?dit."
+""
 
 #: data/gui/no-credit-university.xml
 msgid ""
 "You have a budget deficit. The legislative council will not allow you to "
 "build universities on credit."
 msgstr ""
-"Quan est??s en deficit. El consell legislatiu no et permet construir "
-"Universitats a cr??dit."
+"Tens d?ficit pressupostari. La legislaci? no et permet construir universitats a cr?dit."
+""
 
 #: data/gui/launch-evac.xml
 msgid ""
 "You have evacuated 1000 people. You might want to reduce the size of your "
 "economy to reflect the reduced population. "
 msgstr ""
-"Has evacuat a 1000 persones. Aquesta reducci?? es reflectar?? en la econom??a. "
+"Has evacuat a 1000 persones. Hauries de reduir les mides de la teva economia per a "
+"reflexar la reduci? de la poblaci?."
 
 #: data/gui/blacksmithup.xml
 msgid ""
 "You have reached the tech level which enables you to build blacksmiths. "
 "Blacksmiths use jobs and steel to make goods."
 msgstr ""
-"Has arrivat al nivell t??cnic de les fargues. Les fargues necessiten llocs de "
+"Has arribat al nivell t?cnic de les fargues. Les fargues necessiten llocs de "
 "treball i acer."
 
 #: data/gui/coalpowerup.xml
@@ -632,7 +639,7 @@
 "You have reached the tech level which enables you to build coal fired power "
 "stations."
 msgstr ""
-"Has arrivat al nivell t??cnic  amb edificis crema carb?? a la central T??rmica."
+"Has arribat al nivell t?cnic que et permet construir centrals t?rmiques."
 
 #: data/gui/firestationup.xml
 msgid ""
@@ -640,8 +647,9 @@
 "Fire stations prevent most fires from starting. If you haven't had any fires "
 "yet, you might not think you need them."
 msgstr ""
-"Has arrivat al nivell t??cnic. Habilita una Estaci?? de Bombers. La Estaci?? de "
-"Bombers  preveu els incendis avans que es produexin i no necesiten apagarlos."
+"Has arribat al nivell t?cnic que et permet construir estacions de bombers."
+"Les estacions de bombers prevenen l'aparici? de la majoria d'incendis. Encara"
+"que no hagis tingut cap incendi no et pensis que no els necessites."
 
 #: data/gui/healthup.xml
 msgid ""
@@ -649,72 +657,72 @@
 "Heath centres reduce the number of people killed by pollution and increase "
 "overall productivity."
 msgstr ""
-"Has arrivat al nivell tecno ara pots construir un centre de Salud. El centre "
-"de salud redueig el nombre de persones mortes per contaminaci?? i incremente "
-"la productivitat."
+"Has arribat al nivell tecnol?gic que et permet construir un centres sanitaris."
+" Els centres sanitaris redueixen el nombre de morts per contaminaci? i fa que "
+"la productivitat s'incrementi."
 
 #: data/gui/hvindustryup.xml
 msgid ""
 "You have reached the tech level which enables you to build heavy industry "
 "(steel works). Heavy industry produces steel. "
 msgstr ""
-"Has asolit un nou nivell t??cnic i podr??s contruir ind??stria pesada (La "
-"industria pesada produeig acer)."
+"Has assolit un nou nivell t?cnic i podr?s construir ind?stries pesades (La "
+"industria pesada produeix acer)."
 
 #: data/gui/ltindustryup.xml
 msgid ""
 "You have reached the tech level which enables you to build light industry. "
 "Light industry produces goods. "
 msgstr ""
-"Has arrivat a un nou nivell t??cnic que et permet construir industria "
-"el??ctrica'. La industria electrica produeix bens."
+"Has arribat a un nou nivell t?cnic que et permet construir ind?stries "
+"el?ctriques. La ind?stria el?ctrica produeix b?ns."
 
 #: data/gui/millup.xml
 msgid ""
 "You have reached the tech level which enables you to build mills. Mills use "
 "jobs and food to make goods. Watch out, they can use a lot of food! "
 msgstr ""
-"Has arrivat a un nou nivell t??cnic que et permet construir f??briques. Les "
-"f??briques donen feina, i aliment i produeixen bens."
+"Has arribat a un nou nivell t?cnic que et permet construir f?briques. Les "
+"f?briques donen feina, aliment i produeixen b?ns."
 
 #: data/gui/mod_wind_up.xml
 msgid ""
 "You have reached the tech level which enables you to build modern, more "
 "efficient, windmills. "
 msgstr ""
-"Has arrivat a un nou nivell t??nic que et permet construir Molins mes moderns."
+"Has arribat a un nou nivell t?cnic que et permet construir Molins de vent m?s moderns."
 
 #: data/gui/parkup.xml
 msgid ""
 "You have reached the tech level which enables you to build parks. Parks are "
 "used to absorb pollution. "
 msgstr ""
-"Has arrivat a un nivell t??cnic que et permet contruir parcs. Els parcs es "
-"fan servir per absorvir la contaminaci??"
+"Has arribat a un nivell t?cnic que et permet contruir parcs. Els parcs es "
+"fan servir per absorbir la contaminaci?"
 
 #: data/gui/potteryup.xml
 msgid ""
 "You have reached the tech level which enables you to build potteries. "
 "Potteries use jobs and ore to make goods. (You need ore mines to get ore) "
 msgstr ""
-"Has arrivat a un nou nivell t??cnic que et permet construir f??briques de "
-"cer??mique. La cer??mique genera feina i produeix bens."
+"Has arribat a un nou nivell t?cnic que et permet construir terrisseries."
+"La cer?mica genera feina i produeix b?ns."
 
 #: data/gui/railwayup.xml
 msgid "You have reached the tech level which enables you to build railways. "
-msgstr "Has arrivat a un nivell t??cnic que et permet construir v??as f??rreas."
+msgstr "Has arribat a un nivell t?cnic que et permet construir vies f?rrees."
 
 #: data/gui/riverup.xml
 msgid "You have reached the tech level which enables you to build rivers. "
-msgstr "Has arrivat a un nivell t??cnic que et permet contruir canals"
+msgstr "Has arribat a un nivell t?cnic que et permet contruir canals."
 
 #: data/gui/roadup.xml
 msgid ""
 "You have reached the tech level which enables you to build roads. See the "
 "help screen for more information."
 msgstr ""
-"Has arrivat a un nivell t??cnic que et permet construir carreteres. Per mes "
-"informaci?? mire la pantalla d'ajuda."
+"Has arribat a un nivell t?cnic que et permet construir carreteres. Trobar?s m?s"
+"informaci? a la pantalla d'ajuda."
 
 #: data/gui/rocketup.xml
 msgid ""
@@ -722,47 +730,47 @@
 "pads. Rockets enable you to evacuate your population and is a way to 'win' "
 "the game."
 msgstr ""
-"Has arrivat a un nivell t??cnic que et permet construir Plataformes de cohets."
-"Els cohets et permeten evacuar la poblaci?? i es un cam?? per guanyar el joc."
+"Has arribat a un nivell t?cnic que et permet construir plataformes aeroespacials."
+"Els coets et permeten evacuar la poblaci? i es una via per guanyar el joc."
 
 #: data/gui/schoolup.xml
 msgid ""
 "You have reached the tech level which enables you to build schools. Schools "
 "use jobs and goods to increase tech level. "
 msgstr ""
-"Has arrivat a un nivell t??nic que et permet construir escoles. Les escoles "
-"donen feina i bens a m??s de incrementar el nivell t??cnic."
+"Has arribat a un nivell t?cnic que et permet construir escoles. Les escoles "
+"necessiten treballadors i b?ns per tal d'incrementar el nivell t?cnic."
 
 #: data/gui/solarpowerup.xml
 msgid ""
 "You have reached the tech level which enables you to build solar power "
 "stations. "
-msgstr "Has arrivat a un nivell t??nic que et permet construir Centarls Solars."
+msgstr "Has arribat a un nivell t?cnic que et permet construir Centrals Solars."
 
 #: data/gui/universityup.xml
 msgid ""
 "You have reached the tech level which enables you to build universities. "
 "Universities produces PhDs, which produce more technology. "
 msgstr ""
-"Has arrivat a un nivell t??nic que et permet construir Universitats. Les "
-"Universitats generen I+D, produint mes tecnolog??a."
+"Has arribat a un nivell t?cnic que et permet construir universitats. Les "
+"Universitats generen I+D, produint mes tecnologia."
 
 #: data/gui/windmillup.xml
 msgid "You have reached the tech level which enables you to build windmills. "
-msgstr "Has arrivat a un nivell t??nic que et permet construir Molins."
+msgstr "Has arribat a un nivell t?cnic que et permet construir molins de vent."
 
 #: data/gui/coalmineup.xml
 msgid ""
 "You have reached the tech level which enables you to dig deep coal mines."
-msgstr "Has arrivat a un nivell t??nic que et permet construir mines de carb??."
+msgstr "Has arribat a un nivell t?cnic que et permet construir mines de carb?."
 
 #: data/gui/recycleup.xml
 msgid ""
 "You have reached the tech level which enables you to recycling centres. "
 "Recycling centres recycle used goods back into ore. "
 msgstr ""
-"Has arrivat a un nivell t??nic que et permet construir Centres de Reciclat. "
-"Els centres de reciclat reutilitzen els articles bells."
+"Has arribat a un nivell t?cnic que et permet construir centres de reciclatge. "
+"Els centres de reciclatge reutilitzen els articles bells i els converteixen en coure."
 
 #: data/gui/launch-gone.xml data/gui/sustain.xml
 msgid "You have won the game."
@@ -770,14 +778,17 @@
 
 #: data/gui/allgone.xml
 msgid "You should start a new career elsewhere."
-msgstr "Necesites comensar una nova partida"
+msgstr "Podrieu comen?ar una nova partida."
 
 #: data/gui/cricketup.xml
 msgid ""
 "Your people have invented basketball. Basketball Courts use a few jobs and "
 "goods and make people in the surrounding areas (about 10 units in each "
 "direction) happier."
-msgstr "La gent a inventat el Basket. El deport fa la gent m??s sana i feli??."
+msgstr ""
+"Els teus habitants han inventat el b?squet. Les pistes de b?squet necessiten"
+"pocs treballadors i b?ns i fan que la gent que hi ha a la vora (aproximadament"
+"10 unitats en cada direcci?) estigui millor."
 
 #: data/gui/launch-fail.xml
 msgid ""
@@ -785,22 +796,23 @@
 "technology for evacuation. You must launch five more unmanned rockets to "
 "restore confidence."
 msgstr ""
-"El teu cohet a explotat despr??s del llansament. La gent que viatjava a dins "
-"a mort. Llansa cuatre cohets sense gent per agafar confiansa."
+"El teu coet a explotat despr?s de l'enlairament. La gent no creu"
+"en la tecnologia per a ser evacuada. Has de llen?ar cinc coets nous"
+"per a guanyar-te la seva confian?a."
 
 #: data/gui/minimap.xml
 msgid "[+] Zoom in view so that less buildings but more details are visible"
 msgstr ""
-"[+] Augmenta el zoom que fa que es mostrin menys edificis per?? m??s detalls "
-"s??n visibles"
+"[+] Augmenta el zoom que fa que es mostrin menys edificis per?"
+"es fan visibles m?s detalls."
 
 #: data/gui/minimap.xml
 msgid "[-] Zoom out"
-msgstr "Allunyar"
+msgstr "[-] Allunyar"
 
 #: data/gui/minimap.xml
 msgid "[F1] Press this button to get help"
-msgstr "[F1] Prem aquet but?? per ayude"
+msgstr "[F1] Prem aquet bot? per obtenir ajuda."
 
 #: data/gui/minimap.xml
 msgid "[h] Hide high buildings. "
@@ -812,4 +824,5 @@
 
 #: data/gui/savegame.xml
 msgid "save to selected slot"
-msgstr "Desa opci?? triada"
+msgstr "Desa l'opci? triada."
+



From wolfgangb at mail.berlios.de  Thu Apr 12 22:13:49 2007
From: wolfgangb at mail.berlios.de (wolfgangb at BerliOS)
Date: Thu, 12 Apr 2007 22:13:49 +0200
Subject: [Lincity-ng-commit] r1177 - in trunk/data: help/sv locale locale/gui
Message-ID: <200704122013.l3CKDnQM031705@sheep.berlios.de>

Author: wolfgangb
Date: 2007-04-12 22:13:49 +0200 (Thu, 12 Apr 2007)
New Revision: 1177

Modified:
   trunk/data/help/sv/blacksmith.xml
   trunk/data/help/sv/button-index.xml
   trunk/data/help/sv/coal.xml
   trunk/data/help/sv/commune.xml
   trunk/data/help/sv/farm.xml
   trunk/data/help/sv/food.xml
   trunk/data/help/sv/goods.xml
   trunk/data/help/sv/mill.xml
   trunk/data/help/sv/recycle.xml
   trunk/data/help/sv/transport.xml
   trunk/data/locale/gui/sv.po
   trunk/data/locale/sv.po
Log:
Updated Swedish translation by Daniel Nylander.


Modified: trunk/data/help/sv/blacksmith.xml
===================================================================
--- trunk/data/help/sv/blacksmith.xml	2007-04-12 20:07:47 UTC (rev 1176)
+++ trunk/data/help/sv/blacksmith.xml	2007-04-12 20:13:49 UTC (rev 1177)
@@ -2,7 +2,7 @@
 <Document style="helpdocument">
 	<p style="htitle">Smedjor</p>
 	<p style="hp">Smedjor g?r om st?l och kol till varor. Du kommer att anv?nda dom mestadels i b?rjan av spelet. De anv?nder ocks? jobb, s? klart.</p>
-	<p style="hp">F?re du har f?tt st?lverk m?ste du lita p? produktionen fr?n spinnerierna. 5 eller 6 spinnerier per smedja ?r rekommenderat.</p>
+	<p style="hp">F?re du har f?tt st?lverk m?ste du lita p? produktionen fr?n verkst?der. 5 eller 6 verkst?der per smedja ?r rekommenderat.</p>
 	<p style="hp">Smedjor m?ste inte vara kopplade till transporter. De kan f? allt de beh?ver fr?n marknaden som finns inom r?ckh?ll.</p>
 	<p style="hp">Du kan se n?r en smedja arbetar normalt genom att klicka p? den och till och fr?n startas animationen upp.</p>
 

Modified: trunk/data/help/sv/button-index.xml
===================================================================
--- trunk/data/help/sv/button-index.xml	2007-04-12 20:07:47 UTC (rev 1176)
+++ trunk/data/help/sv/button-index.xml	2007-04-12 20:13:49 UTC (rev 1177)
@@ -102,7 +102,7 @@
 
 	<!--<p style="subtitle">Parker</p>-->
 	<img src="images/gui/buttonpanel/parks/mills.png"/>
-	<p><a href="mill">Spinneri</a></p>
+	<p><a href="mill">Verkstad</a></p>
 
 	<!--<p style="subtitle">Industri</p>-->
 	<img src="images/gui/buttonpanel/industry/pottery.png"/>

Modified: trunk/data/help/sv/coal.xml
===================================================================
--- trunk/data/help/sv/coal.xml	2007-04-12 20:07:47 UTC (rev 1176)
+++ trunk/data/help/sv/coal.xml	2007-04-12 20:13:49 UTC (rev 1177)
@@ -1,7 +1,7 @@
 ?<?xml version="1.0"?>
 <Document style="helpdocument">
 	<p style="htitle">Kol</p>
-	<p style="hp">Kol anv?nds av kolkraftverk f?r att producera elektricitet (str?m). Det ?r ocks? anv?nt av keramikfabriker, spinnerier och smedjor f?r att producera varor. Tung industri (st?lverk) anv?nder kol n?r du inte kan f? elektricitet.</p>
+	<p style="hp">Kol anv?nds av kolkraftverk f?r att producera elektricitet (str?m). Det ?r ocks? anv?nt av keramikfabriker, verkst?der och smedjor f?r att producera varor. Tung industri (st?lverk) anv?nder kol n?r du inte kan f? elektricitet.</p>
 	<p style="hp">Kol gr?vs fram under marken av kolgruvor. Det finns en begr?nsad m?ngd som du kan se med hj?lp av kolreservknappen (se kolgruvor).</p>
 	<p style="hp">Kolmilor ger lite 'kol' ocks?. Egentligen ?r detta tr?kol fr?n nedhuggen skog. De ger bara sm? m?ngder, tillr?ckligt f?r ett par keramikfabriker och smedjor.</p>
 	<p style="hp">Du kan se n?r en smedja arbetar normalt, genom att klicka p? det och till och fr?n visas animationen.</p>

Modified: trunk/data/help/sv/commune.xml
===================================================================
--- trunk/data/help/sv/commune.xml	2007-04-12 20:07:47 UTC (rev 1176)
+++ trunk/data/help/sv/commune.xml	2007-04-12 20:13:49 UTC (rev 1177)
@@ -2,7 +2,7 @@
 <Document style="helpdocument">
 	<p style="htitle">Kolmilor</p>
 	<p style="hp">Kolmilor ?r omr?den d?r tr?kol framst?lls av nedhuggen skog (samma som kol h?r). De producerar ocks? sm? m?ngder av malm och st?l.</p>
-	<p style="hp">Du kommer att beh?ver ett antal kolmilor f?r att framst?lla tillr?ckligt mycket kol och st?l f?r omr?den s?som keramikfabriker, smedjor och spinnerier.</p>
+	<p style="hp">Du kommer att beh?ver ett antal kolmilor f?r att framst?lla tillr?ckligt mycket kol och st?l f?r omr?den s?som keramikfabriker, smedjor och verkst?der.</p>
 	<p style="hp">Om en kolmila inte har producerat n?got p? 10 ?r kommer den att st?ngas och omr?det ombildas till en park.</p>
 	<p style="hp">Kolmilor ansluts till transporter p? vilken punkt som helst, inte bara till porten.</p>
 	
@@ -14,7 +14,7 @@
 	<p style="hsubtitle">Se ocks?:</p>
 	<li><a href="pottery">Keramikfabrik</a></li>
 	<li><a href="blacksmith">Smedjor</a></li>
-	<li><a href="mill">Spinnerier</a></li>
+	<li><a href="mill">Verkst?der</a></li>
 	<li><a href="oremine">Malmgruvor</a></li>
 	<li><a href="steel">St?l</a></li>
 </Document>

Modified: trunk/data/help/sv/farm.xml
===================================================================
--- trunk/data/help/sv/farm.xml	2007-04-12 20:07:47 UTC (rev 1176)
+++ trunk/data/help/sv/farm.xml	2007-04-12 20:13:49 UTC (rev 1177)
@@ -1,7 +1,7 @@
 ?<?xml version="1.0"?>
 <Document style="helpdocument">
 	<p style="htitle">Bondg?rdar</p>
-	<p style="hp">Bondg?rdar framst?ller mat s? folk kan ?ta och f?r att ge r?material till spinnerier. B?nder kan s?lja maten till marknader. De levererar den med traktor s? de beh?ver inte n?gon transport. Men de kan s?lja till transporter om du vill. S? klart beh?ver du se till att marknaden ?r inom r?ckh?ll f?r bondg?rden.</p>
+	<p style="hp">Bondg?rdar framst?ller mat s? folk kan ?ta och f?r att ge r?material till verkst?der. B?nder kan s?lja maten till marknader. De levererar den med traktor s? de beh?ver inte n?gon transport. Men de kan s?lja till transporter om du vill. S? klart beh?ver du se till att marknaden ?r inom r?ckh?ll f?r bondg?rden.</p>
 
 	<p style="hp">Detta ?r en bondg?rd</p>
 	<img src="images/tiles/farm0.png" halign="center"/>

Modified: trunk/data/help/sv/food.xml
===================================================================
--- trunk/data/help/sv/food.xml	2007-04-12 20:07:47 UTC (rev 1176)
+++ trunk/data/help/sv/food.xml	2007-04-12 20:13:49 UTC (rev 1177)
@@ -3,11 +3,11 @@
 	<p style="htitle">Mat</p>
 	<p style="hp">Mat framst?lls p? bondg?rdar eller importeras via en hamn.</p>
 	<p style="hp">Ditt folk beh?ver mat f?r att ?verleva. Om du sv?lter dom kommer de att flytta fr?n omr?det och n?gra kan ?ven d? av sv?lt.</p>
-	<p style="hp">Spinnerier anv?nder ocks? mat. De g?r, l?t oss s?ga bomull till kl?der. De kan anv?nda <i>en hel del</i> mat - t?nk p? det.</p>
+	<p style="hp">Verkst?der anv?nder ocks? mat. De g?r, l?t oss s?ga bomull till kl?der. De kan anv?nda <i>en hel del</i> mat - t?nk p? det.</p>
 	
 	<p style="hsubtitle">Se ocks?:</p>
 	<li><a href="farm">Bondg?rd</a></li>
 	<li><a href="port">Hamn</a></li>
-	<li><a href="mill">Spinneri</a></li>
+	<li><a href="mill">Verkst?der</a></li>
 	<li><a href="steel">St?l</a></li>
 </Document>

Modified: trunk/data/help/sv/goods.xml
===================================================================
--- trunk/data/help/sv/goods.xml	2007-04-12 20:07:47 UTC (rev 1176)
+++ trunk/data/help/sv/goods.xml	2007-04-12 20:13:49 UTC (rev 1177)
@@ -3,11 +3,11 @@
 	<p style="htitle">Varor</p>
 	<p style="hp">Varor beh?vs f?r att de flesta omr?den ska fungera. Folk mycket tycker om dom ocks? och ?r intresserade av omr?den d?r du kan f? tag p? dom.</p>
 	<p style="hp">Varor ?r beskattade s? att tillverka dom hj?lper din ekonomi.</p>
-	<p style="hp">Varor produceras av keramikfabriker, spinnerier och (vanliga) industrier.</p>
+	<p style="hp">Varor produceras av keramikfabriker, verkst?der och (vanliga) industrier.</p>
 
 	<p style="hsubtitle">Se ocks?:</p>
 	<li><a href="pottery">Keramikfabriker</a></li>
 	<li><a href="blacksmith">Smedjor</a></li>
-	<li><a href="mills">Spinnerier</a></li>
+	<li><a href="mills">Verkst?der</a></li>
 	<li><a href="industryl">Industrier</a></li>
 </Document>

Modified: trunk/data/help/sv/mill.xml
===================================================================
--- trunk/data/help/sv/mill.xml	2007-04-12 20:07:47 UTC (rev 1176)
+++ trunk/data/help/sv/mill.xml	2007-04-12 20:13:49 UTC (rev 1177)
@@ -1,13 +1,13 @@
 ?<?xml version="1.0"?>
 <Document style="helpdocument">
-	<p style="htitle">Spinnerier</p>
-	<p style="hp">Spinnerier konverterar mat, kol och jobb till varor. Mat?... tja, bomull och ull r?knas som mat i det h?r spelet.</p>
-	<p style="hp">Spinnerier anv?nder ganska mycket mat s? du kan l?tt f? brist p? mat om du inte t?nker p? detta. (Det ?r ett mindre problem n?r du har v?derkvarnar eftersom de kan ge str?m till bondg?rdar som d? g?r dom mer effektiva)</p>
-	<p style="hp">Spinnerier m?ste inte vara anslutna till transporter. Om inte, m?ste de vara inom r?ckh?ll f?r en marknad med kol, jobb och mat. Du kan se n?r spinneriet arbetar eftersom r?k och ?nga kommer ut fr?n byggnaden.</p>
+	<p style="htitle">Verkst?der</p>
+	<p style="hp">Verkst?der konverterar mat, kol och jobb till varor. Mat?... tja, bomull och ull r?knas som mat i det h?r spelet.</p>
+	<p style="hp">Verkst?der anv?nder ganska mycket mat s? du kan l?tt f? brist p? mat om du inte t?nker p? detta. (Det ?r ett mindre problem n?r du har v?derkvarnar eftersom de kan ge str?m till bondg?rdar som d? g?r dom mer effektiva)</p>
+	<p style="hp">Verkst?der m?ste inte vara anslutna till transporter. Om inte, m?ste de vara inom r?ckh?ll f?r en marknad med kol, jobb och mat. Du kan se n?r verkstaden arbetar eftersom r?k och ?nga kommer ut fr?n byggnaden.</p>
 	
-	<p style="hp">Detta ?r ett spinneri</p>
+	<p style="hp">Detta ?r en verkstad</p>
 	<img src="images/tiles/mill1.png" halign="center"/>
-	<p style="hp">Detta ?r ett icke-arbetande spinneri</p>
+	<p style="hp">Detta ?r en icke-arbetande verkstad</p>
 	<img src="images/tiles/mill0.png" halign="center"/>
 	<p style="hp">och detta ?r dess ikon</p>
 	<img src="images/gui/buttonpanel/parks/mills.png" halign="center"/>

Modified: trunk/data/help/sv/recycle.xml
===================================================================
--- trunk/data/help/sv/recycle.xml	2007-04-12 20:07:47 UTC (rev 1176)
+++ trunk/data/help/sv/recycle.xml	2007-04-12 20:13:49 UTC (rev 1177)
@@ -3,7 +3,7 @@
 	<p style="htitle">?tervinningscentraler</p>
 	<p style="hp">Anv?nda varor producerar skr?p.</p>
 	<p style="hp">?tervinningscentraler konverterar anv?nda varor till malm. De m?ste vara ansluta till transporter p? ?vre v?nstra sidan. Jobb och pengar anv?nds f?r att samla in skr?p och konvertera dom till f?rsk malm.</p>
-	<p style="hp">Det ?r m?jligt att driva en h?llbar ekonomi (allts? ingen mer malmbrytning etc.) med mindre ?n 100% effektiva ?tervinningscentraler om du har n?gra spinnerier som kompenserar f?r det 'f?rlorade' skr?pet.</p>
+	<p style="hp">Det ?r m?jligt att driva en h?llbar ekonomi (allts? ingen mer malmbrytning etc.) med mindre ?n 100% effektiva ?tervinningscentraler om du har n?gra verkst?der som kompenserar f?r det 'f?rlorade' skr?pet.</p>
 
 	<p style="hp">Detta ?r en ?tervinningscentral</p>
 	<img src="images/tiles/recycle-centre.png" halign="center"/>

Modified: trunk/data/help/sv/transport.xml
===================================================================
--- trunk/data/help/sv/transport.xml	2007-04-12 20:07:47 UTC (rev 1176)
+++ trunk/data/help/sv/transport.xml	2007-04-12 20:13:49 UTC (rev 1177)
@@ -5,7 +5,7 @@
 	<p style="hp">Folk kan h?mta mat, varor och jobb fr?n marknader som ?r inom g?ngavst?nd fr?n deras bostadsomr?de.</p>
 	<p style="hp">Alla omr?den som beh?ver jobb (anst?llda) f?r dom fr?n marknader. Till exempel kommer ett st?lverk f? sina anst?llda fr?n den lokala marknaden. De kan ocks? g? den fr?n f?rbipasserande transporter.</p>
 	<p style="hp">Bondg?rdar kan s?lja sin mat direkt till marknader, de beh?ver inte transportera det alls.</p>
-	<p style="hp">Spinnerier, keramikfabriker och smedjor kan s?lja varor direkt till n?rliggande marknader, de kan ocks? f? sitt r?material fr?n samma marknad.</p>
+	<p style="hp">Verkst?der, keramikfabriker och smedjor kan s?lja varor direkt till n?rliggande marknader, de kan ocks? f? sitt r?material fr?n samma marknad.</p>
 	<p style="hp">F?ljande omr?den innefattar transporter och marknader. Det ?r upp till dig vad du anv?nder - marknader kan ha st?rre <i>lager</i> ?n transporter.</p>
 	<p style="hp">Sp?r, v?gar och j?rnv?gar anv?nds f?r att transportera mat, jobb, varor, kol, malm och st?l mellan omr?den.</p>
 	<p style="hp">Industier, malmgruvor, soptippar, hamnar, kolgruvor, tung industri och ?tervinningscentraler ansluts till transporter vid ?vre v?nstra h?rnet.</p>
@@ -17,7 +17,7 @@
 	<li><a href="residential">Bost?der</a></li>
 	<li><a href="market">Marknad</a></li>
 	<li><a href="farm">Bondg?rdar</a></li>
-	<li><a href="mill">Spinnerier</a></li>
+	<li><a href="mill">Verkst?der</a></li>
 	<li><a href="pottery">Keramikfabriker</a></li>
 	<li><a href="industryl">Industri</a></li>
 	<li><a href="oremine">Malmgruvor</a></li>

Modified: trunk/data/locale/gui/sv.po
===================================================================
--- trunk/data/locale/gui/sv.po	2007-04-12 20:07:47 UTC (rev 1176)
+++ trunk/data/locale/gui/sv.po	2007-04-12 20:13:49 UTC (rev 1177)
@@ -2,14 +2,14 @@
 # Swedish messages for lincity-ng.
 # Copyright (C) 2005 THE PACKAGE'S COPYRIGHT HOLDER
 # This file is distributed under the same license as the lincity-ng package.
-# Daniel Nylander <po at danielnylander.se>, 2005.
+# Daniel Nylander <po at danielnylander.se>, 2005, 2007.
 #
 msgid ""
 msgstr ""
 "Project-Id-Version: lincity-ng 1.1.0\n"
 "Report-Msgid-Bugs-To: \n"
 "POT-Creation-Date: %1\n"
-"PO-Revision-Date: 2007-01-28 14:11+0100\n"
+"PO-Revision-Date: 2007-04-11 10:58+0100\n"
 "Last-Translator: Daniel Nylander <po at danielnylander.se>\n"
 "Language-Team: Swedish <tp-sv at listor.tp-sv.se>\n"
 "MIME-Version: 1.0\n"
@@ -208,7 +208,7 @@
 
 #: data/gui/millup.xml
 msgid "Mills available"
-msgstr "Spinnerier tillg?ngliga"
+msgstr "Verkst?der tillg?ngliga"
 
 #: data/gui/mod_wind_up.xml
 msgid "Modern Windmills available"
@@ -607,7 +607,7 @@
 
 #: data/gui/millup.xml
 msgid "You have reached the tech level which enables you to build mills. Mills use jobs and food to make goods. Watch out, they can use a lot of food! "
-msgstr "Du har n?tt fram till teknologiniv?n som l?ter dig bygga spinnerier. Spinnerier anv?nder jobb och mat f?r att producera varor. T?nk p? att de kan anv?nda mycket mat! "
+msgstr "Du har n?tt fram till teknologiniv?n som l?ter dig bygga verkst?der. Verkst?der anv?nder jobb och mat f?r att producera varor. T?nk p? att de kan anv?nda mycket mat! "
 
 #: data/gui/mod_wind_up.xml
 msgid "You have reached the tech level which enables you to build modern, more efficient, windmills. "

Modified: trunk/data/locale/sv.po
===================================================================
--- trunk/data/locale/sv.po	2007-04-12 20:07:47 UTC (rev 1176)
+++ trunk/data/locale/sv.po	2007-04-12 20:13:49 UTC (rev 1177)
@@ -9,7 +9,7 @@
 "Project-Id-Version: lincity-ng 1.1.0\n"
 "Report-Msgid-Bugs-To: \n"
 "POT-Creation-Date: 2005-05-12 13:28+0200\n"
-"PO-Revision-Date: 2007-01-28 18:02+0100\n"
+"PO-Revision-Date: 2007-04-11 10:57+0100\n"
 "Last-Translator: Daniel Nylander <po at danielnylander.se>\n"
 "Language-Team: Swedish <tp-sv at listor.tp-sv.se>\n"
 "MIME-Version: 1.0\n"
@@ -155,7 +155,7 @@
 
 #: src/lincity/engine.cpp:737
 msgid "It's at a mill."
-msgstr "Det ?r ett spinneri."
+msgstr "Det ?r en verkstad."
 
 #: src/lincity/engine.cpp:739
 msgid "It's at a pottery."
@@ -329,7 +329,7 @@
 
 #: src/lincity/lintypes.cpp:358
 msgid "Mill"
-msgstr "Spinneri"
+msgstr "Verkstad"
 
 #: src/lincity/lintypes.cpp:370
 #: src/lincity/modules/pottery.cpp:119
@@ -906,7 +906,7 @@
 #: src/lincity-ng/Dialog.cpp:374
 #, c-format
 msgid ".Deaths by starvation %7d   History %8.3f"
-msgstr ".D?da av sv?lt %7d   Historik %8.3f"
+msgstr ".D?da av sv?lt          %7d   Historik %8.3f"
 
 #: src/lincity-ng/Dialog.cpp:379
 #, c-format
@@ -916,7 +916,7 @@
 #: src/lincity-ng/Dialog.cpp:383
 #, c-format
 msgid "Years of unemployment %7d   History %8.3f"
-msgstr "?r av arbetsl?shet %7d   Historik %8.3f"
+msgstr "?r av arbetsl?shet      %7d   Historik %8.3f"
 
 #: src/lincity-ng/Dialog.cpp:387
 #, c-format
@@ -926,52 +926,52 @@
 #: src/lincity-ng/Dialog.cpp:397
 #, c-format
 msgid ".   Residences %4d         Markets %4d            Farms %4d"
-msgstr ".   Bost?der %4d         Marknader %4d            Bondg?rdar %4d"
+msgstr ".     Bost?der %4d       Marknader %4d       Bondg?rdar %4d"
 
 #: src/lincity-ng/Dialog.cpp:408
 #, c-format
 msgid ".       Tracks %4d           Roads %4d             Rail %4d"
-msgstr ".       Sp?r %4d           V?gar %4d             J?rnv?g %4d"
+msgstr ".         Sp?r %4d           V?gar %4d          J?rnv?g %4d"
 
 #: src/lincity-ng/Dialog.cpp:413
 #, c-format
 msgid ".    Potteries %4d     Blacksmiths %4d            Mills %4d"
-msgstr ".    Keramikfabriker %4d     Smedjor %4d            Spinnerier %4d"
+msgstr ".Keramikfabrik %4d         Smedjor %4d       Verkst?der %4d"
 
 #: src/lincity-ng/Dialog.cpp:418
 #, c-format
 msgid ".    Monuments %4d         Schools %4d     Universities %4d"
-msgstr ".    Monument %4d         Skolor %4d     Universitet %4d"
+msgstr ".     Monument %4d          Skolor %4d      Universitet %4d"
 
 #: src/lincity-ng/Dialog.cpp:423
 #, c-format
 msgid ".Fire stations %4d           Parks %4d    Sports fields %4d"
-msgstr ". Brandstationer %4d           Parker %4d    Sportarenor %4d"
+msgstr ". Brandstation %4d          Parker %4d      Sportarenor %4d"
 
 #: src/lincity-ng/Dialog.cpp:428
 #, c-format
 msgid ".   Coal mines %4d       Ore mines %4d         Communes %4d"
-msgstr ".   Kolgruvor %4d       Malmgruvor %4d         Kolmilor %4d"
+msgstr ".    Kolgruvor %4d      Malmgruvor %4d         Kolmilor %4d"
 
 #: src/lincity-ng/Dialog.cpp:433
 #, c-format
 msgid ".    Windmills %4d     Coal powers %4d     Solar powers %4d"
-msgstr ".    V?derkvarnar %4d     Kolkraft %4d     Solkraft %4d"
+msgstr ". V?derkvarnar %4d        Kolkraft %4d         Solkraft %4d"
 
 #: src/lincity-ng/Dialog.cpp:439
 #, c-format
 msgid ".  Substations %4d     Power lines %4d            Ports %4d"
-msgstr ".  Rel?stationer %4d     Kraftledningar %4d            Hamnar %4d"
+msgstr ".Rel?stationer %4d    Kraftledning %4d           Hamnar %4d"
 
 #: src/lincity-ng/Dialog.cpp:444
 #, c-format
 msgid ".   Light inds %4d      Heavy inds %4d        Recyclers %4d"
-msgstr ".   Industri %4d      Tung industri %4d        ?tervinning %4d"
+msgstr ".   Industrier %4d   Tung industri %4d      ?tervinning %4d"
 
 #: src/lincity-ng/Dialog.cpp:449
 #, c-format
 msgid "Health centres %4d            Tips %4d         Shanties %4d"
-msgstr "Sjukhus %4d            Soptippar %4d         K?kst?der %4d"
+msgstr "       Sjukhus %4d       Soptippar %4d        K?kst?der %4d"
 
 #: src/lincity-ng/GameView.cpp:236
 msgid "Minimap: outline map"



From wolfgangb at mail.berlios.de  Thu Apr 12 23:00:51 2007
From: wolfgangb at mail.berlios.de (wolfgangb at BerliOS)
Date: Thu, 12 Apr 2007 23:00:51 +0200
Subject: [Lincity-ng-commit] r1178 - in trunk/src: gui gui/PainterGL
	gui/PainterSDL lincity-ng
Message-ID: <200704122100.l3CL0pRh002351@sheep.berlios.de>

Author: wolfgangb
Date: 2007-04-12 23:00:42 +0200 (Thu, 12 Apr 2007)
New Revision: 1178

Modified:
   trunk/src/gui/Painter.hpp
   trunk/src/gui/PainterGL/PainterGL.cpp
   trunk/src/gui/PainterGL/PainterGL.hpp
   trunk/src/gui/PainterSDL/PainterSDL.cpp
   trunk/src/gui/PainterSDL/PainterSDL.hpp
   trunk/src/gui/PainterSDL/TextureSDL.cpp
   trunk/src/gui/PainterSDL/TextureSDL.hpp
   trunk/src/lincity-ng/Game.cpp
Log:
SDL Speedup patch by Ed Mandy.
http://developer.berlios.de/patch/?func=detailpatch&patch_id=1949&group_id=2929


Modified: trunk/src/gui/Painter.hpp
===================================================================
--- trunk/src/gui/Painter.hpp	2007-04-12 20:13:49 UTC (rev 1177)
+++ trunk/src/gui/Painter.hpp	2007-04-12 21:00:42 UTC (rev 1178)
@@ -34,9 +34,9 @@
 public:
     virtual ~Painter()
     { }
-    
+
     virtual void drawTexture(const Texture* texture, const Vector2& pos) = 0;
-    virtual void drawStretchTexture(const Texture* texture, const Rect2D& rect) = 0;
+    virtual void drawStretchTexture(Texture* texture, const Rect2D& rect) = 0;
     virtual void fillRectangle(const Rect2D& rect) = 0;
     virtual void drawRectangle(const Rect2D& rect) = 0;
     virtual void fillPolygon(int numberPoints, const Vector2* points) = 0;

Modified: trunk/src/gui/PainterGL/PainterGL.cpp
===================================================================
--- trunk/src/gui/PainterGL/PainterGL.cpp	2007-04-12 20:13:49 UTC (rev 1177)
+++ trunk/src/gui/PainterGL/PainterGL.cpp	2007-04-12 21:00:42 UTC (rev 1178)
@@ -36,21 +36,40 @@
 PainterGL::~PainterGL()
 {
     glDisable(GL_BLEND);
-    glDisable(GL_TEXTURE_2D);       
+    glDisable(GL_TEXTURE_2D);
 }
 
 void
+PainterGL::drawTextureRect(const Texture* texture, const Rect2D& rect)
+{
+    const TextureGL* textureGL = static_cast<const TextureGL*> (texture);
+    const Rect2D& r = textureGL->rect;
+
+    glColor4ub( 0xff, 0xff, 0xff, 0xff );
+
+    glBindTexture(GL_TEXTURE_2D, textureGL->handle);
+    glBegin(GL_QUADS);
+    glTexCoord2f(r.p1.x, r.p1.y);
+    glVertex3f(rect.p1.x, rect.p1.y, 0);
+    glTexCoord2f(r.p1.x, r.p2.y);
+    glVertex3f(rect.p1.x, rect.p2.y, 0);
+    glTexCoord2f(r.p2.x, r.p2.y);
+    glVertex3f(rect.p2.x, rect.p2.y, 0);
+    glTexCoord2f(r.p2.x, r.p1.y);
+    glVertex3f(rect.p2.x, rect.p1.y, 0);
+    glEnd();
+}
+void
 PainterGL::drawTexture(const Texture* texture, const Vector2& pos)
 {
     Rect2D rect(pos, pos + Vector2(texture->getWidth(), texture->getHeight()));
-    drawStretchTexture(texture, rect);
+    drawTextureRect(texture, rect);
 }
 
 void
-PainterGL::drawStretchTexture(const Texture* texture, const Rect2D& rect)
+PainterGL::drawStretchTexture(Texture* texture, const Rect2D& rect)
 {
     assert(typeid(*texture) == typeid(TextureGL));
-    const TextureGL* textureGL = static_cast<const TextureGL*> (texture);
 
     if(texture == 0) {
         std::cerr << "Trying to render 0 texture.";
@@ -59,20 +78,8 @@
 #endif
         return;
     }
-    glColor4ub( 0xff, 0xff, 0xff, 0xff );
 
-    const Rect2D& r = textureGL->rect;
-    glBindTexture(GL_TEXTURE_2D, textureGL->handle);
-    glBegin(GL_QUADS);
-    glTexCoord2f(r.p1.x, r.p1.y);
-    glVertex3f(rect.p1.x, rect.p1.y, 0);
-    glTexCoord2f(r.p1.x, r.p2.y);
-    glVertex3f(rect.p1.x, rect.p2.y, 0);
-    glTexCoord2f(r.p2.x, r.p2.y);
-    glVertex3f(rect.p2.x, rect.p2.y, 0);
-    glTexCoord2f(r.p2.x, r.p1.y);
-    glVertex3f(rect.p2.x, rect.p1.y, 0);
-    glEnd();
+    drawTextureRect(texture, rect);
 }
 
 void
@@ -173,7 +180,7 @@
 PainterGL::pushTransform()
 {
     glMatrixMode(GL_MODELVIEW);
-    glPushMatrix();    
+    glPushMatrix();
 }
 
 void
@@ -188,7 +195,7 @@
 {
     GLfloat matrix[16];
     glGetFloatv(GL_MODELVIEW_MATRIX, matrix);
-        
+
     int screenHeight = SDL_GetVideoSurface()->h;
     glViewport((GLint) (rect.p1.x + matrix[12]),
                (GLint) (screenHeight - rect.getHeight() - (rect.p1.y + matrix[13])),
@@ -197,7 +204,7 @@
     glMatrixMode(GL_PROJECTION);
     glLoadIdentity();
     glOrtho(rect.p1.x + matrix[12], rect.p1.x + matrix[12] + rect.getWidth(),
-            rect.p1.y + matrix[13] + rect.getHeight(), 
+            rect.p1.y + matrix[13] + rect.getHeight(),
             rect.p1.y + matrix[13], -1, 1);
 }
 

Modified: trunk/src/gui/PainterGL/PainterGL.hpp
===================================================================
--- trunk/src/gui/PainterGL/PainterGL.hpp	2007-04-12 20:13:49 UTC (rev 1177)
+++ trunk/src/gui/PainterGL/PainterGL.hpp	2007-04-12 21:00:42 UTC (rev 1178)
@@ -32,9 +32,9 @@
 public:
     PainterGL();
     virtual ~PainterGL();
-    
+
     void drawTexture(const Texture* texture, const Vector2& pos);
-    void drawStretchTexture(const Texture* texture, const Rect2D& rect);
+    void drawStretchTexture(Texture* texture, const Rect2D& rect);
     void fillRectangle(const Rect2D& rect);
     void drawRectangle(const Rect2D& rect);
     void fillPolygon(int numberPoints, const Vector2* points);
@@ -52,10 +52,11 @@
     void setLineColor(Color color);
 
     Painter* createTexturePainter(Texture* texture);
-    
+
 private:
     PainterGL(TextureGL* texture);
-    
+    void drawTextureRect(const Texture* texture, const Rect2D& rect);
+
     class Transform
     {
     public:

Modified: trunk/src/gui/PainterSDL/PainterSDL.cpp
===================================================================
--- trunk/src/gui/PainterSDL/PainterSDL.cpp	2007-04-12 20:13:49 UTC (rev 1177)
+++ trunk/src/gui/PainterSDL/PainterSDL.cpp	2007-04-12 21:00:42 UTC (rev 1178)
@@ -26,6 +26,7 @@
 #include <SDL_opengl.h>
 #include <SDL_gfxPrimitives.h>
 #include <SDL_rotozoom.h>
+#include <SDL_video.h>
 #include <stdlib.h>
 
 #include "TextureSDL.hpp"
@@ -49,12 +50,13 @@
 {
 }
 
+//ERM  this function seems to account for SOME of the slowdown
 void
 PainterSDL::drawTexture(const Texture* texture, const Vector2& pos)
 {
     assert(typeid(*texture) == typeid(TextureSDL));
     const TextureSDL* textureSDL = static_cast<const TextureSDL*> (texture);
-    
+
     if(texture == 0) {
         std::cerr << "Trying to render 0 texture.";
 #ifdef DEBUG
@@ -64,19 +66,54 @@
     }
 
     Vector2 screenpos = transform.apply(pos);
-    
+
     SDL_Rect drect;
     drect.x = lrint(screenpos.x);
     drect.y = lrint(screenpos.y);
     SDL_BlitSurface(textureSDL->surface, 0, target, &drect);
 }
 
+//RectIntersection checks to see if two SDL_Rects intersect each other
+//  This is actually stolen from SDL code (SDL_HasIntersection function in SDL_rect.c),
+//  but I think that's a very recent addition which is not accessible here.
+bool RectIntersection(const SDL_Rect * A, const SDL_Rect * B)
+{
+    int Amin, Amax, Bmin, Bmax;
+
+    // Horizontal intersection
+    Amin = A->x;
+    Amax = Amin + A->w;
+    Bmin = B->x;
+    Bmax = Bmin + B->w;
+    if (Bmin > Amin)
+        Amin = Bmin;
+    if (Bmax < Amax)
+        Amax = Bmax;
+    if (Amax <= Amin)
+        return false;
+
+    // Vertical intersection
+    Amin = A->y;
+    Amax = Amin + A->h;
+    Bmin = B->y;
+    Bmax = Bmin + B->h;
+    if (Bmin > Amin)
+        Amin = Bmin;
+    if (Bmax < Amax)
+        Amax = Bmax;
+    if (Amax <= Amin)
+        return false;
+
+    return true;
+}
+
+//ERM  this function seems to account for MOST of the slowdown
 void
-PainterSDL::drawStretchTexture(const Texture* texture, const Rect2D& rect)
+PainterSDL::drawStretchTexture(Texture* texture, const Rect2D& rect)
 {
     assert(typeid(*texture) == typeid(TextureSDL));
-    const TextureSDL* textureSDL = static_cast<const TextureSDL*> (texture);
-    
+    TextureSDL* textureSDL = static_cast< TextureSDL*> (texture);
+
     if(texture == 0 || texture->getWidth() == 0 || texture->getHeight() == 0) {
         std::cerr << "Trying to render 0 texture.";
 #ifdef DEBUG
@@ -86,8 +123,8 @@
     }
 
     Vector2 screenpos = transform.apply(rect.p1);
-    
-    SDL_Rect drect;
+
+    SDL_Rect drect, cliprect;
     drect.x = lroundf(screenpos.x);
     drect.y = lroundf(screenpos.y);
     // kinda hacky... but zoomSurface sometimes produces 1 pixel too small
@@ -95,16 +132,38 @@
     drect.w = lroundf(rect.getWidth()) /*+ 1*/;
     drect.h = lroundf(rect.getHeight()) /*+ 1*/;
 
+    SDL_GetClipRect(target, &cliprect);  //get the current cliprect for the target
+
+    //This intersection test would not normally be necessary since SDL_BlitSurface
+    //  will only blit to the cliprect and skip others.
+    //  The problem here is that we are zooming all surfaces before blitting, so
+    //  even the clipped rects get zoomed.
+    //  So, the solution is to do the clipping ourselves so that we don't zoom
+    //  surfaces ultimately destined to be clipped.
+    if(!RectIntersection(&drect, &cliprect))
+        return;
+
     double zoomx = drect.w / textureSDL->getWidth();
-    double zoomy = drect.h / textureSDL->getHeight(); 
-    SDL_Surface *tmp 
-        = zoomSurface(textureSDL->surface, zoomx, zoomy, SMOOTHING_OFF);
+    double zoomy = drect.h / textureSDL->getHeight();
+
+    //This code caches zoomed surfaces so that they do not need to be zoomed each blit
+    if(textureSDL->zoomSurface == NULL || zoomx != textureSDL->zoomx || zoomy != textureSDL->zoomy)
+    {
+        textureSDL->setZoomSurface(zoomSurface(textureSDL->surface, zoomx, zoomy, SMOOTHING_OFF), zoomx, zoomy);
+    }
+    SDL_BlitSurface(textureSDL->zoomSurface, 0, target, &drect);
+
+/*
+    //This was the original code that would zoom a surface, blit it, and then free it.
+    SDL_Surface *tmp;
+    tmp = zoomSurface(textureSDL->surface, zoomx, zoomy, SMOOTHING_OFF);
     SDL_BlitSurface(tmp, 0, target, &drect);
     SDL_FreeSurface(tmp);
+*/
 }
 
 
-void 
+void
 PainterSDL::fillPolygon(int numberPoints, const Vector2* points)
 {
     Vector2 screenpos;
@@ -223,8 +282,8 @@
 PainterSDL::createTexturePainter(Texture* texture)
 {
     assert(typeid(*texture) == typeid(TextureSDL));
-    TextureSDL* textureSDL = static_cast<TextureSDL*> (texture);    
-    
+    TextureSDL* textureSDL = static_cast<TextureSDL*> (texture);
+
     return new PainterSDL(textureSDL);
 }
 

Modified: trunk/src/gui/PainterSDL/PainterSDL.hpp
===================================================================
--- trunk/src/gui/PainterSDL/PainterSDL.hpp	2007-04-12 20:13:49 UTC (rev 1177)
+++ trunk/src/gui/PainterSDL/PainterSDL.hpp	2007-04-12 21:00:42 UTC (rev 1178)
@@ -37,9 +37,9 @@
 public:
     PainterSDL(SDL_Surface* target);
     virtual ~PainterSDL();
-    
+
     void drawTexture(const Texture* texture, const Vector2& pos);
-    void drawStretchTexture(const Texture* texture, const Rect2D& rect);
+    void drawStretchTexture(Texture* texture, const Rect2D& rect);
     void fillRectangle(const Rect2D& rect);
     void drawRectangle(const Rect2D& rect);
     void fillPolygon(int numberPoints, const Vector2* points);
@@ -57,10 +57,10 @@
     void setLineColor(Color color);
 
     Painter* createTexturePainter(Texture* texture);
-    
+
 private:
     PainterSDL(TextureSDL* texture);
-    
+
     class Transform
     {
     public:

Modified: trunk/src/gui/PainterSDL/TextureSDL.cpp
===================================================================
--- trunk/src/gui/PainterSDL/TextureSDL.cpp	2007-04-12 20:13:49 UTC (rev 1177)
+++ trunk/src/gui/PainterSDL/TextureSDL.cpp	2007-04-12 21:00:42 UTC (rev 1178)
@@ -22,4 +22,10 @@
 TextureSDL::~TextureSDL()
 {
     SDL_FreeSurface(surface);
+
+    if(zoomSurface)
+    {
+        SDL_FreeSurface(zoomSurface);
+        zoomSurface = NULL;
+    }
 }

Modified: trunk/src/gui/PainterSDL/TextureSDL.hpp
===================================================================
--- trunk/src/gui/PainterSDL/TextureSDL.hpp	2007-04-12 20:13:49 UTC (rev 1177)
+++ trunk/src/gui/PainterSDL/TextureSDL.hpp	2007-04-12 21:00:42 UTC (rev 1178)
@@ -30,7 +30,7 @@
 public:
     virtual ~TextureSDL();
 
-    float getWidth() const 
+    float getWidth() const
     {
         return surface->w;
     }
@@ -38,15 +38,28 @@
     {
         return surface->h;
     }
-    
+
+    void setZoomSurface(SDL_Surface* zs, double zx, double zy)
+    {
+        if(zoomSurface != NULL)
+            SDL_FreeSurface(zoomSurface);
+
+        zoomSurface = zs;
+        zoomx = zx;
+        zoomy = zy;
+    }
 private:
     friend class PainterSDL;
     friend class TextureManagerSDL;
     TextureSDL(SDL_Surface* _surface)
         : surface(_surface)
-    { }
+    {
+        zoomSurface = NULL;
+    }
 
     SDL_Surface* surface;
+    SDL_Surface* zoomSurface;
+    double zoomx,zoomy;
 };
 
 #endif

Modified: trunk/src/lincity-ng/Game.cpp
===================================================================
--- trunk/src/lincity-ng/Game.cpp	2007-04-12 20:13:49 UTC (rev 1177)
+++ trunk/src/lincity-ng/Game.cpp	2007-04-12 21:00:42 UTC (rev 1178)
@@ -55,10 +55,10 @@
 
     Button* helpButton = getButton( *gui, "HelpButton" );
     helpButton->clicked.connect( makeCallback(*this, &Game::gameButtonClicked ));
-    
+
     Button* statButton = getButton( *gui, "StatButton" );
     statButton->clicked.connect( makeCallback(*this, &Game::gameButtonClicked ));
-    
+
     Desktop* desktop = dynamic_cast<Desktop*> (gui.get());
     if(desktop == 0)
         throw std::runtime_error("Game UI is not a Desktop Component");
@@ -79,7 +79,7 @@
 
 void Game::backToMainMenu(){
     closeAllDialogs();
-    getButtonPanel()->selectQueryTool(); 
+    getButtonPanel()->selectQueryTool();
     saveCityNG( "9_currentGameNG.scn" );
     running = false;
     quitState = MAINMENU;
@@ -94,7 +94,7 @@
     } else if( name == "StatButton" ) {
         if( !blockingDialogIsOpen ){
             new Dialog( GAME_STATS );
-        }                   
+        }
     } else {
          std::cerr << " Game::gameButtonClicked unknown button '" << name << "'.\n";
     }
@@ -102,7 +102,7 @@
 
 void Game::quickLoad(){
     closeAllDialogs();
-    
+
     //load file
     getGameView()->printStatusMessage( "quick load...");
     std::string filename;
@@ -141,9 +141,9 @@
         pos = filename.rfind( ".xml" );
         if( pos != std::string::npos ){
             filename.replace( pos, 4 ,"");
-            std::cerr << "--- Examining " << filename << "\n"; 
+            std::cerr << "--- Examining " << filename << "\n";
             helpWindow->showTopic( filename );
-            std::cerr << "\n"; 
+            std::cerr << "\n";
         }
     }
     PHYSFS_freeList(rc);
@@ -178,7 +178,7 @@
                      if( gui_event.keysym.sym == SDLK_b ){
                          getButtonPanel()->toggleBulldozeTool();
                          break;
-                     }   
+                     }
                      if( gui_event.keysym.sym == SDLK_F1 ){
                          helpWindow->showTopic("help");
                          break;
@@ -193,7 +193,7 @@
                      }
 #ifdef DEBUG
                      if( gui_event.keysym.sym == SDLK_F5 ){
-                         testAllHelpFiles(); 
+                         testAllHelpFiles();
                          break;
                      }
 #endif
@@ -241,10 +241,10 @@
             SDL_Delay(10);
         }
         frame++;
-        
+
         if(ticks - fpsTicks > 1000) {
 #ifdef DEBUG
-            printf("FPS: %d.\n", frame);
+            printf("FPS: %d.\n", (frame*1000) / (ticks - fpsTicks));
 #endif
             getEconomyGraph()->newFPS( frame );
             frame = 0;



From alainb at mail.berlios.de  Sun Apr 15 16:36:48 2007
From: alainb at mail.berlios.de (alainb at BerliOS)
Date: Sun, 15 Apr 2007 16:36:48 +0200
Subject: [Lincity-ng-commit] r1179 - in branches/waterwell: .
	data/images/tiles src/lincity
Message-ID: <200704151436.l3FEamgt010277@sheep.berlios.de>

Author: alainb
Date: 2007-04-15 16:36:47 +0200 (Sun, 15 Apr 2007)
New Revision: 1179

Modified:
   branches/waterwell/README-TODO-WaterWell
   branches/waterwell/data/images/tiles/tree.png
   branches/waterwell/src/lincity/lin-city.h
   branches/waterwell/src/lincity/simulate.cpp
Log:
better random terrain: desert -> wetland.

Modified: branches/waterwell/README-TODO-WaterWell
===================================================================
--- branches/waterwell/README-TODO-WaterWell	2007-04-12 21:00:42 UTC (rev 1178)
+++ branches/waterwell/README-TODO-WaterWell	2007-04-15 14:36:47 UTC (rev 1179)
@@ -16,14 +16,22 @@
  -random village has a water well.
 1174:
  -not-so-random terrain depending on distance to water (instead of uniform empty green land.)
+ -Aridity parameter => wetland --> desert
 
 TODO: 
 -----
+* Tuning of aridity parameter and others.
 * show well's range in starvation window (<= market range)
+* residence near river should not need water well.
 * load/save numof_waterwell and display it in stat window. (current load/save works)
 * sound.
-* basic ecology : desert, green, tree, tree2, tree3, % depending on water proximity.
+* basic ecology
 
+* tile property ++ water, underground_pollution, ore_reserve, coal_reserve, waste
+* annual event = waste => pollution diffusion and slow diminution (1000 years)
+* computer water in land at start.
+  - show it in mining view.
+  - Farm and commune efficiency x= min (1,#tile_with_underground_water/8)
 
 AIM:
 ----
@@ -101,3 +109,4 @@
 
 * non-navigable waters (not seas) could very slowly become green (less than 1/1000 chance per year)
 
+* Minimap size is hardcoded 200 pixel = 2x WORLD_SIDE_LEN. Probably need to use pixel for sharp graphics.

Modified: branches/waterwell/data/images/tiles/tree.png
===================================================================
(Binary files differ)

Modified: branches/waterwell/src/lincity/lin-city.h
===================================================================
--- branches/waterwell/src/lincity/lin-city.h	2007-04-12 21:00:42 UTC (rev 1178)
+++ branches/waterwell/src/lincity/lin-city.h	2007-04-15 14:36:47 UTC (rev 1179)
@@ -224,8 +224,8 @@
 #endif
 #define RESULTS_FILENAME "results"
 
-#define MAX_ICON_LEN 4096
-#define WORLD_SIDE_LEN 100
+#define MAX_ICON_LEN 4096	/* AL1 unused in NG */
+#define WORLD_SIDE_LEN 100	/* Minimap size is hardcoded 200 pixel => some job to do ...*/
 #define NUMOF_DAYS_IN_MONTH 100
 #define NUMOF_DAYS_IN_YEAR (NUMOF_DAYS_IN_MONTH*12)
 #define FAST_TIME_FOR_YEAR 1

Modified: branches/waterwell/src/lincity/simulate.cpp
===================================================================
--- branches/waterwell/src/lincity/simulate.cpp	2007-04-12 21:00:42 UTC (rev 1178)
+++ branches/waterwell/src/lincity/simulate.cpp	2007-04-15 14:36:47 UTC (rev 1179)
@@ -451,7 +451,6 @@
     clear_game ();
     coal_reserve_setup ();
     setup_river ();
-    setup_land ();
     ore_reserve_setup ();
     init_pbars ();
 
@@ -466,6 +465,8 @@
 	*originx = *originy = WORLD_SIDE_LEN/2 ;
 	update_pbar(PPOP,100,1);
     }
+    /* setup_land after putting village to prevent trouble when too much water */
+    setup_land ();
     connect_transport (1,1,WORLD_SIDE_LEN-2,WORLD_SIDE_LEN-2);
     refresh_pbars ();
 }
@@ -578,11 +579,15 @@
 setup_land (void)
 {
   int x, y, xw, yw;
+  int aridity = rand () %400 -150;
+
   for (y = 0; y < WORLD_SIDE_LEN; y++) {
 	for (x = 0; x < WORLD_SIDE_LEN; x++) {
 	    int d2w_min = 2 * WORLD_SIDE_LEN * WORLD_SIDE_LEN;
 	    int r;
-	    if (MP_GROUP(x,y) == GROUP_WATER)
+	    int arid=aridity;
+
+	    if ((MP_GROUP(x,y) == GROUP_WATER) || !GROUP_IS_BARE(MP_GROUP(x,y)))
 		continue;
 
   	    for (yw = 0; yw < WORLD_SIDE_LEN; yw++) {
@@ -595,57 +600,130 @@
 				d2w_min = d2w;
 		}
 	    }
-  	    /* Store square of distance to water for each tile */
-	    /* MP_DIST2WATER(x,y) = d2w_min; */
 
-	    r = rand () % (d2w_min/3 + 60);
-	    if (r >= 160) {
-	    	int r2 = rand() % 5;
-		if (r2 <= 1)
+	    /* near river lower aridity */
+	    if (aridity > 0) {
+		if (d2w_min < 5)
+			arid = aridity/3;
+		else if (d2w_min < 17)
+			arid = (aridity*2)/3;
+	    }
+	    r = rand () % (d2w_min/3+1) + arid;
+	    if (r >= 300) {
+	        /* very dry land */
+	    	int r2 = rand() % 10;
+	    	if (r2 <= 6)
+		    clear_mappoint (CST_DESERT, x, y);
+	    	else if (r2 <= 8)
+		    clear_mappoint (CST_GREEN, x, y);
+	    	else 
+		    clear_mappoint (CST_TREE, x, y);
+
+	    } else if (r >= 160) {
+	    	int r2 = rand() % 10;
+		if (r2 <= 2)
 	    		clear_mappoint (CST_DESERT, x, y);
-		else if (r2 <= 3)
+		else if (r2 <= 6)
 	    		clear_mappoint (CST_GREEN, x, y);
 		else 
 	    		clear_mappoint (CST_TREE, x, y);
 
 	    } else if (r >= 80) {
-	    	int r2 = rand() % 5;
-		if (r2 == 0)
+	    	int r2 = rand() % 10;
+		if (r2 <= 1)
 	    		clear_mappoint (CST_DESERT, x, y);
-		else if (r2 <= 2)
+		else if (r2 <= 4)
 	    		clear_mappoint (CST_GREEN, x, y);
-		else if (r2 == 3)
+		else if (r2 <= 6)
 	    		clear_mappoint (CST_TREE, x, y);
 		else
 	    		clear_mappoint (CST_TREE2, x, y);
 
 	    } else if (r >= 40) {
-	    	int r2 = rand() % 20;
-		if (r2 <= 1)
+	    	int r2 = rand() % 40;
+		if (r2 == 0)
 	    		clear_mappoint (CST_DESERT, x, y);
-		else if (r2 <= 5)
+		else if (r2 <= 12)
 	    		clear_mappoint (CST_GREEN, x, y);
+		else if (r2 <= 24)
+	    		clear_mappoint (CST_TREE, x, y);
+		else if (r2 <= 36)
+			clear_mappoint (CST_TREE2, x, y);
+		else
+			clear_mappoint (CST_TREE3, x, y);
+	    }  else if (r >= 0) {
+	    	/* normal land */
+	    	int r2 = rand() % 40;
+		if (r2 <= 10)
+	    		clear_mappoint (CST_GREEN, x, y);
+		else if (r2 <= 20)
+	    		clear_mappoint (CST_TREE, x, y);
+		else if (r2 <= 30)
+			clear_mappoint (CST_TREE2, x, y);
+		else
+			clear_mappoint (CST_TREE3, x, y);
+	    } else if (r >= -40) {
+	    	/* forest */
+	    	int r2 = rand() % 40;
+		if (r2 <= 5)
+	    		clear_mappoint (CST_GREEN, x, y);
 		else if (r2 <= 10)
 	    		clear_mappoint (CST_TREE, x, y);
+		else if (r2 <= 25)
+			clear_mappoint (CST_TREE2, x, y);
+		else
+			clear_mappoint (CST_TREE3, x, y);
+	    } else if (r >= -80) {
+	    	int r2 = rand() % 40;
+		if (r2 <= 0)
+			MP_TYPE(x, y) = CST_WATER;
+		else if (r2 <= 6)
+	    		clear_mappoint (CST_GREEN, x, y);
 		else if (r2 <= 15)
+	    		clear_mappoint (CST_TREE, x, y);
+		else if (r2 <= 28)
 			clear_mappoint (CST_TREE2, x, y);
 		else
 			clear_mappoint (CST_TREE3, x, y);
+	    } else if (r >= -120) {
+	    	int r2 = rand() % 40;
+		if (r2 <= 1)
+			MP_TYPE(x, y) = CST_WATER;
+		else if (r2 <= 6)
+	    		clear_mappoint (CST_GREEN, x, y);
+		else if (r2 <= 16)
+	    		clear_mappoint (CST_TREE, x, y);
+		else if (r2 <= 30)
+			clear_mappoint (CST_TREE2, x, y);
+		else
+			clear_mappoint (CST_TREE3, x, y);
 	    } else {
+	    	/* wetland */
 	    	int r2 = rand() % 40;
-		if (r2 <= 2)
+		if (r2 <= 3 )
+			MP_TYPE(x, y) = CST_WATER;
+		else if (r2 <= 8)
 	    		clear_mappoint (CST_GREEN, x, y);
-		else if (r2 <= 10)
+		else if (r2 <= 20)
 	    		clear_mappoint (CST_TREE, x, y);
-		else if (r2 <= 25)
+		else if (r2 <= 35)
 			clear_mappoint (CST_TREE2, x, y);
 		else
 			clear_mappoint (CST_TREE3, x, y);
 	    }
 
 	    MP_POL(x,y) = 0;
+  	    /* Store square of distance to river for each tile */
+	    /* MP_DIST2RIVER(x,y) = d2w_min; */
 	}
     }
+    /* setup group now to prevent terrible recursion */
+    for (y = 0; y < WORLD_SIDE_LEN; y++) {
+	for (x = 0; x < WORLD_SIDE_LEN; x++) {
+		if (MP_TYPE(x,y) == CST_WATER)
+		    clear_mappoint (CST_WATER, x, y);
+	}
+    }
 }
 
 int



From alainb at mail.berlios.de  Mon Apr 16 19:20:06 2007
From: alainb at mail.berlios.de (alainb at BerliOS)
Date: Mon, 16 Apr 2007 19:20:06 +0200
Subject: [Lincity-ng-commit] r1180 - in branches/waterwell/src/lincity: .
	modules
Message-ID: <200704161720.l3GHK6pn031214@sheep.berlios.de>

Author: alainb
Date: 2007-04-16 19:20:05 +0200 (Mon, 16 Apr 2007)
New Revision: 1180

Modified:
   branches/waterwell/src/lincity/engglobs.h
   branches/waterwell/src/lincity/engine.cpp
   branches/waterwell/src/lincity/ldsvguts.cpp
   branches/waterwell/src/lincity/lin-city.h
   branches/waterwell/src/lincity/modules/residence.cpp
   branches/waterwell/src/lincity/modules/waterwell.cpp
   branches/waterwell/src/lincity/modules/waterwell.h
   branches/waterwell/src/lincity/shrglobs.cpp
   branches/waterwell/src/lincity/simulate.cpp
Log:
can load/save standard games, 
then play in 'compatibility mode', ie without waterwell

Modified: branches/waterwell/src/lincity/engglobs.h
===================================================================
--- branches/waterwell/src/lincity/engglobs.h	2007-04-15 14:36:47 UTC (rev 1179)
+++ branches/waterwell/src/lincity/engglobs.h	2007-04-16 17:20:05 UTC (rev 1180)
@@ -10,6 +10,7 @@
 //#include "common.h"
 //#include "geometry.h"
 
+extern int use_waterwell, ldsv_version;
 
 /* GCS -- One of these days I will get this right. */
 struct map_struct

Modified: branches/waterwell/src/lincity/engine.cpp
===================================================================
--- branches/waterwell/src/lincity/engine.cpp	2007-04-15 14:36:47 UTC (rev 1179)
+++ branches/waterwell/src/lincity/engine.cpp	2007-04-16 17:20:05 UTC (rev 1180)
@@ -283,7 +283,14 @@
     }
     else {
 	adjust_money(-main_groups[g].bul_cost);
-	do_bulldoze_area (CST_DESERT, x, y);
+	/* A little ugly hack to keep compatibility when saving pre_waterwell loaded game
+	 * This should be temporary as compatibility will probably be lost for sure later
+	 */
+	if (use_waterwell)
+		do_bulldoze_area (CST_DESERT, x, y);
+	else
+		do_bulldoze_area (CST_GREEN, x, y);
+
 	if (g == GROUP_OREMINE)
 	{
 	    int i, j;

Modified: branches/waterwell/src/lincity/ldsvguts.cpp
===================================================================
--- branches/waterwell/src/lincity/ldsvguts.cpp	2007-04-15 14:36:47 UTC (rev 1179)
+++ branches/waterwell/src/lincity/ldsvguts.cpp	2007-04-16 17:20:05 UTC (rev 1180)
@@ -128,8 +128,11 @@
 	printf (_("Save file <%s> - "), cname);
 	do_error (_("Can't open save file!"));
     }
+    /* save without waterwell are in NG 1.1 format, eg scenario good_time is ver 98 when loaded */
+    if (ldsv_version < VERSION_INT)
+    	ldsv_version = VERSION_INT;
 
-    gzprintf (ofile, "%d\n", (int) VERSION_INT);
+    gzprintf (ofile, "%d\n", ldsv_version);
     q = sizeof (Map_Point_Info);
     prog_box (_("Saving scene"), 0);
     check_endian ();
@@ -283,8 +286,10 @@
 	     ,sust_old_money, sust_old_population, sust_old_tech
 	     ,sustain_flag);	/* 3 */
 
-    gzprintf (ofile, "dummy\n");	/* 4 */
-
+    if (use_waterwell == true) {
+    } else {
+	    gzprintf (ofile, "dummy\n");	/* 4 */
+    }
     gzprintf (ofile, "dummy\n");	/* 5 */
 
     gzprintf (ofile, "dummy\n");	/* 6 */
@@ -323,7 +328,7 @@
 load_city (char *cname)
 {
     unsigned long q;
-    int i, x, y, z, n, p, ver;
+    int i, x, y, z, n, p;
     int num_pbars, pbar_data_size;
     int pbar_tmp;
     int dummy;
@@ -334,13 +339,20 @@
 	    printf (_("Can't open <%s> (gzipped)"), cname);
 	    do_error ("Can't open it!");
     }
-    sscanf( gzgets( gzfile, s, 256 ), "%d", &ver);
-    if (ver < MIN_LOAD_VERSION) {
+    /* Add version to shared global variables for playing/saving games without waterwell */
+    sscanf( gzgets( gzfile, s, 256 ), "%d", &ldsv_version);
+    if (ldsv_version < MIN_LOAD_VERSION) {
 	    ok_dial_box ("too-old.mes", BAD, 0L);
 	    gzclose( gzfile );
 	return;
     }
 
+    fprintf(stderr," ldsv_version = %i \n", ldsv_version);
+    if (ldsv_version < MIN_WATERWELL_VERSION) {
+	/* ok_dial_box ("no-waterwell.mes", GOOD, 0L);*/
+	use_waterwell=false;
+    } /* else use_waterwell=true is already done in global initialisation */
+
     init_pbars();
     num_pbars = NUM_PBARS;
     pbar_data_size = PBAR_DATA_SIZE;
@@ -420,7 +432,7 @@
 	main_screen_originy = WORLD_SIDE_LEN - getMainWindowHeight() / 16 - 1;
 
     sscanf( gzgets( gzfile, s, 256 ), "%d", &total_time);
-    if (ver <= MM_MS_C_VER)
+    if (ldsv_version <= MM_MS_C_VER)
 	i = OLD_MAX_NUMOF_SUBSTATIONS;
     else
 	i = MAX_NUMOF_SUBSTATIONS;
@@ -431,7 +443,7 @@
     }
     prog_box ("", 92);
     sscanf( gzgets( gzfile, s, 256 ), "%d", &numof_substations);
-    if (ver <= MM_MS_C_VER)
+    if (ldsv_version <= MM_MS_C_VER)
 	i = OLD_MAX_NUMOF_MARKETS;
     else
 	i = MAX_NUMOF_MARKETS;
@@ -475,7 +487,7 @@
 
     prog_box ("", 96);
     /* Get size of monthgraph array */
-    if (ver <= MG_C_VER) {
+    if (ldsv_version <= MG_C_VER) {
 	i = 120;
     } else {
 	sscanf( gzgets( gzfile, s, 256 ), "%d", &i);
@@ -495,7 +507,7 @@
 	    sscanf( gzgets( gzfile, s, 256 ), "%d", &monthgraph_ppool[x]);
 	}
 	/* If our save file is old, skip past obsolete diffgraph entries */
-	if (ver <= MG_C_VER) {
+	if (ldsv_version <= MG_C_VER) {
 	    sscanf( gzgets( gzfile, s, 256 ), "%d", &dummy); /* &diffgraph_power[x] */
 	    sscanf( gzgets( gzfile, s, 256 ), "%d", &dummy); /* &diffgraph_coal[x] */
 	    sscanf( gzgets( gzfile, s, 256 ), "%d", &dummy); /* &diffgraph_goods[x] */
@@ -580,6 +592,8 @@
 		= sust_old_money_count = sust_old_population_count
 		= sust_old_tech_count = sust_fire_count
 		= sust_old_money = sust_old_population = sust_old_tech = 0;
+    if (use_waterwell == true) {
+    }
     gzclose( gzfile );
 
     numof_shanties = count_groups (GROUP_SHANTY);
@@ -659,7 +673,7 @@
 	}
 }
 
-/* Returns 1 if the city is proper version */
+/* Returns 1 if the city is proper version */ /* AL1 unused in NG 1.1 */
 int 
 verify_city (char *cname)
 {

Modified: branches/waterwell/src/lincity/lin-city.h
===================================================================
--- branches/waterwell/src/lincity/lin-city.h	2007-04-15 14:36:47 UTC (rev 1179)
+++ branches/waterwell/src/lincity/lin-city.h	2007-04-16 17:20:05 UTC (rev 1180)
@@ -52,6 +52,9 @@
    the symbol VERSION in config.h */
 #define VERSION_INT 113
 
+/* Disable waterwell if version < MIN_WATERWELL_VERSION */
+#define MIN_WATERWELL_VERSION 1180
+
 /* Don't load if < MIN_LOAD_VERSION */
 #define MIN_LOAD_VERSION 97
 

Modified: branches/waterwell/src/lincity/modules/residence.cpp
===================================================================
--- branches/waterwell/src/lincity/modules/residence.cpp	2007-04-15 14:36:47 UTC (rev 1179)
+++ branches/waterwell/src/lincity/modules/residence.cpp	2007-04-16 17:20:05 UTC (rev 1180)
@@ -7,6 +7,7 @@
 
 #include "modules.h"
 #include "residence.h"
+#include "waterwell.h"
 #include <stdlib.h>
 
 void
@@ -69,18 +70,26 @@
 	}
     }
     /* normal births - must have food, water and jobs... and people */
-    if ((MP_INFO(x,y).flags & (FLAG_FED + FLAG_WATERWELL_COVER + FLAG_EMPLOYED))
-	== (FLAG_FED + FLAG_WATERWELL_COVER+ FLAG_EMPLOYED)
+    if ((MP_INFO(x,y).flags & (FLAG_FED + (use_waterwell && FLAG_WATERWELL_COVER) + FLAG_EMPLOYED))
+	== (FLAG_FED + (use_waterwell && FLAG_WATERWELL_COVER) + FLAG_EMPLOYED)
 	&& (rand () % (RESIDENCE_BASE_BR + MP_INFO(x,y).int_4) == 1) 
 	&& p > 0)
     {
+#ifdef DEBUG_WATERWELL
+    	fprintf(stderr," birth ok, we are fed. use_waterwell= %i\n",use_waterwell);
+#endif
 	p++;
 	total_births++;
 	good += 50;
     }
     /* are people starving or lacking water ? */
-    if ( ((MP_INFO(x,y).flags & FLAG_FED) == 0 | (MP_INFO(x,y).flags & FLAG_WATERWELL_COVER) == 0) && p > 0)
+    if ( ((MP_INFO(x,y).flags & FLAG_FED) == 0)
+		| (use_waterwell & (MP_INFO(x,y).flags & FLAG_WATERWELL_COVER) == 0) 
+		&& p > 0)
     {
+#ifdef DEBUG_WATERWELL
+    	fprintf(stderr," hey, we are dying: lack of food or water!, use_waterwell=%i\n",use_waterwell);
+#endif
 	if (rand () % DAYS_PER_STARVE == 1)
 	{
 	    p--;

Modified: branches/waterwell/src/lincity/modules/waterwell.cpp
===================================================================
--- branches/waterwell/src/lincity/modules/waterwell.cpp	2007-04-15 14:36:47 UTC (rev 1179)
+++ branches/waterwell/src/lincity/modules/waterwell.cpp	2007-04-16 17:20:05 UTC (rev 1180)
@@ -13,6 +13,12 @@
 do_waterwell_cover (int x, int y)
 {
   int xx, x1, x2, y1, y2;
+#ifdef DEBUG_WATERWELL
+  if (use_waterwell)
+  	fprintf(stderr," doing waterwell cover\n");
+  else 
+  	return;
+#endif
 
   x1 = x - WATERWELL_RANGE;
   if (x1 < 0)

Modified: branches/waterwell/src/lincity/modules/waterwell.h
===================================================================
--- branches/waterwell/src/lincity/modules/waterwell.h	2007-04-15 14:36:47 UTC (rev 1179)
+++ branches/waterwell/src/lincity/modules/waterwell.h	2007-04-16 17:20:05 UTC (rev 1180)
@@ -8,6 +8,8 @@
 #ifndef __waterwell_h__
 #define __waterwell_h__
 
+#undef DEBUG_WATERWELL
+
 void do_waterwell_cover (int x, int y);
 void mps_waterwell (int x, int y);
 

Modified: branches/waterwell/src/lincity/shrglobs.cpp
===================================================================
--- branches/waterwell/src/lincity/shrglobs.cpp	2007-04-15 14:36:47 UTC (rev 1179)
+++ branches/waterwell/src/lincity/shrglobs.cpp	2007-04-16 17:20:05 UTC (rev 1180)
@@ -7,6 +7,10 @@
 //#include "common.h"
 #include "fileutil.h"
 
+/* load/save version for compatibility with(out) waterwell */
+int ldsv_version = 1170;
+int use_waterwell = true;
+
 Map map;
 
 int mappoint_array_x[WORLD_SIDE_LEN];

Modified: branches/waterwell/src/lincity/simulate.cpp
===================================================================
--- branches/waterwell/src/lincity/simulate.cpp	2007-04-15 14:36:47 UTC (rev 1179)
+++ branches/waterwell/src/lincity/simulate.cpp	2007-04-16 17:20:05 UTC (rev 1180)
@@ -39,6 +39,8 @@
 #include "gui_interface/pbar_interface.h"
 //#include "module_buttons.h"
 
+extern void connect_rivers (void);
+
 /* ---------------------------------------------------------------------- *
  * Private Fn Prototypes
  * ---------------------------------------------------------------------- */
@@ -443,6 +445,7 @@
     tech_level = 0;
     init_inventory();
     update_avail_modules(0);
+    use_waterwell = true;
 }
 
 void
@@ -587,6 +590,7 @@
 	    int r;
 	    int arid=aridity;
 
+	    /* test against GROUP_WATER which is added after the loop for new water tiles */
 	    if ((MP_GROUP(x,y) == GROUP_WATER) || !GROUP_IS_BARE(MP_GROUP(x,y)))
 		continue;
 
@@ -713,8 +717,6 @@
 	    }
 
 	    MP_POL(x,y) = 0;
-  	    /* Store square of distance to river for each tile */
-	    /* MP_DIST2RIVER(x,y) = d2w_min; */
 	}
     }
     /* setup group now to prevent terrible recursion */
@@ -724,6 +726,9 @@
 		    clear_mappoint (CST_WATER, x, y);
 	}
     }
+    connect_rivers ();
+  	    /* TODO Store square of distance to river for each tile */
+	    /* MP_DIST2RIVER(x,y) = d2w_min; */
 }
 
 int



From alainb at mail.berlios.de  Tue Apr 17 00:54:48 2007
From: alainb at mail.berlios.de (alainb at BerliOS)
Date: Tue, 17 Apr 2007 00:54:48 +0200
Subject: [Lincity-ng-commit] r1181 - branches/waterwell/src/lincity-ng
Message-ID: <200704162254.l3GMsmLp015196@sheep.berlios.de>

Author: alainb
Date: 2007-04-17 00:54:47 +0200 (Tue, 17 Apr 2007)
New Revision: 1181

Modified:
   branches/waterwell/src/lincity-ng/ButtonPanel.cpp
Log:
disable waterwell button when loaded an old game

Modified: branches/waterwell/src/lincity-ng/ButtonPanel.cpp
===================================================================
--- branches/waterwell/src/lincity-ng/ButtonPanel.cpp	2007-04-16 17:20:05 UTC (rev 1180)
+++ branches/waterwell/src/lincity-ng/ButtonPanel.cpp	2007-04-16 22:54:47 UTC (rev 1181)
@@ -173,7 +173,7 @@
 }
 
 /*
- * enable/disabel buttons accordig to tech.
+ * enable/disable buttons according to tech.
  *  lincity/ldsvguts.cpp
  *  oldgui/module_buttons.cpp
  */
@@ -246,6 +246,15 @@
             b->setTooltip(tooltip);
         }
     }
+    if ( name=="BPMWaterwellButton" & !use_waterwell ) {
+            b->enable( false );
+            char tooltip[2048];
+            snprintf(tooltip, sizeof(tooltip), _("%s is disabled (loaded old game)."),
+	    		createTooltip(selected_module_type, false ).c_str());
+	    b->setTooltip(tooltip);
+    }
+
+
     selected_module_type = tmp;
 }
 



From alainb at mail.berlios.de  Tue Apr 17 01:22:17 2007
From: alainb at mail.berlios.de (alainb at BerliOS)
Date: Tue, 17 Apr 2007 01:22:17 +0200
Subject: [Lincity-ng-commit] r1182 - branches/waterwell/src/lincity
Message-ID: <200704162322.l3GNMH53017754@sheep.berlios.de>

Author: alainb
Date: 2007-04-17 01:22:16 +0200 (Tue, 17 Apr 2007)
New Revision: 1182

Modified:
   branches/waterwell/src/lincity/ldsvguts.cpp
   branches/waterwell/src/lincity/simulate.cpp
Log:
bugfix

Modified: branches/waterwell/src/lincity/ldsvguts.cpp
===================================================================
--- branches/waterwell/src/lincity/ldsvguts.cpp	2007-04-16 22:54:47 UTC (rev 1181)
+++ branches/waterwell/src/lincity/ldsvguts.cpp	2007-04-16 23:22:16 UTC (rev 1182)
@@ -351,7 +351,12 @@
     if (ldsv_version < MIN_WATERWELL_VERSION) {
 	/* ok_dial_box ("no-waterwell.mes", GOOD, 0L);*/
 	use_waterwell=false;
-    } /* else use_waterwell=true is already done in global initialisation */
+    } else {
+    	use_waterwell=true; 
+	/* needed until it is written in the saved file
+	 * in case of load after having played an old game
+	 */
+    }
 
     init_pbars();
     num_pbars = NUM_PBARS;

Modified: branches/waterwell/src/lincity/simulate.cpp
===================================================================
--- branches/waterwell/src/lincity/simulate.cpp	2007-04-16 22:54:47 UTC (rev 1181)
+++ branches/waterwell/src/lincity/simulate.cpp	2007-04-16 23:22:16 UTC (rev 1182)
@@ -446,6 +446,7 @@
     init_inventory();
     update_avail_modules(0);
     use_waterwell = true;
+    ldsv_version = MIN_WATERWELL_VERSION;
 }
 
 void



From wolfgangb at mail.berlios.de  Tue Apr 17 22:55:46 2007
From: wolfgangb at mail.berlios.de (wolfgangb at BerliOS)
Date: Tue, 17 Apr 2007 22:55:46 +0200
Subject: [Lincity-ng-commit] r1183 - trunk/data/locale/gui
Message-ID: <200704172055.l3HKtkZM003737@sheep.berlios.de>

Author: wolfgangb
Date: 2007-04-17 22:55:46 +0200 (Tue, 17 Apr 2007)
New Revision: 1183

Modified:
   trunk/data/locale/gui/nl.po
Log:
Update for Dutch translation by Ronald Stroethoff.


Modified: trunk/data/locale/gui/nl.po
===================================================================
--- trunk/data/locale/gui/nl.po	2007-04-16 23:22:16 UTC (rev 1182)
+++ trunk/data/locale/gui/nl.po	2007-04-17 20:55:46 UTC (rev 1183)
@@ -1,13 +1,14 @@
 # translation of nl.po to Nederlands
-# Ronald Stroethoff <stroet43 at zonnet.nl>, 2006.
+#
+# Ronald Stroethoff <stroet43 at zonnet.nl>, 2006, 2007.
 msgid ""
 msgstr ""
 "Project-Id-Version: nl\n"
 "Report-Msgid-Bugs-To: \n"
 "POT-Creation-Date: Sat Jan 27 22:03:14 2007\n"
-"PO-Revision-Date: 2006-12-21 19:39+0100\n"
+"PO-Revision-Date: 2007-04-17 21:51+0200\n"
 "Last-Translator: Ronald Stroethoff <stroet43 at zonnet.nl>\n"
-"Language-Team: Nederlands <en at li.org>\n"
+"Language-Team: Nederlands\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
@@ -17,23 +18,23 @@
 
 #: data/gui/minimap.xml
 msgid "$"
-msgstr ""
+msgstr "?"
 
 #: data/gui/fire.xml
 msgid "A Fire has started"
-msgstr ""
+msgstr "Een brand is uitgebroken"
 
 #: data/gui/shfire-uc.xml
 msgid ""
 "A fire has broken out at a shanty town. It is in a fire cover area and "
 "APPEARS to be under control. "
-msgstr ""
+msgstr "Er is brand uitgebroken in een krottenwijk.Het is beschermd tegen brand en LIJKT onder controle."
 
 #: data/gui/shfire-oc.xml
 msgid ""
 "A fire has broken out at a shanty town. The fire is OUT OF CONTROL and may "
 "spread to other areas. "
-msgstr ""
+msgstr "Er is brand uitgebroken in een krottenwijk.De brand is niet onder controle en kan zich verspreiden naar andere gebieden."
 
 #: data/gui/newgame.xml data/gui/loadgame.xml data/gui/credits.xml
 #: data/gui/savegame.xml
@@ -41,17 +42,16 @@
 msgstr "Terug"
 
 #: data/gui/options.xml
-#, fuzzy
 msgid "Background Music"
-msgstr "Achtergrondmuziek"
+msgstr "Achtergrond muziek"
 
 #: data/gui/cricketup.xml
 msgid "Basketball Courts available"
-msgstr ""
+msgstr "Basketbal velden zijn beschikbaar"
 
 #: data/gui/blacksmithup.xml
 msgid "Blacksmiths available"
-msgstr ""
+msgstr "Smederijen zijn beschikbaar"
 
 #: data/gui/bulldoze_monument_yn.xml
 msgid "Bulldozing a monument costs a lot of money."
@@ -62,10 +62,8 @@
 msgstr "Een rivier verwijderen kost heel veel geld."
 
 #: data/gui/bulldoze_shanty_yn.xml
-#, fuzzy
 msgid "Bulldozing a shanty town costs a lot of money and may cause a fire."
-msgstr ""
-"Een krottenwijk afbreken kost heel veel geld en dit kan brand veroorzaken"
+msgstr "Een krottenwijk afbreken kost heel veel geld en dit kan brand veroorzaken."
 
 #: data/gui/tradedialog.xml data/gui/portdialog.xml
 msgid "Buy"
@@ -81,16 +79,15 @@
 
 #: data/gui/coalpowerup.xml
 msgid "Coal Fired Power Stations available"
-msgstr ""
+msgstr "Steenkool-centrales zijn beschikbaar"
 
 #: data/gui/coalmineup.xml
 msgid "Coal Mine available"
-msgstr ""
+msgstr "Kolenmijnen zijn beschikbaar"
 
 #: data/gui/coal_survey_yn.xml
-#, fuzzy
 msgid "Coal Survey"
-msgstr "Steenkoolonderzoek"
+msgstr "Steenkool onderzoek"
 
 #: data/gui/creditslist.xml
 msgid "Code"
@@ -110,31 +107,31 @@
 
 #: data/gui/launch-good.xml
 msgid "Doing well."
-msgstr ""
+msgstr "Het gaat goed."
 
 #: data/gui/minimap.xml
 msgid "Eco"
-msgstr ""
+msgstr "Eco"
 
 #: data/gui/sustain.xml
 msgid "Economy Sustainable."
-msgstr ""
+msgstr "Economisch duurzaam"
 
 #: data/gui/launch-evac.xml
 msgid "Evacuation Launch Good"
-msgstr ""
+msgstr "Lancering voor evacuatie is gelukt"
 
 #: data/gui/shfire-uc.xml data/gui/shfire-oc.xml
 msgid "Fire"
-msgstr ""
+msgstr "Brand"
 
 #: data/gui/firestationup.xml
 msgid "Fire Stations available"
-msgstr ""
+msgstr "Brandweerkazernes zijn beschikbaar"
 
 #: data/gui/shfire-uc.xml data/gui/shfire-oc.xml
 msgid "Fire!"
-msgstr ""
+msgstr "Brand!"
 
 #: data/gui/pbar.xml data/gui/tradedialog.xml data/gui/portdialog.xml
 msgid "Food"
@@ -146,11 +143,11 @@
 
 #: data/gui/gamestats.xml
 msgid "Gamestats"
-msgstr ""
+msgstr "Spel-statistieken"
 
 #: data/gui/speedpanel.xml
 msgid "Go back to Main Menu"
-msgstr ""
+msgstr "Terug naar het hoofdmenu"
 
 #: data/gui/pbar.xml data/gui/tradedialog.xml data/gui/portdialog.xml
 msgid "Goods"
@@ -161,21 +158,20 @@
 msgstr "Graphics"
 
 #: data/gui/portdialog.xml
-#, fuzzy
 msgid "Harbour Trade Settings"
-msgstr "Haven handelsinstelligen"
+msgstr "Haven handelsinstellingen"
 
 #: data/gui/healthup.xml
 msgid "Health Centres available"
-msgstr ""
+msgstr "Ziekenhuizen zijn beschikbaar"
 
 #: data/gui/hvindustryup.xml
 msgid "Heavy Industry available"
-msgstr ""
+msgstr "Zware industrie beschikbaar"
 
 #: data/gui/import-exportup.xml
 msgid "Import/Export available"
-msgstr ""
+msgstr "Import/Export is beschikbaar"
 
 #: data/gui/pbar.xml data/gui/tradedialog.xml
 msgid "Jobs"
@@ -183,11 +179,11 @@
 
 #: data/gui/launch-fail.xml
 msgid "Launch Failure"
-msgstr ""
+msgstr "Mislukte lancering"
 
 #: data/gui/launch-good.xml
 msgid "Launch Successfull"
-msgstr ""
+msgstr "Succesvolle lancering"
 
 #: data/gui/launch_rocket_yn.xml
 msgid "Launch now?"
@@ -195,32 +191,31 @@
 
 #: data/gui/ltindustryup.xml
 msgid "Light Industry available"
-msgstr ""
+msgstr "Lichte industrie is beschikbaar"
 
 #: data/gui/sustain.xml
 msgid "LinCity has determined that you have a sustainable economy."
-msgstr ""
+msgstr "Lincity heeft besloten dat U een duurzame economie heeft."
 
 #: data/gui/mainmenu.xml data/gui/loadgame.xml
 msgid "Load"
 msgstr "Laden"
 
 #: data/gui/loadgame.xml
-#, fuzzy
 msgid "Load Game"
-msgstr "Spel Laden/Opslaan"
+msgstr "Laad spel"
 
 #: data/gui/minimap.xml
 msgid "Map"
-msgstr ""
+msgstr "Kaart"
 
 #: data/gui/millup.xml
 msgid "Mills available"
-msgstr ""
+msgstr "Windmolens zijn beschikbaar"
 
 #: data/gui/mod_wind_up.xml
 msgid "Modern Windmills available"
-msgstr ""
+msgstr "Moderne windmolens zijn beschikbaar"
 
 #: data/gui/pbar.xml
 msgid "Money"
@@ -239,7 +234,7 @@
 #: data/gui/rocketup.xml data/gui/schoolup.xml data/gui/millup.xml
 #: data/gui/import-exportup.xml data/gui/healthup.xml
 msgid "New Invention"
-msgstr ""
+msgstr "Nieuwe uitvinding"
 
 #: data/gui/coal_survey_yn.xml data/gui/bulldoze_monument_yn.xml
 #: data/gui/bulldoze_river_yn.xml data/gui/bulldoze_shanty_yn.xml
@@ -251,15 +246,15 @@
 #: data/gui/no-credit-recycle.xml data/gui/no-credit-parkland.xml
 #: data/gui/no-credit-rocket.xml
 msgid "No Credit Available"
-msgstr ""
+msgstr "Geen geld beschikbaar"
 
 #: data/gui/allgone.xml
 msgid "Nobody Home"
-msgstr ""
+msgstr "Niemand thuis"
 
 #: data/gui/nobull-tip.xml
 msgid "Not Allowed"
-msgstr ""
+msgstr "Is niet toegestaan"
 
 #: data/gui/options.xml data/gui/firestationup.xml data/gui/hvindustryup.xml
 #: data/gui/windmillup.xml data/gui/fire.xml data/gui/shfire-uc.xml
@@ -277,11 +272,11 @@
 #: data/gui/healthup.xml data/gui/launch-gone.xml data/gui/shfire-oc.xml
 #: data/gui/sustain.xml data/gui/allgone.xml
 msgid "Ok"
-msgstr ""
+msgstr "Ok"
 
 #: data/gui/gamestats.xml
 msgid "Okay"
-msgstr ""
+msgstr "Okay"
 
 #: data/gui/mainmenu.xml data/gui/options.xml
 msgid "Options"
@@ -297,11 +292,11 @@
 
 #: data/gui/parkup.xml
 msgid "Parks available"
-msgstr ""
+msgstr "Parken zijn beschikbaar"
 
 #: data/gui/speedpanel.xml
 msgid "Pause the game"
-msgstr ""
+msgstr "Pauze"
 
 #: data/gui/pbar.xml
 msgid "Population"
@@ -309,11 +304,11 @@
 
 #: data/gui/potteryup.xml
 msgid "Potteries available"
-msgstr ""
+msgstr "Pottenbakkerijen zijn beschikbaar"
 
 #: data/gui/minimap.xml
 msgid "Press this button to show statistics"
-msgstr ""
+msgstr "Druk op deze knop om de statistieken te zien"
 
 #: data/gui/tradedialog.xml data/gui/portdialog.xml
 msgid "Product"
@@ -325,64 +320,59 @@
 
 #: data/gui/railwayup.xml
 msgid "Railways available"
-msgstr ""
+msgstr "Spoorwegen zijn beschikbaar"
 
 #: data/gui/recycleup.xml
 msgid "Recycling Centres available"
-msgstr ""
+msgstr "Recycleercentrum is beschikbaar"
 
 #: data/gui/riverup.xml
 msgid "Rivers available"
-msgstr ""
+msgstr "Rivieren zijn beschikbaar"
 
 #: data/gui/roadup.xml
 msgid "Roads available"
-msgstr ""
+msgstr "Straten zijn beschikbaar"
 
 #: data/gui/rocketup.xml
 msgid "Rocket Launch Pad available"
-msgstr ""
+msgstr "Lanceerplatform is beschikbaar"
 
 #: data/gui/launch_rocket_yn.xml
-#, fuzzy
 msgid "Rocket Ready"
-msgstr "Raket is klaar om gelanceerd te worden."
+msgstr "De raket is klaar"
 
 #: data/gui/launch_rocket_yn.xml
-#, fuzzy
 msgid "Rocket ready to launch"
-msgstr "Raket is klaar om gelanceerd te worden."
+msgstr "De raket is klaar om gelanceerd te worden."
 
 #: data/gui/speedpanel.xml
 msgid "Run the simulation with fast speed"
-msgstr ""
+msgstr "Zet het spel in de hoge snelheid"
 
 #: data/gui/speedpanel.xml
 msgid "Run the simulation with normal speed"
-msgstr ""
+msgstr "Zet het spel in normale snelheid"
 
 #: data/gui/speedpanel.xml
 msgid "Run the simulation with very fast speed"
-msgstr ""
+msgstr "Zet het spel in de hoogste snelheid"
 
 #: data/gui/mainmenu.xml
-#, fuzzy
 msgid "Save"
-msgstr "Laden/Opslaan"
+msgstr "Opslaan"
 
 #: data/gui/savegame.xml
-#, fuzzy
 msgid "Save Game"
-msgstr "Spel Laden/Opslaan"
+msgstr "Spel opslaan"
 
 #: data/gui/schoolup.xml
 msgid "Schools available"
-msgstr ""
+msgstr "Scholen zijn beschikbaar"
 
 #: data/gui/coalmineup.xml
-msgid ""
-"See the help screen for more information on coal mines and coal surveys."
-msgstr ""
+msgid "See the help screen for more information on coal mines and coal surveys."
+msgstr "Lees de help-pagina's voor meer informatie over kolenmijnen en surveys naar kolen."
 
 #: data/gui/firestationup.xml data/gui/hvindustryup.xml
 #: data/gui/windmillup.xml data/gui/ltindustryup.xml data/gui/universityup.xml
@@ -392,85 +382,83 @@
 #: data/gui/mod_wind_up.xml data/gui/rocketup.xml data/gui/schoolup.xml
 #: data/gui/millup.xml data/gui/healthup.xml
 msgid "See the help screen for more information."
-msgstr ""
+msgstr "Lees de help-pagina's voor meer informatie."
 
 #: data/gui/tradedialog.xml data/gui/portdialog.xml
 msgid "Sell"
 msgstr "Verkopen"
 
 #: data/gui/coal_survey_yn.xml
-#, fuzzy
 msgid "Send out Prospectors"
-msgstr "Info: Prospectors uitzenden?"
+msgstr "Prospectors uitzenden?"
 
 #: data/gui/minimap.xml
 msgid "Show Income and Expenses. Click this tab again to cycle through views."
-msgstr ""
+msgstr "Toon inkomsten en uitgaven. klik opnieuw op deze tab om door de verschillende vensters te wisselen."
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show coal depots"
-msgstr ""
+msgstr "Laat zien waar kolen in de grond zit"
 
 #: data/gui/minimap.xml
 msgid "Show economy graphs."
-msgstr ""
+msgstr "Toon de economische grafieken."
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show fire department cover"
-msgstr ""
+msgstr "Toon het bereik van de brandweer"
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show map outline"
-msgstr ""
+msgstr "Toon het minikaartje"
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show medical care"
-msgstr ""
+msgstr "Toon de medische zorg"
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show nourishments"
-msgstr ""
+msgstr "Toon voedsel"
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show pollution density"
-msgstr ""
+msgstr "Toon de vervuiling"
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show power supply"
-msgstr ""
+msgstr "Toon het electriciteits net"
 
 #: data/gui/minimap.xml
 msgid "Show resources."
-msgstr ""
+msgstr "Toon de voorraden"
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show sport cover"
-msgstr ""
+msgstr "Toon de sportvelden"
 
 #: data/gui/minimap.xml
 msgid "Show the MiniMap"
-msgstr ""
+msgstr "Toon het minikaartje"
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show traffic density"
-msgstr ""
+msgstr "Toon het verkeer"
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show unemployment"
-msgstr ""
+msgstr "Toon de werkloosheid"
 
 #: data/gui/solarpowerup.xml
 msgid "Solar Power Stations available"
-msgstr ""
+msgstr "Toon de electriciteits-centrales"
 
 #: data/gui/nobull-tip.xml
 msgid "Sorry you can't bulldoze a tip."
-msgstr ""
+msgstr "Sorry, een vuilstort kan niet afgebroken worden."
 
 #: data/gui/options.xml
-#, fuzzy
 msgid "Sound Effects"
-msgstr "Geluidseffecten."
+msgstr "Geluidseffecten"
 
 #: data/gui/creditslist.xml
 msgid "Sound and Music"
@@ -481,7 +469,6 @@
 msgstr "Begin"
 
 #: data/gui/newgame.xml
-#, fuzzy
 msgid "Start with empty board."
 msgstr "Met een leeg speelveld beginnen."
 
@@ -490,9 +477,8 @@
 msgstr "Met een willekeurige stad beginnen."
 
 #: data/gui/minimap.xml
-#, fuzzy
 msgid "Stats"
-msgstr "Begin"
+msgstr "Statistieken"
 
 #: data/gui/pbar.xml data/gui/tradedialog.xml data/gui/portdialog.xml
 msgid "Steel"
@@ -504,31 +490,27 @@
 
 #: data/gui/allgone.xml
 msgid "There are no people left in this city."
-msgstr ""
+msgstr "Er zijn geen mensen meer in deze stad."
 
 #: data/gui/coal_survey_yn.xml
-#, fuzzy
 msgid "This will cost you 1 million once. After that it is free to call again."
-msgstr ""
-"Dit kost eenmalig 1 miljoen. Daarna is het gratis om het opnieuw op te "
-"vragen."
+msgstr "Dit kost eenmalig 1 miljoen ?. Daarna is het gratis om het opnieuw op te vragen."
 
 #: data/gui/launch-gone.xml
 msgid "Total Evacuation Complete."
-msgstr ""
+msgstr "Iedereen is ge?vacueerd."
 
 #: data/gui/tradedialog.xml
-#, fuzzy
 msgid "Trade Settings"
 msgstr "Handelsinstellingen"
 
 #: data/gui/creditslist.xml
 msgid "Translation"
-msgstr ""
+msgstr "Vertaling"
 
 #: data/gui/universityup.xml
 msgid "University available"
-msgstr ""
+msgstr "Universiteit is beschikbaar"
 
 #: data/gui/bulldoze_monument_yn.xml data/gui/bulldoze_river_yn.xml
 #: data/gui/bulldoze_shanty_yn.xml
@@ -541,27 +523,24 @@
 msgstr "Waarschuwing"
 
 #: data/gui/bulldoze_monument_yn.xml
-#, fuzzy
 msgid "Warning: Bulldozing monuments is expensive"
 msgstr "Waarschuwing: Monumenten afbreken is duur "
 
 #: data/gui/bulldoze_shanty_yn.xml
-#, fuzzy
 msgid "Warning: Bulldozing shanties is dangerous."
-msgstr "Waarschuwing: Krottenwijken afbreken is gevaarlijk."
+msgstr "Waarschuwing: krottenwijken afbreken is gevaarlijk."
 
 #: data/gui/bulldoze_river_yn.xml
-#, fuzzy
 msgid "Warning: Bulldozing water is expensive"
-msgstr "Waarschuwing: Water verwijderen is duur."
+msgstr "Waarschuwing: water verwijderen is duur."
 
 #: data/gui/launch-gone.xml
 msgid "Well done you have evacuated all your people."
-msgstr ""
+msgstr "Goed gedaan, alle mensen zijn ge?vacueerd"
 
 #: data/gui/windmillup.xml
 msgid "Windmills available"
-msgstr ""
+msgstr "Windmolens zijn beschikbaar"
 
 #: data/gui/coal_survey_yn.xml data/gui/bulldoze_monument_yn.xml
 #: data/gui/bulldoze_river_yn.xml data/gui/bulldoze_shanty_yn.xml
@@ -571,7 +550,7 @@
 
 #: data/gui/fire.xml
 msgid "You better go and look for it"
-msgstr ""
+msgstr "Ga er naar zoeken"
 
 #: data/gui/launch_rocket_yn.xml
 msgid ""
@@ -588,54 +567,58 @@
 "You can now import and export coal, goods, ore and steel. Read the help "
 "pages on these subjects to find out how to use them. "
 msgstr ""
+"Kolen, goederen, ijzererts en staal kunnen nu ge?mporteerd en ge?xporteerd worden. "
+"Lees de helppagina's over deze onderwerpen om te begrijpen hoe dit gebruikt kan worden. "
 
 #: data/gui/no-credit-parkland.xml
 msgid ""
 "You have a budget deficit. The legislative council will not allow you to "
 "build parks on credit."
-msgstr ""
+msgstr "U heeft geld tekort. De gemeenteraad staat niet toe dat er parken gebouwd worden met geleend geld."
 
 #: data/gui/no-credit-recycle.xml
 msgid ""
 "You have a budget deficit. The legislative council will not allow you to "
 "build recycling centres on credit."
-msgstr ""
+msgstr "U heeft geld tekort. De gemeenteraad staat niet toe dat er recycleercentrum gebouwd worden met geleend geld."
 
 #: data/gui/no-credit-rocket.xml
 msgid ""
 "You have a budget deficit. The legislative council will not allow you to "
 "build rocket launch pads on credit."
-msgstr ""
+msgstr "U heeft geld tekort. De gemeenteraad staat niet toe dat er lanceerplatformen gebouwd worden met geleend geld."
 
 #: data/gui/no-credit-solar-power.xml
 msgid ""
 "You have a budget deficit. The legislative council will not allow you to "
 "build solar power stations on credit."
-msgstr ""
+msgstr "U heeft geld tekort. De gemeenteraad staat niet toe dat er zonne-energie centrales gebouwd worden met geleend geld."
 
 #: data/gui/no-credit-university.xml
 msgid ""
 "You have a budget deficit. The legislative council will not allow you to "
 "build universities on credit."
-msgstr ""
+msgstr "U heeft geld tekort. De gemeenteraad staat niet toe dat er universiteiten gebouwd worden met geleend geld."
 
 #: data/gui/launch-evac.xml
 msgid ""
 "You have evacuated 1000 people. You might want to reduce the size of your "
 "economy to reflect the reduced population. "
-msgstr ""
+msgstr "Er zijn 1000 mensen ge?vacueerd. Omdat er minder mensen zijn, wilt U mischien de economie kleiner maken."
 
 #: data/gui/blacksmithup.xml
 msgid ""
 "You have reached the tech level which enables you to build blacksmiths. "
 "Blacksmiths use jobs and steel to make goods."
 msgstr ""
+"Het technische nivo is bereikt waarmee smederijen kunnen worden gebouwd. "
+"Smederijen gebruiken werk en staal om goederen te maken"
 
 #: data/gui/coalpowerup.xml
 msgid ""
 "You have reached the tech level which enables you to build coal fired power "
 "stations."
-msgstr ""
+msgstr "Het technische nivo is bereikt waarmee kolen-centrales kunnen worden gebouwd. "
 
 #: data/gui/firestationup.xml
 msgid ""
@@ -643,6 +626,8 @@
 "Fire stations prevent most fires from starting. If you haven't had any fires "
 "yet, you might not think you need them."
 msgstr ""
+"Het technische nivo is bereikt waarmee brandweerkazernes kunnen worden gebouwd. "
+"Brandweerkazernes zorgen ervoor dat de meeste vuren doven. Als er nog geen branden geweest zijn, zou men denken dat ze niet nodig zijn."
 
 #: data/gui/healthup.xml
 msgid ""
@@ -650,56 +635,70 @@
 "Heath centres reduce the number of people killed by pollution and increase "
 "overall productivity."
 msgstr ""
+"Het technische nivo is bereikt waarmee ziekenhuizen kunnen worden gebouwd. "
+"Ziekenhuizen zorgen ervoor dat er minder mensen dood gaan door vervuiling en verhogen daarom de productie."
 
 #: data/gui/hvindustryup.xml
 msgid ""
 "You have reached the tech level which enables you to build heavy industry "
 "(steel works). Heavy industry produces steel. "
 msgstr ""
+"Het technische nivo is bereikt waarmee zware industrie (staal-fabriek) kan worden gebouwd. "
+"Zware industrie produceert staal."
 
 #: data/gui/ltindustryup.xml
 msgid ""
 "You have reached the tech level which enables you to build light industry. "
 "Light industry produces goods. "
 msgstr ""
+"Het technische nivo is bereikt waarmee lichte industrie kan worden gebouwd. "
+"Lichte industrie produceert goederen."
 
 #: data/gui/millup.xml
 msgid ""
 "You have reached the tech level which enables you to build mills. Mills use "
 "jobs and food to make goods. Watch out, they can use a lot of food! "
 msgstr ""
+"Het technische nivo is bereikt waarmee textiel-fabrieken kunnen worden gebouwd. "
+"Textielfabrieken gebruiken werk en voedsel om goederen te maken. Pasop: ze kunnen een heleboel voedsel gebruiken."
 
 #: data/gui/mod_wind_up.xml
 msgid ""
 "You have reached the tech level which enables you to build modern, more "
 "efficient, windmills. "
-msgstr ""
+msgstr "Het technische nivo is bereikt waarmee moderne, meer efficiente windmolens kunnen worden gebouwd. "
 
 #: data/gui/parkup.xml
 msgid ""
 "You have reached the tech level which enables you to build parks. Parks are "
 "used to absorb pollution. "
 msgstr ""
+"Het technische nivo is bereikt waarmee parken kunnen worden gebouwd. "
+"Parken worden gebruikt om vervuiling te laten verdwijnen."
 
 #: data/gui/potteryup.xml
 msgid ""
 "You have reached the tech level which enables you to build potteries. "
 "Potteries use jobs and ore to make goods. (You need ore mines to get ore) "
 msgstr ""
+"Het technische nivo is bereikt waarmee pottenbakkerijen kunnen worden gebouwd. "
+"Pottenbakkerijen gebruiken werk en ijzererts om goederen te maken. (ijzererts-mijnen zijn nodig om ijzererts te krijgen)"
 
 #: data/gui/railwayup.xml
 msgid "You have reached the tech level which enables you to build railways. "
-msgstr ""
+msgstr "Het technische nivo is bereikt waarmee spoorwegen kunnen worden gebouwd. "
 
 #: data/gui/riverup.xml
 msgid "You have reached the tech level which enables you to build rivers. "
-msgstr ""
+msgstr "Het technische nivo is bereikt waarmee revieren kunnen worden gebouwd. "
 
 #: data/gui/roadup.xml
 msgid ""
 "You have reached the tech level which enables you to build roads. See the "
 "help screen for more information."
 msgstr ""
+"Het technische nivo is bereikt waarmee straten kunnen worden gebouwd. "
+"Lees de help-pagina's voor meer informatie."
 
 #: data/gui/rocketup.xml
 msgid ""
@@ -707,47 +706,52 @@
 "pads. Rockets enable you to evacuate your population and is a way to 'win' "
 "the game."
 msgstr ""
+"Het technische nivo is bereikt waarmee lanceer-platformen kunnen worden gebouwd. "
+"Lanceer-platformen maken mogelijk om de bevolking te evacueren en is daarmee een manier om het spel te winnen."
 
 #: data/gui/schoolup.xml
 msgid ""
 "You have reached the tech level which enables you to build schools. Schools "
 "use jobs and goods to increase tech level. "
 msgstr ""
+"Het technische nivo is bereikt waarmee scholen kunnen worden gebouwd. "
+"Scholen gebruiken werk en goederen om het technische nivo te verhogen."
 
 #: data/gui/solarpowerup.xml
 msgid ""
 "You have reached the tech level which enables you to build solar power "
 "stations. "
-msgstr ""
+msgstr "Het technische nivo is bereikt waarmee zonne-energie centrales kunnen worden gebouwd."
 
 #: data/gui/universityup.xml
 msgid ""
 "You have reached the tech level which enables you to build universities. "
 "Universities produces PhDs, which produce more technology. "
 msgstr ""
+"Het technische nivo is bereikt waarmee universiteiten kunnen worden gebouwd. "
+"Universiteiten leveren profesors, en die produceren meer kennis."
 
 #: data/gui/windmillup.xml
 msgid "You have reached the tech level which enables you to build windmills. "
-msgstr ""
+msgstr "Het technische nivo is bereikt waarmee windmolens kunnen worden gebouwd."
 
 #: data/gui/coalmineup.xml
-msgid ""
-"You have reached the tech level which enables you to dig deep coal mines."
-msgstr ""
+msgid "You have reached the tech level which enables you to dig deep coal mines."
+msgstr "Het technische nivo is bereikt waarmee diepe kolenmijnen kunnen worden gedolven."
 
 #: data/gui/recycleup.xml
 msgid ""
 "You have reached the tech level which enables you to recycling centres. "
 "Recycling centres recycle used goods back into ore. "
-msgstr ""
+msgstr "Het technische nivo is bereikt waarmee een recycleercentrum kan worden gebouwd. Een recycleercentrum recycled gebruikte goederen naar ijzererts."
 
 #: data/gui/launch-gone.xml data/gui/sustain.xml
 msgid "You have won the game."
-msgstr ""
+msgstr "U heeft het spel gewonnen."
 
 #: data/gui/allgone.xml
 msgid "You should start a new career elsewhere."
-msgstr ""
+msgstr "Begin ergens anders een nieuwe cariere."
 
 #: data/gui/cricketup.xml
 msgid ""
@@ -755,35 +759,37 @@
 "goods and make people in the surrounding areas (about 10 units in each "
 "direction) happier."
 msgstr ""
+"Het technische nivo is bereikt waarmee basketbal-velden kunnen worden gebouwd. "
+"Basket-velden gebruiken een beetje werk en goederen. En maakt de mensen in de omliggende wijken (ongeveer 10 eenheden in elke richting) gelukkiger."
 
 #: data/gui/launch-fail.xml
 msgid ""
 "Your rocket crashed shortly after launch. People no longer trust the "
 "technology for evacuation. You must launch five more unmanned rockets to "
 "restore confidence."
-msgstr ""
+msgstr "De raket is kort na de lancering neergestort.. De mensen vertrouwen niet langer deze technologie voor evacuatie. Eerst moeten vijf onbemande raketten gelanceerd worden om het vertrouwen te winnen."
 
 #: data/gui/minimap.xml
 msgid "[+] Zoom in view so that less buildings but more details are visible"
-msgstr ""
+msgstr "[+] zoom in, zodat minder gebouwen maar meer detils zichtbaar worden"
 
 #: data/gui/minimap.xml
 msgid "[-] Zoom out"
-msgstr ""
+msgstr "[-] zoom out"
 
 #: data/gui/minimap.xml
 msgid "[F1] Press this button to get help"
-msgstr ""
+msgstr "[F1] druk op deze knop voor help-pagina's"
 
 #: data/gui/minimap.xml
 msgid "[h] Hide high buildings. "
-msgstr ""
+msgstr "[h] Hoge gebouwen verbergen."
 
 #: data/gui/minimap.xml
 msgid "[v] Cycle through MiniMap overlay modes. "
-msgstr ""
+msgstr "[v] Hiermee kan tussen de verschillende mini-kaartjes gewisseld worden."
 
 #: data/gui/savegame.xml
-#, fuzzy
 msgid "save to selected slot"
 msgstr "Opslaan in het geselecteerde slot"
+



From wolfgangb at mail.berlios.de  Tue Apr 17 23:00:12 2007
From: wolfgangb at mail.berlios.de (wolfgangb at BerliOS)
Date: Tue, 17 Apr 2007 23:00:12 +0200
Subject: [Lincity-ng-commit] r1184 - trunk/data/help/nl
Message-ID: <200704172100.l3HL0ClT004099@sheep.berlios.de>

Author: wolfgangb
Date: 2007-04-17 23:00:12 +0200 (Tue, 17 Apr 2007)
New Revision: 1184

Modified:
   trunk/data/help/nl/help.xml
   trunk/data/help/nl/market.xml
   trunk/data/help/nl/river.xml
   trunk/data/help/nl/tutorial-basics.xml
   trunk/data/help/nl/tutorial-overview.xml
Log:
Update for Dutch translation by Ronald Stroethoff.

Modified: trunk/data/help/nl/help.xml
===================================================================
--- trunk/data/help/nl/help.xml	2007-04-17 20:55:46 UTC (rev 1183)
+++ trunk/data/help/nl/help.xml	2007-04-17 21:00:12 UTC (rev 1184)
@@ -11,5 +11,5 @@
 	<li><a href="index">Index</a></li>
 	
 	<p style="htitle">Doel van het spel</p>
-	<p style="hp">U heeft in Lincity gewonnen door een <a href="sustain">duurzame economie </a> te bouwen of door alle inwoners te evacueren met <a href="rocket">raketten</a>.</p>
+	<p style="hp">U heeft in Lincity gewonnen door een <a href="sustain">duurzame economie </a> te bouwen of door alle inwoners te evacueren met <a href="rocket">raketten</a></p>
 </Document>
\ No newline at end of file

Modified: trunk/data/help/nl/market.xml
===================================================================
--- trunk/data/help/nl/market.xml	2007-04-17 20:55:46 UTC (rev 1183)
+++ trunk/data/help/nl/market.xml	2007-04-17 21:00:12 UTC (rev 1184)
@@ -5,7 +5,7 @@
 	<p style="hp">De markt is een belangrijk gebouw in Lincity.</p>
 	<p style="hp">Markt is mogelijk een slechte naam voor deze gebieden. Ze zijn meer zoals uitzendburo's, winkels, warenhuizen en markten ineens. Ze kopen en verkopen voedsel, werk, steenkool, goederen, ijzererts, en staal aan de omliggende gebieden en aan het verkeer.</p>
  
-	<p style="hp"><b>Binnen het bereik </b>van een markt kan alles geruild worden <b>zonder gebruik te maken van verkeer</b>, behalve wanneer dat duidelijk is aangegeven. Gebruik de <a href="msb-transport">Verkeer en markt overlay </a> om te controleren of een gebouw binnen het bereik van een markt is.</p>
+	<p style="hp">Binnen het bereik van een markt kan alles geruild worden <b>zonder gebruik te maken van verkeer</b>, behalve wanneer dat duidelijk is aangegeven. Gebruik de <a href="msb-transport">Verkeer en markt overlay </a> om te controleren of een gebouw binnen het bereik van een markt is.</p>
 	<li>Mensen kunnen voedsel, goederen en werk krijgen op markten binnen loopafstand van hun woonwijk.</li>
 	<li>Alle gebieden die werk (werknemers) nodig hebben, krijgen die van markten.</li>
 	<li>Boerderijen kunnen hun geproduceerde voedsel direkt op de markt verkopen.</li>
@@ -37,4 +37,4 @@
 	<li><a href="ore">IJzererts</a></li>
 	<li><a href="steel">Staal</a></li>
 	<li><a href="transport">Verkeer</a></li>
-</Document>
+</Document>
\ No newline at end of file

Modified: trunk/data/help/nl/river.xml
===================================================================
--- trunk/data/help/nl/river.xml	2007-04-17 20:55:46 UTC (rev 1183)
+++ trunk/data/help/nl/river.xml	2007-04-17 21:00:12 UTC (rev 1184)
@@ -2,7 +2,7 @@
 <Document style="helpdocument">
 	<p style="htitle">Rivieren/Water</p>
 	<p style="hp">Rivieren zijn er voornamelijk om in de weg te zitten als obstakel.Het is erg duur om een brug overheen te bouwen, om ze te graven en om ze te slopen (vullen met aarde). Het <i>enige nut</i> van rivieren is dat havens aan een rivier moet liggen.</p>
-	<p style="hp">Er zijn twee soorten water. Meren zijn water dat <b>niet</b> is verbonden met een rivier, een rivier is water dat wel <b>is</b> verbonden met een rivier. Al het water bij de start van het spel is rivier . Bijvoorbeeld, wanneer een ijzerertsmijn leeg raakt en naast een rivier ligt, wordt het ook een stukje rivier, in alle andere gevallen is het gewoon een meer. </p>
+	<p style="hp">Er zijn twee soorten water. Meren zijn water dat <b>niet</b> is verbonden met een rivier, een rivier is water dat wel <b>is</b> verbonden met een rivier. Al het water bij de start van het spel is rivier . Bijvoorbeeld, wanneer een ijzerertsmijn leeg raakt en naast een rivier ligt, wordt het ook een stukje rivier, in alle andere gevallen is het gewoon een meer.</p>
 	<p style="hp">Als u een stuk rivier sloopt om een route te maken voor, zeg, een (spoor)weg, bouwt u een peiler van een brug. Beide zijdes van uw brugpeiler zijn nog steeds een gedeelte van de rivier, U zult daarom een dam moeten aanleggen van kant tot kant. Dit is een reden waarom het zo duur is om water te <i>slopen</i>.</p>
 	<p style="hp">Wanneer een stuk water eenmaal een gedeelte van een rivier is, kan het <b>niet</b> weer een apart meertje worden. Water dat een gedeelte van een rivier is wordt aangegeven als navigeerbaar</p>
 	<p style="hp">Electriciteits-draden kunnen onder <b>??n</b> rivierstukje doorgaan, op dezelfde manier als onder een (spoor)weg.</p>

Modified: trunk/data/help/nl/tutorial-basics.xml
===================================================================
--- trunk/data/help/nl/tutorial-basics.xml	2007-04-17 20:55:46 UTC (rev 1183)
+++ trunk/data/help/nl/tutorial-basics.xml	2007-04-17 21:00:12 UTC (rev 1184)
@@ -1,54 +1,54 @@
-<?xml version="1.0" encoding="UTF-8"?>
+<?xml version="1.0" encoding="utf-8"?>
 <Document style="helpdocument">
 <p style="htitle">Tutorial voor beginners</p>
-<p style="hp">Kies "new game " &gt; "willekeurig dorp". Andere scenario's zijn voor min of meer ervaren spelers. </p>
-<p style="hp">Merk op dat het willekeurige dorp basis-benodigheden heeft:</p>
-<li><a href="farm">Boerderijen</a> maken voedsel voor markten</li>
-<li><a href="commune">Communies</a> die houtskool en kleine hoeveelheden ijzererts en staal maken </li>
-<li><a href="residential">Woonwijken</a></li>
-<li><a href="pottery">Pottebakkerijen</a></li>
-<li><a href="track">Landweggetjes</a></li>
+	<p style="hp">Kies "new game " &gt; "willekeurig dorp". Andere scenario's zijn voor min of meer ervaren spelers. </p>
+	<p style="hp">Merk op dat het willekeurige dorp basis-benodigheden heeft:</p>
+	<li><a href="farm">Boerderijen</a> maken voedsel voor markten</li>
+	<li><a href="commune">Communies</a> die houtskool en kleine hoeveelheden ijzererts en staal maken </li>
+	<li><a href="residential">Woonwijken</a></li>
+	<li><a href="pottery">Pottebakkerijen</a></li>
+	<li><a href="track">Landweggetjes</a></li>
 
-<p style="hp">Klik op een gebouw (in het hoofdvenster) en er wordt informatie getoond in het kleine venstertje rechtsonder.</p>
+	<p style="hp">Klik op een gebouw (in het hoofdvenster) en er wordt informatie getoond in het kleine venstertje rechtsonder.</p>
 
-<p style="hsubtitle">Markt </p>
-<p style="hp">De markt is een belangrijk gebouw in Lincity. Ze zijn noodzakelijk voor bijna alle plaatselijke in- en verkopen. De help-pagina's op <a href="market">markt </a> <b>moeten</b> gelezen worden :-). <i>, wanneer iets niet op een markt aanwezig is, dan kan het ook niet niet verhandeld worden, en wanneer een markt vol met een soort product is, dan zal dat ook niet meer ingekocht worden. Dit kan mischien een beetje helpen om te begrijpen waarom sommige gebouwen niet werken (waarschijnlijk kan iets war dringend nodig is niet gekocht worden, of ze kunnen de spulletjes die ze gemaakt hebben niet verkopen)</i> </p>
+	<p style="hsubtitle">Markt </p>
+	<p style="hp">De markt is een belangrijk gebouw in Lincity. Ze zijn noodzakelijk voor bijna alle plaatselijke in- en verkopen. De help-pagina's op <a href="market">markt </a> <b>moeten</b> gelezen worden :-). <i>, wanneer iets niet op een markt aanwezig is, dan kan het ook niet niet verhandeld worden, en wanneer een markt vol met een soort product is, dan zal dat ook niet meer ingekocht worden. Dit kan mischien een beetje helpen om te begrijpen waarom sommige gebouwen niet werken (waarschijnlijk kan iets war dringend nodig is niet gekocht worden, of ze kunnen de spulletjes die ze gemaakt hebben niet verkopen)</i> </p>
 
-<p style="hsubtitle">Verkeer </p>
-<p style="hp"><a href="transport">Verkeer </a> is nodig voor lange afstand vervoer van goederen, en voor sommige met name genoemde activiteiten (het wordt dan beschreven in het bijbehorende help-pagina, zoals lichte industrie). Net zoals markten hebben ook wegen een beperkte capaciteit en kunnen vol raken.</p>
+	<p style="hsubtitle">Verkeer </p>
+	<p style="hp"><a href="transport">Verkeer </a> is nodig voor lange afstand vervoer van goederen, en voor sommige met name genoemde activiteiten (het wordt dan beschreven in het bijbehorende help-pagina, zoals lichte industrie). Net zoals markten hebben ook wegen een beperkte capaciteit en kunnen vol raken.</p>
 
-<p style="hp">Wanneer een "normaal" gebouw niet in het bereik van een markt is, moet het verbonden worden met verkeer. Vergeet niet dat wegen en spoorwegen ieder jaar geld kosten, daarom is het handiger (en goedkoper) om wanneer nodig markten te gebruiken (tenzij een gebouw zoals een monument werkelijk apart moet staan). </p>
+	<p style="hp">Wanneer een "normaal" gebouw niet in het bereik van een markt is, moet het verbonden worden met verkeer. Vergeet niet dat wegen en spoorwegen ieder jaar geld kosten, daarom is het handiger (en goedkoper) om wanneer nodig markten te gebruiken (tenzij een gebouw zoals een monument werkelijk apart moet staan). </p>
 
-<p style="hp">Als een dorp net is gestart, zijn landweggetjes alleen nodig voor de produktie van communes. Alle andere aktiviteiten hebben alleen een markt nodig. </p>
+	<p style="hp">Als een dorp net is gestart, zijn landweggetjes alleen nodig voor de produktie van communes. Alle andere aktiviteiten hebben alleen een markt nodig. </p>
 
-<p style="hsubtitle">Geld </p>
-<p style="hp">Er zit belasting op produktie en daarmee verdien je geld. In de minikaart is de derde tab <a href="finance">het financi?le kaartje</a>. Zorg ervoor dat er niet te snel, te veel geld wordt uitgegeven: wanneer er een geldtekoort is, kan er niets gebouwd worden en moet er rente betaald worden. Dit kan leiden tot een faillisement (lees ook <a href="tutorial-scenario"> Moeilijke scenario </a>). </p>
+	<p style="hsubtitle">Geld </p>
+	<p style="hp">Er zit belasting op produktie en daarmee verdien je geld. In de minikaart is de derde tab <a href="finance">het financi?le kaartje</a>. Zorg ervoor dat er niet te snel, te veel geld wordt uitgegeven: wanneer er een geldtekoort is, kan er niets gebouwd worden en moet er rente betaald worden. Dit kan leiden tot een faillisement (lees ook <a href="tutorial-scenario"> Moeilijke scenario </a>). </p>
 
-<p style="hsubtitle">De stad ontwikkelen </p>
-<p style="hp">Vergeet niet dat mensen sterven als ze niet eten. Om controle te houden over de groei van de stad, moet er een balans gevonden in de soort gebouwde huizen  (Er worden meer of minder kinderen geboren en er sterven meer of minder mensen in verschillende soorten huizen) . De nieuwe bevolking kan meer werk verrichten, maar eten ook meer, en gebruiken meer goederen en hebben meer banen nodig...</p>
-<p style="hp">De produktie moet vergroot worden (voeg pottebakkerijen en smederijen toe) en er moet voor gezorgd worden dat deze ook materialen krijgen. Er moet daarom ook communes bijgemaakt worden. </p>
-<p style="hp">Om nieuwe soorten gebouwen te kunnen bouwen moet het <a href="tech-level"> Technologie nivo </a> verhoogt worden.</p>
-<p style="hp">Op een gegeven moment moet er een speeldoel gekozen worden:of een <a href="sustain"> duurzame economie </a> of evacuatie met <a href="rocket"> raketten</a>.</p>
+	<p style="hsubtitle">De stad ontwikkelen </p>
+	<p style="hp">Vergeet niet dat mensen sterven als ze niet eten. Om controle te houden over de groei van de stad, moet er een balans gevonden in de soort gebouwde huizen  (Er worden meer of minder kinderen geboren en er sterven meer of minder mensen in verschillende soorten huizen) . De nieuwe bevolking kan meer werk verrichten, maar eten ook meer, en gebruiken meer goederen en hebben meer banen nodig...</p>
+	<p style="hp">De produktie moet vergroot worden (voeg pottebakkerijen en smederijen toe) en er moet voor gezorgd worden dat deze ook materialen krijgen. Er moet daarom ook communes bijgemaakt worden. </p>
+	<p style="hp">Om nieuwe soorten gebouwen te kunnen bouwen moet het <a href="tech-level"> Technologie nivo </a> verhoogt worden.</p>
+	<p style="hp">Op een gegeven moment moet er een speeldoel gekozen worden:of een <a href="sustain"> duurzame economie </a> of evacuatie met <a href="rocket"> raketten</a>.</p>
 
-<p style="hp">Het statistieken venstertje toont de totale hoeveelheid voorraden beschikbaar in markten, en hoe dit zich ontwikkelt. Dit moet vaak gecontroleerd worden. De minikaartjes geven een beter inzicht de economie van dit spel.</p>
-<li>Hint: zet het spel in de hoogste snelheid, verander een of twee dingen en wacht een tijdje</li>
+	<p style="hp">Het statistieken venstertje toont de totale hoeveelheid voorraden beschikbaar in markten, en hoe dit zich ontwikkelt. Dit moet vaak gecontroleerd worden. De minikaartjes geven een beter inzicht de economie van dit spel.</p>
+	<li>Hint: zet het spel in de hoogste snelheid, verander een of twee dingen en wacht een tijdje</li>
 
-<p style="hsubtitle">Duurzame economie</p>
-<p style="hp">De vierde tab van de kaartjes toont gekleurde lijnen die de voortgang aangeven naar een duurzame economie. </p>
-<p style="hp">Het wordt aanbevolen om eerst het spel op te slaan voor het spel een lange tijd gaat lopen om te kijken of het een duurzame economie heeft. Als iets heel erg verkeerd gaat (de hongerdood bijvoorbeeld) kan het spel opnieuw gestart worden van de bewaarde moment?:-) </p>
-<p style="hp">Het controleren van de totale voorraden in de markten (het mini-venster met de voortgang-grafieken) moet grote problemen voorkomen. Af en toe de voortgang naar een duurzame economie controleren in de ECO mini-venster moet genoeg zijn. </p>
+	<p style="hsubtitle">Duurzame economie</p>
+	<p style="hp">De vierde tab van de kaartjes toont gekleurde lijnen die de voortgang aangeven naar een duurzame economie. </p>
+	<p style="hp">Het wordt aanbevolen om eerst het spel op te slaan voor het spel een lange tijd gaat lopen om te kijken of het een duurzame economie heeft. Als iets heel erg verkeerd gaat (de hongerdood bijvoorbeeld) kan het spel opnieuw gestart worden van de bewaarde moment?:-) </p>
+	<p style="hp">Het controleren van de totale voorraden in de markten (het mini-venster met de voortgang-grafieken) moet grote problemen voorkomen. Af en toe de voortgang naar een duurzame economie controleren in de ECO mini-venster moet genoeg zijn. </p>
 
-<li>Hint: pasop voor krottenwijken en afval in markten... </li>
+	<li>Hint: pasop voor krottenwijken en afval in markten... </li>
 
-<li>Hint: Maak een of twee veranderingen en wacht een tijdje (lees help bestanden?;-) of zet het spel in een hogere snelheid, en kijk hoe de economie verandert.</li>
-<p style="hp"/>
-<p style="hp">Veel plezier.</p>
-<p style="hp"/>
+	<li>Hint: Maak een of twee veranderingen en wacht een tijdje (lees help bestanden?;-) of zet het spel in een hogere snelheid, en kijk hoe de economie verandert.</li>
+	<p style="hp"/>
+	<p style="hp">Veel plezier.</p>
+	<p style="hp"/>
 
-<p style="hp">Lees ook:</p>
-<li><a href="tutorial-advanced">Tutorial voor gevorderden</a></li>
-<li><a href="tutorial-scenario">Voor gedefineerde landschappen</a></li>
-<li><a href="msb-starve">Sterfte kaart</a></li>
-<li><a href="msb-ub40">Werkloosheid kaart</a></li>
+	<p style="hp">Lees ook:</p>
+	<li><a href="tutorial-advanced">Tutorial voor gevorderden</a></li>
+	<li><a href="tutorial-scenario">Voor gedefineerde landschappen</a></li>
+	<li><a href="msb-starve">Sterfte kaart</a></li>
+	<li><a href="msb-ub40">Werkloosheid kaart</a></li>
 
-</Document>
+</Document>
\ No newline at end of file

Modified: trunk/data/help/nl/tutorial-overview.xml
===================================================================
--- trunk/data/help/nl/tutorial-overview.xml	2007-04-17 20:55:46 UTC (rev 1183)
+++ trunk/data/help/nl/tutorial-overview.xml	2007-04-17 21:00:12 UTC (rev 1184)
@@ -1,24 +1,23 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <Document style="helpdocument">
 <p style="htitle">Overzicht van het scherm </p>
+	<p style="hp"><b>Links boven</b> is een scherm met iconen en gereedschappen (informatie-vragen en bulldozer) en alle gebouwen die beschikbaar komen tijdens het spelen. </p>
+	<li>Klik links op een icoon om de drawer te openen om nog meer iconen te zien. </li>
+	<li>Klik rechts op een icoon om de bijbehorende help-pagina te krijgen. </li>
+	<li>Wacht even met de muis en er opent een mini help-bericht. </li>
+	<p style="hp"/>
 
-<p style="hp"><b>Links boven</b> is een scherm met iconen en gereedschappen (informatie-vragen en bulldozer) en alle gebouwen die beschikbaar komen tijdens het spelen. </p>
-<li>Klik links op een icoon om de drawer te openen om nog meer iconen te zien. </li>
-<li>Klik rechts op een icoon om de bijbehorende help-pagina te krijgen. </li>
-<li>Wacht even met de muis en er opent een mini help-bericht. </li>
-<p style="hp"/>
+	<p style="hp"><b>Links beneden</b> is de controle over de spelsnelheid.</p>
+	<p style="hp"/>
 
-<p style="hp"><b>Links beneden</b> is de controle over de spelsnelheid.</p>
-<p style="hp"/>
+	<p style="hp"><b>Rechts beneden</b> zijn alle "informatie gereedschappen": kaarten met 4 tabs, en daaronder mini-iconen voor verschillende soorten informatie. Klik erop om te zien wat gebeurt.</p>
+	<p style="hp"/>
 
-<p style="hp"><b>Rechts beneden</b> zijn alle "informatie gereedschappen": kaarten met 4 tabs, en daaronder mini-iconen voor verschillende soorten informatie. Klik erop om te zien wat gebeurt.</p>
-<p style="hp"/>
+	<p style="hp">Probeer het toetsenbord en de muis uit (links, midden en rechts klikken en de muiswiel...), klik op F1 voor help.</p>
 
-<p style="hp">Probeer het toetsenbord en de muis uit (links, midden en rechts klikken en de muiswiel...), klik op F1 voor help.</p>
+	<p style="hp">Lees ook:</p>
+	<li><a href="tutorial-basics">Tutorial voor beginners</a></li>
+	<li><a href="tutorial-advanced">Tutorial voor gevorderden</a></li>
+	<li><a href="tutorial-scenario">Voor gedefineerde landschappen</a></li>
 
-<p style="hp">Lees ook:</p>
-<li><a href="tutorial-basics">Tutorial voor beginners</a></li>
-<li><a href="tutorial-advanced">Tutorial voor gevorderden</a></li>
-<li><a href="tutorial-scenario">Voor gedefineerde landschappen</a></li>
-
 </Document>
\ No newline at end of file



From alainb at mail.berlios.de  Wed Apr 18 17:24:52 2007
From: alainb at mail.berlios.de (alainb at BerliOS)
Date: Wed, 18 Apr 2007 17:24:52 +0200
Subject: [Lincity-ng-commit] r1185 - in trunk/src/lincity: . modules
Message-ID: <200704181524.l3IFOqE3026853@sheep.berlios.de>

Author: alainb
Date: 2007-04-18 17:24:51 +0200 (Wed, 18 Apr 2007)
New Revision: 1185

Modified:
   trunk/src/lincity/engine.cpp
   trunk/src/lincity/modules/blacksmith.cpp
   trunk/src/lincity/modules/organic_farm.cpp
Log:
tiny fix: don't use 'put_jobs' in blacksmith and farms.
This avoid having undue tax in get_jobs for a not done job :-).

Modified: trunk/src/lincity/engine.cpp
===================================================================
--- trunk/src/lincity/engine.cpp	2007-04-17 21:00:12 UTC (rev 1184)
+++ trunk/src/lincity/engine.cpp	2007-04-18 15:24:51 UTC (rev 1185)
@@ -920,10 +920,6 @@
 {
   switch (MP_GROUP(x,y))
     {
-    case (GROUP_ORGANIC_FARM):
-      MP_INFO(x,y).int_7 = (int)(((double) MP_INFO(x,y).int_1
-			      * ORGANIC_FARM_FOOD_OUTPUT) / MAX_TECH_LEVEL);
-      break;
     case (GROUP_WINDMILL):
 #ifdef OLD_POWER_CODE
       MP_INFO(x,y).int_5 = (int)(WINDMILL_POWER

Modified: trunk/src/lincity/modules/blacksmith.cpp
===================================================================
--- trunk/src/lincity/modules/blacksmith.cpp	2007-04-17 21:00:12 UTC (rev 1184)
+++ trunk/src/lincity/modules/blacksmith.cpp	2007-04-18 15:24:51 UTC (rev 1185)
@@ -20,10 +20,12 @@
     // int_4 is the animation trigger time
     // int_5 is the % made so far this month
     // int_6 is the % capacity last month
+    // int_7 contains the jobs stored at the blacksmith
   */
   if (MP_INFO(x,y).int_3 < MAX_COAL_AT_BLACKSMITH)
     if (get_coal (x, y, BLACKSMITH_GET_COAL) != 0)
       MP_INFO(x,y).int_3 += BLACKSMITH_GET_COAL;
+
   if (MP_INFO(x,y).int_1 < MAX_GOODS_AT_BLACKSMITH
       && MP_INFO(x,y).int_3 >= BLACKSMITH_COAL_USED)
     {
@@ -33,24 +35,25 @@
 	  MP_INFO(x,y).int_3 -= BLACKSMITH_COAL_USED;
 	}
     }
-  if (get_jobs (x, y, BLACKSMITH_JOBS) != 0)
-    {
-      if (MP_INFO(x,y).int_1 > GOODS_MADE_BY_BLACKSMITH)
-	{
-	  if (put_goods (x, y, GOODS_MADE_BY_BLACKSMITH - 1) != 0)
-	    {
-	      MP_INFO(x,y).int_1 -= (GOODS_MADE_BY_BLACKSMITH - 1);
-	      MP_INFO(x,y).int_2 += (GOODS_MADE_BY_BLACKSMITH - 1);
-	      MP_INFO(x,y).int_5++;
-	    }
-	  else
-	    put_jobs (x, y, BLACKSMITH_JOBS);
+
+  if (MP_INFO(x,y).int_7 == 0) {
+  	if (get_jobs (x, y, BLACKSMITH_JOBS))
+		MP_INFO(x,y).int_7 = BLACKSMITH_JOBS;
+  }
+
+  if (MP_INFO(x,y).int_7 == BLACKSMITH_JOBS) {
+	if (MP_INFO(x,y).int_1 > GOODS_MADE_BY_BLACKSMITH) {
+		if (put_goods (x, y, GOODS_MADE_BY_BLACKSMITH - 1) != 0) {
+		      MP_INFO(x,y).int_1 -= (GOODS_MADE_BY_BLACKSMITH - 1);
+		      MP_INFO(x,y).int_2 += (GOODS_MADE_BY_BLACKSMITH - 1);
+		      MP_INFO(x,y).int_5++;
+		      MP_INFO(x,y).int_7 = 0;
+		}
 	}
-      else
-	put_jobs (x, y, BLACKSMITH_JOBS);
-    }
-  else
+  } else {
     MP_TYPE(x,y) = CST_BLACKSMITH_0;
+  }
+
   if (MP_INFO(x,y).int_2 > BLACKSMITH_BATCH
       && real_time >= MP_INFO(x,y).int_4)
     {

Modified: trunk/src/lincity/modules/organic_farm.cpp
===================================================================
--- trunk/src/lincity/modules/organic_farm.cpp	2007-04-17 21:00:12 UTC (rev 1184)
+++ trunk/src/lincity/modules/organic_farm.cpp	2007-04-18 15:24:51 UTC (rev 1185)
@@ -22,81 +22,110 @@
      // int_4 is the food made last year.
      // int_5 is the random crop rotation key.
      // int_6 is the random month stagger, so they don't all flash at once
-     // int_7 is the tech-level dependent output of a powered farm with a full
-     // workforce.
+     // int_7 is the jobs stored at the farm 
+     // 	up to NG-1.1.0 int_7 was the tech-level dependent output of a
+     // 	 powered farm with full workforce. 
+     // 	= duplicate with int_1.  see below TECH_BONUS.
   */
   int i;
-  if (MP_INFO(x,y).int_5 == 0)	/* this should be done when we create */
+  int has_power = false;
+  int TECH_BONUS = (int)(((double) MP_INFO(x,y).int_1
+			      * ORGANIC_FARM_FOOD_OUTPUT) / MAX_TECH_LEVEL);
 
-    {				/* the area! */
+  /* Animation */
+  if (MP_INFO(x,y).int_5 == 0) {
+      /* this should be done when we create the area! */
+      MP_INFO(x,y).int_5 = (rand () % 4) + 1;
+      MP_INFO(x,y).int_6 = rand () % 300; /* AL1 will be sooner or later redefined as %100. see below */
+  }
 
-      MP_INFO(x,y).int_5 = (rand () % 4) + 1;
-      MP_INFO(x,y).int_6 = rand () % 300;
-    }
+  /* check jobs */
+  if (MP_INFO(x,y).int_7 < FARM_JOBS_USED) {
+  	if (get_jobs (x, y, FARM_JOBS_USED) != 0)
+		MP_INFO(x,y).int_7 += FARM_JOBS_USED;
+	/* adding if (get_jobs ... /2) would allow to have some jobs stored at farm,
+	 * so would smooth the behavior and make farms more resistant to job penury.
+	 * Currently keep previous behavior.
+	 */
+  	else if (get_jobs (x, y, FARM_JOBS_USED / 4) != 0)
+		MP_INFO(x,y).int_7 += FARM_JOBS_USED / 4;
+  	else if (get_jobs (x, y, 1) != 0)
+		MP_INFO(x,y).int_7 += 1;
+  }
+
+  /* check power */
   MP_INFO(x,y).flags &= (0xffffffff - FLAG_POWERED);
-  if (get_jobs (x, y, 1) == 0)
-    put_food (x, y, 30);
-  else if (get_jobs (x, y, FARM_JOBS_USED) != 0)
-    {
-      if (get_power (x, y, ORG_FARM_POWER_REC, 0) != 0)
-	{
-	  if (put_food (x, y, (ORGANIC_FARM_FOOD_OUTPUT
-			       + MP_INFO(x,y).int_7)) == 0)
-	    put_jobs (x, y, FARM_JOBS_USED);
-	  else
-	    MP_INFO(x,y).int_3++;
-	  MP_INFO(x,y).flags |= FLAG_POWERED;
+  if (MP_INFO(x,y).int_7 >= 1) {
+  	/* There are jobs to do some production, so check for power */
+	if (get_power (x, y, ORG_FARM_POWER_REC, 0) != 0) {
+		MP_INFO(x,y).flags |= FLAG_POWERED;
+		has_power = true;
 	}
-      else
-	{
-	  if (put_food (x, y, (ORGANIC_FARM_FOOD_OUTPUT / 4)) == 0)
-	    put_jobs (x, y, FARM_JOBS_USED);
-	  else
-	    MP_INFO(x,y).int_3++;
-	}
-    }
-  else if (get_jobs (x, y, FARM_JOBS_USED / 4) != 0)
-    {
-      if (get_power (x, y, ORG_FARM_POWER_REC, 0) != 0)
-	{
-	  if (put_food (x, y, (ORGANIC_FARM_FOOD_OUTPUT
-			       + (MP_INFO(x,y).int_7 / 4))) == 0)
-	    put_jobs (x, y, FARM_JOBS_USED / 4);
-	  else
-	    MP_INFO(x,y).int_3++;
-	  MP_INFO(x,y).flags |= FLAG_POWERED;
-	}
-      else
-	{
-	  if (put_food (x, y, (ORGANIC_FARM_FOOD_OUTPUT / (4 * 4))) == 0)
-	    put_jobs (x, y, FARM_JOBS_USED / 4);
-	  else
-	    MP_INFO(x,y).int_3++;
-	}
-    }
-  else
-    {
-      if (get_power (x, y, ORG_FARM_POWER_REC, 0) != 0)
-	{
-	  if (put_food (x, y, (ORGANIC_FARM_FOOD_OUTPUT
-			       + (MP_INFO(x,y).int_7 / 8))) != 0)
-	    MP_INFO(x,y).int_3++;
-	  MP_INFO(x,y).flags |= FLAG_POWERED;
-	}
-      else if (put_food (x, y, 30
-			 + (ORGANIC_FARM_FOOD_OUTPUT / (4 * 8))) != 0)
-	MP_INFO(x,y).int_3++;
-    }
+  }
+
+  /* Produce some food */
+  if (MP_INFO(x,y).int_7 >= FARM_JOBS_USED) {
+      if (has_power) {
+	  if (put_food (x, y, (ORGANIC_FARM_FOOD_OUTPUT	+ TECH_BONUS)) != 0) {
+		MP_INFO(x,y).int_3++;
+		MP_INFO(x,y).int_7 -= FARM_JOBS_USED;
+	  }
+      } else {
+	  if (put_food (x, y, (ORGANIC_FARM_FOOD_OUTPUT / 4)) != 0) {
+		MP_INFO(x,y).int_3++;
+		MP_INFO(x,y).int_7 -= FARM_JOBS_USED;
+	  }
+      }
+  } else if (MP_INFO(x,y).int_7 >= FARM_JOBS_USED / 4) {
+      if (has_power) {
+	  if (put_food (x, y, (ORGANIC_FARM_FOOD_OUTPUT + TECH_BONUS / 4)) != 0) {
+		MP_INFO(x,y).int_3++;
+		MP_INFO(x,y).int_7 -= FARM_JOBS_USED / 4;
+	  }
+      } else {
+	  if (put_food (x, y, (ORGANIC_FARM_FOOD_OUTPUT / (4 * 4))) != 0) {
+		MP_INFO(x,y).int_3++;
+		MP_INFO(x,y).int_7 -= FARM_JOBS_USED / 4;
+	  }
+      }
+  } else if (MP_INFO(x,y).int_7 >= 1) {
+      /* got 1 job */
+      if (has_power) {
+	  if (put_food (x, y, (ORGANIC_FARM_FOOD_OUTPUT + (TECH_BONUS / 8))) != 0) {
+	    	MP_INFO(x,y).int_3++;
+		MP_INFO(x,y).int_7 -= 1;
+	  }
+      } else if (put_food (x, y, 30
+			 + (ORGANIC_FARM_FOOD_OUTPUT / (4 * 8))) != 0) {
+	  /* AL1 "small ouch":
+	   * without power output with 1 job is bigger than output with 3 !
+	   * 3 = FARMS_JOBS_USED / 4 
+	   * ORGANIC_FARM_FOOD_OUTPUT = 550 currently (ng_1.1)
+	   */
+	   MP_INFO(x,y).int_3++;
+	   MP_INFO(x,y).int_7 -= 1;
+      }
+  } else {
+      /* AL1 : the farm gives very small amount of food without job. 
+       *  ? Probably needed for start ?
+       *  ? Useful to prevent starvation when no jobs ? 
+       *  The various modules are done in random order, so it should be ok without this.
+       */
+      put_food (x, y, 30);
+      /* note that this does not generate revenu int_3) */
+  }
+
   if ((total_time & 0x7f) == 0)
     if ((MP_INFO(x,y).flags & FLAG_POWERED) != 0)
       get_waste (x, y, 0x80 * ORG_FARM_WASTE_GET);
-  if ((total_time % 1200) == 0)
-    {
+
+  if ((total_time % 1200) == 0) {
       MP_INFO(x,y).int_4 = MP_INFO(x,y).int_3;
       MP_INFO(x,y).int_3 = 0;
-    }
-  i = ((total_time + (MP_INFO(x,y).int_5 * 1200)
-	+ MP_INFO(x,y).int_6) % 4800);
+  }
+
+  i = (total_time + MP_INFO(x,y).int_5 * 1200 + MP_INFO(x,y).int_6) % 4800;
+
   if (i % 300 == 0)
     {
       i /= 300;
@@ -105,7 +134,7 @@
 	{
 	  if (i % 4 == 0)
 	    {
-	      MP_INFO(x,y).int_6 = rand () % 100;
+	      MP_INFO(x,y).int_6 = rand () % 100; /* AL1: initially defined as %300 */
 	    }
 	  switch (i)
 	    {
@@ -178,18 +207,17 @@
 {
   int i = 0;
   const char *p;
+  char text[MPS_INFO_CHARS+1];
 
   /** removed depency on mps_info */
   mps_store_title(i++,_("Organic Farm"));
+  i++;
 
-  char text[MPS_INFO_CHARS+1];
-
   if ((MP_INFO(x,y).flags & FLAG_POWERED) != 0)
     p = _("YES");
   else
     p = _("NO ");
   
-
   snprintf(text, MPS_INFO_CHARS, "%s %s", _("Power"), p);
   mps_store_title(i++,text);
 



From wolfgangb at mail.berlios.de  Wed Apr 18 19:05:23 2007
From: wolfgangb at mail.berlios.de (wolfgangb at BerliOS)
Date: Wed, 18 Apr 2007 19:05:23 +0200
Subject: [Lincity-ng-commit] r1186 - trunk/data/locale
Message-ID: <200704181705.l3IH5N9n010904@sheep.berlios.de>

Author: wolfgangb
Date: 2007-04-18 19:05:22 +0200 (Wed, 18 Apr 2007)
New Revision: 1186

Modified:
   trunk/data/locale/nl.po
Log:
Update for Dutch translation by Ronald Stroethoff.

Modified: trunk/data/locale/nl.po
===================================================================
--- trunk/data/locale/nl.po	2007-04-18 15:24:51 UTC (rev 1185)
+++ trunk/data/locale/nl.po	2007-04-18 17:05:22 UTC (rev 1186)
@@ -6,15 +6,15 @@
 #
 #
 # Bart Vanherck <bart at herckb.be>, 2006.
-# Ronald Stroethoff <stroet43 at zonnet.nl>, 2006.
+# Ronald Stroethoff <stroet43 at zonnet.nl>, 2006, 2007.
 msgid ""
 msgstr ""
 "Project-Id-Version: nl\n"
 "Report-Msgid-Bugs-To: \n"
 "POT-Creation-Date: 2007-01-27 22:03+0100\n"
-"PO-Revision-Date: 2006-12-21 19:41+0100\n"
+"PO-Revision-Date: 2007-04-12 23:58+0200\n"
 "Last-Translator: Ronald Stroethoff <stroet43 at zonnet.nl>\n"
-"Language-Team: Nederlands <en at li.org>\n"
+"Language-Team: Nederlands\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=ISO-8859-15\n"
 "Content-Transfer-Encoding: 8bit\n"
@@ -26,8 +26,7 @@
 
 #: src/lincity/fileutil.cpp:561
 msgid "Error verifying package. Can't find colour.pal."
-msgstr ""
-"Fout bij het controleren van het pakket. Kan het kleurenpallet niet vinden"
+msgstr "Fout bij het controleren van het pakket. Kan het kleurenpallet niet vinden"
 
 #: src/lincity/fileutil.cpp:580 src/lincity/fileutil.cpp:589
 #, c-format
@@ -114,7 +113,7 @@
 
 #: src/lincity/engine.cpp:717
 msgid "It's at a commune."
-msgstr "Het is bij een communie."
+msgstr "Het is bij een houtskool-branderij."
 
 #: src/lincity/engine.cpp:719
 msgid "It's at a tip."
@@ -257,7 +256,7 @@
 
 #: src/lincity/lintypes.cpp:190 src/lincity/modules/commune.cpp:146
 msgid "Commune"
-msgstr "Communie"
+msgstr "Houtskool-branderij"
 
 #: src/lincity/lintypes.cpp:202
 msgid "Ore mine"
@@ -853,8 +852,7 @@
 #: src/lincity-ng/Dialog.cpp:413
 #, c-format
 msgid ".    Potteries %4d     Blacksmiths %4d            Mills %4d"
-msgstr ""
-".????Pottenbakkerijen?%4d?????Smidsen?%4d????????????Textielfabrieken?%4d"
+msgstr ".????Pottenbakkerijen?%4d?????Smidsen?%4d????????????Textielfabrieken?%4d"
 
 #: src/lincity-ng/Dialog.cpp:418
 #, c-format
@@ -869,8 +867,7 @@
 #: src/lincity-ng/Dialog.cpp:428
 #, c-format
 msgid ".   Coal mines %4d       Ore mines %4d         Communes %4d"
-msgstr ""
-".???Steenkoolmijnen?%4d???????Ijzerertsmijnen?%4d?????????Communies?%4d"
+msgstr ".???Steenkoolmijnen?%4d???????Ijzerertsmijnen?%4d?????????houtskool-branderijen?%4d"
 
 #: src/lincity-ng/Dialog.cpp:433
 #, c-format
@@ -880,8 +877,7 @@
 #: src/lincity-ng/Dialog.cpp:439
 #, c-format
 msgid ".  Substations %4d     Power lines %4d            Ports %4d"
-msgstr ""
-".??Transformatorhuisje?%4d?????Electriciteitsdraden?%4d????????????Havens?%4d"
+msgstr ".??Transformatorhuisje?%4d?????Electriciteitsdraden?%4d????????????Havens?%4d"
 
 #: src/lincity-ng/Dialog.cpp:444
 #, c-format
@@ -946,7 +942,7 @@
 #: src/lincity-ng/GameView.cpp:1520 src/lincity-ng/GameView.cpp:1551
 #: src/lincity-ng/ScreenInterface.cpp:269
 msgid "$"
-msgstr "EUR"
+msgstr "?"
 
 #: src/lincity-ng/GameView.cpp:1522
 msgid "n/a"
@@ -970,7 +966,7 @@
 
 #: src/lincity-ng/GameView.cpp:1552 src/lincity-ng/GameView.cpp:1555
 msgid "$."
-msgstr "EUR."
+msgstr "?"
 
 #: src/lincity-ng/GameView.cpp:1554
 msgid " To build "
@@ -1236,3 +1232,4 @@
 #: src/lincity-ng/ScreenInterface.cpp:258
 msgid "MM"
 msgstr "MM"
+



From wolfgangb at mail.berlios.de  Wed Apr 18 23:56:08 2007
From: wolfgangb at mail.berlios.de (wolfgangb at BerliOS)
Date: Wed, 18 Apr 2007 23:56:08 +0200
Subject: [Lincity-ng-commit] r1187 - in trunk: data/gui data/locale
	data/locale/gui src/lincity-ng src/tinygettext
Message-ID: <200704182156.l3ILu8MQ030844@sheep.berlios.de>

Author: wolfgangb
Date: 2007-04-18 23:56:07 +0200 (Wed, 18 Apr 2007)
New Revision: 1187

Added:
   trunk/data/locale/gui/pt_BR.po
   trunk/data/locale/pt_BR.po
Removed:
   trunk/data/locale/gui/pt.po
   trunk/data/locale/pt.po
Modified:
   trunk/data/gui/creditslist.xml
   trunk/src/lincity-ng/HelpWindow.cpp
   trunk/src/tinygettext/TinyGetText.cpp
   trunk/src/tinygettext/TinyGetText.hpp
   trunk/src/tinygettext/findlocale.cpp
Log:
*Updated TinyGetText and findlocale with the changes from supertux (r4998)
 http://supertux.lethargik.org/viewvc/viewvc.cgi/trunk/supertux/src/tinygettext/
*Now we can handle locales with country code. If you run for example:
 $ LINCITY_LANG=foo_BAR ./lincity-ng
 It will try "foo_BAR" first, then "foo", then "en".
*Moved pt to pt_BR.


Modified: trunk/data/gui/creditslist.xml
===================================================================
--- trunk/data/gui/creditslist.xml	2007-04-18 17:05:22 UTC (rev 1186)
+++ trunk/data/gui/creditslist.xml	2007-04-18 21:56:07 UTC (rev 1187)
@@ -46,7 +46,7 @@
     <p style="person">nl - Ronald Stroethoff</p>
     <p style="person">pl - Micha? Drza?</p>
     <p style="person">pl - Piotr Pacholak</p>
-    <p style="person">pt - Jose Carlos Medeiros</p>
+    <p style="person">pt_BR - Jose Carlos Medeiros</p>
     <p style="person">ru - Myravyev Leonid
 	    <span style="email">&lt;asm at asm.pp.ru&gt;</span></p>
     <p style="person">sv - Daniel Nylander</p>

Deleted: trunk/data/locale/gui/pt.po
===================================================================
--- trunk/data/locale/gui/pt.po	2007-04-18 17:05:22 UTC (rev 1186)
+++ trunk/data/locale/gui/pt.po	2007-04-18 21:56:07 UTC (rev 1187)
@@ -1,667 +0,0 @@
-# Portuguese/Brazil translation of lincity-ng.
-# Copyright (C) 2007 THE lincity-ng'S COPYRIGHT HOLDER
-# This file is distributed under the same license as the lincity-ng package.
-# Jose Carlos Medeiros <jose at psabs.com.br>, 2007.
-#
-msgid ""
-msgstr ""
-"Project-Id-Version: lincity-ng 1.1.0rc2\n"
-"Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: Sat Jan 27 22:03:14 2007\n"
-"PO-Revision-Date: 2007-01-30 21:10-0300\n"
-"Last-Translator: Jose Carlos Medeiros <jose at psabs.com.br>\n"
-"Language-Team: Portuguese/Brazil <gnome-l10n-br at listas.cipsga.org.br>\n"
-"MIME-Version: 1.0\n"
-"Content-Type: text/plain; charset=UTF-8\n"
-"Content-Transfer-Encoding: 8bit\n"
-"X-Poedit-Language: Portuguese\n"
-"X-Poedit-Country: BRAZIL\n"
-
-#: data/gui/minimap.xml
-msgid "$"
-msgstr "$"
-
-#: data/gui/fire.xml data/gui/fire.xml
-msgid "A Fire has started"
-msgstr "Come?ou um inc?ndio"
-
-#: data/gui/shfire-uc.xml
-msgid "A fire has broken out at a shanty town. It is in a fire cover area and APPEARS to be under control. "
-msgstr "Um inc?ndio iniciou na favela, que esta numa ?rea coberta pelos bombeiros e APARENTA estar sob controle."
-
-#: data/gui/shfire-oc.xml
-msgid "A fire has broken out at a shanty town. The fire is OUT OF CONTROL and may spread to other areas. "
-msgstr "Um inc?ndio iniciou na favela, o fogo esta FORA DE CONTROLE e poder? se espalhar para outras ?reas."
-
-#: data/gui/newgame.xml data/gui/loadgame.xml data/gui/loadgame.xml data/gui/loadgame.xml data/gui/credits.xml data/gui/savegame.xml data/gui/savegame.xml data/gui/savegame.xml
-msgid "Back"
-msgstr "Anterior"
-
-#: data/gui/options.xml
-msgid "Background Music"
-msgstr "M?sica de Fundo"
-
-#: data/gui/cricketup.xml
-msgid "Basketball Courts available"
-msgstr "Quadra de Basquete dispon?vel"
-
-#: data/gui/blacksmithup.xml
-msgid "Blacksmiths available"
-msgstr "Ferreiro dispon?vel"
-
-#: data/gui/bulldoze_monument_yn.xml
-msgid "Bulldozing a monument costs a lot of money."
-msgstr "Destruir um monumento custa muito dinheiro."
-
-#: data/gui/bulldoze_river_yn.xml
-msgid "Bulldozing a section of river costs a lot of money."
-msgstr "Destruir uma parte do rio custa muito dinheiro."
-
-#: data/gui/bulldoze_shanty_yn.xml
-msgid "Bulldozing a shanty town costs a lot of money and may cause a fire."
-msgstr "Destruir uma favela custa muito dinheiro e pode causar um inc?ndio."
-
-#: data/gui/tradedialog.xml data/gui/portdialog.xml
-msgid "Buy"
-msgstr "Comprar"
-
-#: data/gui/newgame.xml
-msgid "Choose Scenario"
-msgstr "Escolha o cen?rio"
-
-#: data/gui/pbar.xml data/gui/tradedialog.xml data/gui/portdialog.xml
-msgid "Coal"
-msgstr "Carv?o"
-
-#: data/gui/coalpowerup.xml
-msgid "Coal Fired Power Stations available"
-msgstr "Usina El?trica de Carv?o dispon?vel"
-
-#: data/gui/coalmineup.xml
-msgid "Coal Mine available"
-msgstr "Mina de Carv?o dispon?vel"
-
-#: data/gui/coal_survey_yn.xml
-msgid "Coal Survey"
-msgstr "An?lise do carv?o"
-
-#: data/gui/creditslist.xml
-msgid "Code"
-msgstr "C?digo"
-
-#: data/gui/mainmenu.xml
-msgid "Continue"
-msgstr "Prosseguir"
-
-#: data/gui/mainmenu.xml data/gui/creditslist.xml
-msgid "Credits"
-msgstr "Cr?ditos"
-
-#: data/gui/coal_survey_yn.xml
-msgid "Do coal survey?"
-msgstr "Analisar o carv?o?"
-
-#: data/gui/launch-good.xml
-msgid "Doing well."
-msgstr "Indo bem."
-
-#: data/gui/minimap.xml
-msgid "Eco"
-msgstr "Eco"
-
-#: data/gui/sustain.xml
-msgid "Economy Sustainable."
-msgstr "Economia Sustent?vel."
-
-#: data/gui/launch-evac.xml data/gui/launch-evac.xml
-msgid "Evacuation Launch Good"
-msgstr "Boa Evacua??o de Lan?amento"
-
-#: data/gui/shfire-uc.xml data/gui/shfire-oc.xml
-msgid "Fire"
-msgstr "Fogo"
-
-#: data/gui/firestationup.xml
-msgid "Fire Stations available"
-msgstr "Corpo de Bombeiro dispon?vel"
-
-#: data/gui/shfire-uc.xml data/gui/shfire-oc.xml
-msgid "Fire!"
-msgstr "Fogo!"
-
-#: data/gui/pbar.xml data/gui/tradedialog.xml data/gui/portdialog.xml
-msgid "Food"
-msgstr "Comida"
-
-#: data/gui/options.xml
-msgid "Fullscreen"
-msgstr "Tela Inteira"
-
-#: data/gui/gamestats.xml
-msgid "Gamestats"
-msgstr "Estat. do Jogo"
-
-#: data/gui/speedpanel.xml
-msgid "Go back to Main Menu"
-msgstr "Voltar ao Menu Principal"
-
-#: data/gui/pbar.xml data/gui/tradedialog.xml data/gui/portdialog.xml
-msgid "Goods"
-msgstr "Bens"
-
-#: data/gui/creditslist.xml
-msgid "Graphics"
-msgstr "Gr?ficos"
-
-#: data/gui/portdialog.xml
-msgid "Harbour Trade Settings"
-msgstr "Op??es do Porto Comercial"
-
-#: data/gui/healthup.xml
-msgid "Health Centres available"
-msgstr "Centro de sa?de dispon?vel"
-
-#: data/gui/hvindustryup.xml
-msgid "Heavy Industry available"
-msgstr "Ind?stria grande dispon?vel"
-
-#: data/gui/import-exportup.xml
-msgid "Import/Export available"
-msgstr "Importa??o/Exporta??o dispon?vel"
-
-#: data/gui/pbar.xml data/gui/tradedialog.xml
-msgid "Jobs"
-msgstr "Trabalhos"
-
-#: data/gui/launch-fail.xml data/gui/launch-fail.xml
-msgid "Launch Failure"
-msgstr "Falha no lan?amento"
-
-#: data/gui/launch-good.xml data/gui/launch-good.xml
-msgid "Launch Successfull"
-msgstr "Sucesso no lan?amento"
-
-#: data/gui/launch_rocket_yn.xml
-msgid "Launch now?"
-msgstr "Lan?ar agora?"
-
-#: data/gui/ltindustryup.xml
-msgid "Light Industry available"
-msgstr "Ind?stria pequena dispon?vel"
-
-#: data/gui/sustain.xml
-msgid "LinCity has determined that you have a sustainable economy."
-msgstr "LinCity determinou que voc? tem uma economia sustent?vel."
-
-#: data/gui/mainmenu.xml data/gui/loadgame.xml data/gui/loadgame.xml data/gui/loadgame.xml
-msgid "Load"
-msgstr "Abrir"
-
-#: data/gui/loadgame.xml
-msgid "Load Game"
-msgstr "Abrir o Jogo"
-
-#: data/gui/minimap.xml
-msgid "Map"
-msgstr "Mapa"
-
-#: data/gui/millup.xml
-msgid "Mills available"
-msgstr "Moinho dispon?vel"
-
-#: data/gui/mod_wind_up.xml
-msgid "Modern Windmills available"
-msgstr "Moinho de Vento dispon?vel"
-
-#: data/gui/pbar.xml
-msgid "Money"
-msgstr "Dinheiro"
-
-#: data/gui/newgame.xml data/gui/mainmenu.xml
-msgid "New Game"
-msgstr "Novo Jogo"
-
-#: data/gui/firestationup.xml data/gui/hvindustryup.xml data/gui/windmillup.xml data/gui/ltindustryup.xml data/gui/universityup.xml data/gui/cricketup.xml data/gui/recycleup.xml data/gui/coalmineup.xml data/gui/riverup.xml data/gui/parkup.xml data/gui/coalpowerup.xml data/gui/solarpowerup.xml data/gui/roadup.xml data/gui/potteryup.xml data/gui/railwayup.xml data/gui/blacksmithup.xml data/gui/mod_wind_up.xml data/gui/rocketup.xml data/gui/schoolup.xml data/gui/millup.xml data/gui/import-exportup.xml data/gui/healthup.xml
-msgid "New Invention"
-msgstr "Nova Inven??o"
-
-#: data/gui/coal_survey_yn.xml data/gui/bulldoze_monument_yn.xml data/gui/bulldoze_river_yn.xml data/gui/bulldoze_shanty_yn.xml data/gui/launch_rocket_yn.xml
-msgid "No"
-msgstr "N?o"
-
-#: data/gui/no-credit-solar-power.xml data/gui/no-credit-solar-power.xml data/gui/no-credit-university.xml data/gui/no-credit-university.xml data/gui/no-credit-recycle.xml data/gui/no-credit-recycle.xml data/gui/no-credit-parkland.xml data/gui/no-credit-parkland.xml data/gui/no-credit-rocket.xml data/gui/no-credit-rocket.xml
-msgid "No Credit Available"
-msgstr "Sem Cr?dito Dispon?vel"
-
-#: data/gui/allgone.xml
-msgid "Nobody Home"
-msgstr "Casa Desabitada"
-
-#: data/gui/nobull-tip.xml data/gui/nobull-tip.xml
-msgid "Not Allowed"
-msgstr "N?o Permitido"
-
-#: data/gui/options.xml data/gui/firestationup.xml data/gui/hvindustryup.xml data/gui/windmillup.xml data/gui/fire.xml data/gui/shfire-uc.xml data/gui/ltindustryup.xml data/gui/launch-evac.xml data/gui/universityup.xml data/gui/cricketup.xml data/gui/recycleup.xml data/gui/coalmineup.xml data/gui/riverup.xml data/gui/parkup.xml data/gui/no-credit-solar-power.xml data/gui/launch-good.xml data/gui/coalpowerup.xml data/gui/solarpowerup.xml data/gui/roadup.xml data/gui/no-credit-university.xml data/gui/potteryup.xml data/gui/no-credit-recycle.xml data/gui/railwayup.xml data/gui/launch-fail.xml data/gui/nobull-tip.xml data/gui/blacksmithup.xml data/gui/mod_wind_up.xml data/gui/rocketup.xml data/gui/schoolup.xml data/gui/millup.xml data/gui/import-exportup.xml data/gui/no-credit-parkland.xml data/gui/no-credit-rocket.xml data/gui/healthup.xml data/gui/launch-gone.xml data/gui/shfire-oc.xml data/gui/sustain.xml data/gui/allgone.xml
-msgid "Ok"
-msgstr "Ok"
-
-#: data/gui/gamestats.xml
-msgid "Okay"
-msgstr "Ok"
-
-#: data/gui/mainmenu.xml data/gui/options.xml
-msgid "Options"
-msgstr "Op??es"
-
-#: data/gui/pbar.xml data/gui/tradedialog.xml data/gui/portdialog.xml
-msgid "Ore"
-msgstr "Min?rio"
-
-#: data/gui/creditslist.xml
-msgid "Original Idea and Code"
-msgstr "Id?ia original e C?digo"
-
-#: data/gui/parkup.xml
-msgid "Parks available"
-msgstr "Parque dispon?vel"
-
-#: data/gui/speedpanel.xml
-msgid "Pause the game"
-msgstr "Pausar o Jogo"
-
-#: data/gui/pbar.xml
-msgid "Population"
-msgstr "Popula??o"
-
-#: data/gui/potteryup.xml
-msgid "Potteries available"
-msgstr "Olaria dispon?vel"
-
-#: data/gui/minimap.xml
-msgid "Press this button to show statistics"
-msgstr "Aperte este bot?o para mostrar as estat?sticas"
-
-#: data/gui/tradedialog.xml data/gui/portdialog.xml
-msgid "Product"
-msgstr "Produto"
-
-#: data/gui/mainmenu.xml
-msgid "Quit"
-msgstr "Sair"
-
-#: data/gui/railwayup.xml
-msgid "Railways available"
-msgstr "Estrada de Ferro dispon?vel"
-
-#: data/gui/recycleup.xml
-msgid "Recycling Centres available"
-msgstr "Centro de Reciclagem dispon?vel"
-
-#: data/gui/riverup.xml
-msgid "Rivers available"
-msgstr "Rio dispon?vel"
-
-#: data/gui/roadup.xml
-msgid "Roads available"
-msgstr "Estrada dispon?vel"
-
-#: data/gui/rocketup.xml
-msgid "Rocket Launch Pad available"
-msgstr "?rea de lan?amento de foguetes dispon?vel"
-
-#: data/gui/launch_rocket_yn.xml
-msgid "Rocket Ready"
-msgstr "Foguete Pronto"
-
-#: data/gui/launch_rocket_yn.xml
-msgid "Rocket ready to launch"
-msgstr "Foguete preparado para o lan?amento"
-
-#: data/gui/speedpanel.xml
-msgid "Run the simulation with fast speed"
-msgstr "Rodar a simula??o na velocidade r?pida"
-
-#: data/gui/speedpanel.xml
-msgid "Run the simulation with normal speed"
-msgstr "Rodar a simula??o na velocidade normal"
-
-#: data/gui/speedpanel.xml
-msgid "Run the simulation with very fast speed"
-msgstr "Rodar a simula??o na velocidade muito r?pida"
-
-#: data/gui/mainmenu.xml
-msgid "Save"
-msgstr "Salvar"
-
-#: data/gui/savegame.xml
-msgid "Save Game"
-msgstr "Salvar o Jogo"
-
-#: data/gui/schoolup.xml
-msgid "Schools available"
-msgstr "Escola dispon?vel"
-
-#: data/gui/coalmineup.xml
-msgid "See the help screen for more information on coal mines and coal surveys."
-msgstr "Veja a tela de ajuda para maiores informa??es sobre minas de carv?o e an?lise do carv?o."
-
-#: data/gui/firestationup.xml data/gui/hvindustryup.xml data/gui/windmillup.xml data/gui/ltindustryup.xml data/gui/universityup.xml data/gui/cricketup.xml data/gui/recycleup.xml data/gui/riverup.xml data/gui/parkup.xml data/gui/coalpowerup.xml data/gui/solarpowerup.xml data/gui/potteryup.xml data/gui/railwayup.xml data/gui/blacksmithup.xml data/gui/mod_wind_up.xml data/gui/rocketup.xml data/gui/schoolup.xml data/gui/millup.xml data/gui/healthup.xml
-msgid "See the help screen for more information."
-msgstr "Veja a tela de ajuda para maiores informa??es."
-
-#: data/gui/tradedialog.xml data/gui/portdialog.xml
-msgid "Sell"
-msgstr "Vender"
-
-#: data/gui/coal_survey_yn.xml
-msgid "Send out Prospectors"
-msgstr "Enviar Prospectos"
-
-#: data/gui/minimap.xml
-msgid "Show Income and Expenses. Click this tab again to cycle through views."
-msgstr "Exibir Rendimentos e Despesas. Clique nesta tab novamente para circular entre as visualiza??es."
-
-#: data/gui/minimapswitchbuttons.xml
-msgid "Show coal depots"
-msgstr "Exibir dep?sitos de carv?o"
-
-#: data/gui/minimap.xml
-msgid "Show economy graphs."
-msgstr "Exibir gr?ficos economicos."
-
-#: data/gui/minimapswitchbuttons.xml
-msgid "Show fire department cover"
-msgstr "Exibir ?rea de cobertura dos bombeiros"
-
-#: data/gui/minimapswitchbuttons.xml
-msgid "Show map outline"
-msgstr "Exibir mapa plano"
-
-#: data/gui/minimapswitchbuttons.xml
-msgid "Show medical care"
-msgstr "Exibir ?rea m?dica"
-
-#: data/gui/minimapswitchbuttons.xml
-msgid "Show nourishments"
-msgstr "Exibir alimentos"
-
-#: data/gui/minimapswitchbuttons.xml
-msgid "Show pollution density"
-msgstr "Exibir densidade populacional"
-
-#: data/gui/minimapswitchbuttons.xml
-msgid "Show power supply"
-msgstr "Exibir ?rea energizada"
-
-#: data/gui/minimap.xml
-msgid "Show resources."
-msgstr "Exibir recursos."
-
-#: data/gui/minimapswitchbuttons.xml
-msgid "Show sport cover"
-msgstr "Exibir ?rea de esportes"
-
-#: data/gui/minimap.xml
-msgid "Show the MiniMap"
-msgstr "Exibir o Mini Mapa"
-
-#: data/gui/minimapswitchbuttons.xml
-msgid "Show traffic density"
-msgstr "Exibir densidade do tr?fego"
-
-#: data/gui/minimapswitchbuttons.xml
-msgid "Show unemployment"
-msgstr "Exibir ?rea de desemprego"
-
-#: data/gui/solarpowerup.xml
-msgid "Solar Power Stations available"
-msgstr "Usina el?trica solar dispon?vel"
-
-#: data/gui/nobull-tip.xml
-msgid "Sorry you can't bulldoze a tip."
-msgstr "Desculpe mas voc? n?o pode destruir um aterro."
-
-#: data/gui/options.xml
-msgid "Sound Effects"
-msgstr "Efeitos Sonoros"
-
-#: data/gui/creditslist.xml
-msgid "Sound and Music"
-msgstr "Som e M?sica"
-
-#: data/gui/newgame.xml
-msgid "Start"
-msgstr "Iniciar"
-
-#: data/gui/newgame.xml data/gui/newgame.xml data/gui/newgame.xml
-msgid "Start with empty board."
-msgstr "Iniciar uma cidade vazia."
-
-#: data/gui/newgame.xml data/gui/newgame.xml data/gui/newgame.xml
-msgid "Start with random village."
-msgstr "Iniciar uma cidade aleat?ria."
-
-#: data/gui/minimap.xml
-msgid "Stats"
-msgstr "Estado"
-
-#: data/gui/pbar.xml data/gui/tradedialog.xml data/gui/portdialog.xml
-msgid "Steel"
-msgstr "A?o"
-
-#: data/gui/pbar.xml
-msgid "Tech Level"
-msgstr "N?vel Tecnol?gico"
-
-#: data/gui/allgone.xml
-msgid "There are no people left in this city."
-msgstr "N?o exitem pessoas nesta cidade."
-
-#: data/gui/coal_survey_yn.xml
-msgid "This will cost you 1 million once. After that it is free to call again."
-msgstr "Isto custar? 1 milh?o. Ap?s, estar? livre para chamar novamente."
-
-#: data/gui/launch-gone.xml
-msgid "Total Evacuation Complete."
-msgstr "Evacua??o Total Completada."
-
-#: data/gui/tradedialog.xml
-msgid "Trade Settings"
-msgstr "Op??es de Com?rcio"
-
-#: data/gui/creditslist.xml
-msgid "Translation"
-msgstr "Tradu??o"
-
-#: data/gui/universityup.xml
-msgid "University available"
-msgstr "Universidade dispon?vel"
-
-#: data/gui/bulldoze_monument_yn.xml data/gui/bulldoze_river_yn.xml data/gui/bulldoze_shanty_yn.xml
-msgid "Want to bulldoze?"
-msgstr "Deseja destruir?"
-
-#: data/gui/bulldoze_monument_yn.xml data/gui/bulldoze_river_yn.xml data/gui/bulldoze_shanty_yn.xml
-msgid "Warning"
-msgstr "Aten??o"
-
-#: data/gui/bulldoze_monument_yn.xml
-msgid "Warning: Bulldozing monuments is expensive"
-msgstr "Aten??o: Destruir monumentos ? muito caro"
-
-#: data/gui/bulldoze_shanty_yn.xml
-msgid "Warning: Bulldozing shanties is dangerous."
-msgstr "Aten??o: Destruir favelas ? perigoso."
-
-#: data/gui/bulldoze_river_yn.xml
-msgid "Warning: Bulldozing water is expensive"
-msgstr "Aten??o: Destruir ?gua ? muito caro"
-
-#: data/gui/launch-gone.xml
-msgid "Well done you have evacuated all your people."
-msgstr "Feito, voc? evacuou todas as pessoas."
-
-#: data/gui/windmillup.xml
-msgid "Windmills available"
-msgstr "Moinho de Vento dispon?vel"
-
-#: data/gui/coal_survey_yn.xml data/gui/bulldoze_monument_yn.xml data/gui/bulldoze_river_yn.xml data/gui/bulldoze_shanty_yn.xml data/gui/launch_rocket_yn.xml
-msgid "Yes"
-msgstr "Sim"
-
-#: data/gui/fire.xml
-msgid "You better go and look for it"
-msgstr "Voc? pode ir a procurar por isso"
-
-#: data/gui/launch_rocket_yn.xml
-msgid "You can launch the rocket now or wait until later. If you wait it will continue costing you money to keep the rocket ready. Launch it later by clicking on the rocket area."
-msgstr "Voc? pode lan?ar o foguete agora ou mais tarde. Lan?ar mais tarde continuar? custando para manter o foguete pronto para o lan?amento. Lance-o clicando na ?rea do foguete."
-
-#: data/gui/import-exportup.xml
-msgid "You can now import and export coal, goods, ore and steel. Read the help pages on these subjects to find out how to use them. "
-msgstr "Voc? pode agora importar e exportar carv?o, bens, min?rios e a?o. Leia as p?ginas de ajuda destes itens para saber como utiliz?-los."
-
-#: data/gui/no-credit-parkland.xml
-msgid "You have a budget deficit. The legislative council will not allow you to build parks on credit."
-msgstr "Voc? tem um d?ficit no or?amento. O conselho legislativo n?o deixar? que voc? construa parques ? cr?dito."
-
-#: data/gui/no-credit-recycle.xml
-msgid "You have a budget deficit. The legislative council will not allow you to build recycling centres on credit."
-msgstr "Voc? tem um d?ficit no or?amento. O conselho legislativo n?o deixar? que voc? construa centros de reciclagem ? cr?dito."
-
-#: data/gui/no-credit-rocket.xml
-msgid "You have a budget deficit. The legislative council will not allow you to build rocket launch pads on credit."
-msgstr "Voc? tem um d?ficit no or?amento. O conselho legislativo n?o deixar? que voc? construa ?reas de lan?amento ? cr?dito."
-
-#: data/gui/no-credit-solar-power.xml
-msgid "You have a budget deficit. The legislative council will not allow you to build solar power stations on credit."
-msgstr "Voc? tem um d?ficit no or?amento. O conselho legislativo n?o deixar? que voc? construa esta??es de energia solar ? cr?dito."
-
-#: data/gui/no-credit-university.xml
-msgid "You have a budget deficit. The legislative council will not allow you to build universities on credit."
-msgstr "Voc? tem um d?ficit no or?amento. O conselho legislativo n?o deixar? que voc? construa universidades ? cr?dito."
-
-#: data/gui/launch-evac.xml
-msgid "You have evacuated 1000 people. You might want to reduce the size of your economy to reflect the reduced population. "
-msgstr "Voc? evacuou 1000 pessoas. Voc? pode querer reduzir o tamanho da sua economia para refletir a popula??o reduzida."
-
-#: data/gui/blacksmithup.xml
-msgid "You have reached the tech level which enables you to build blacksmiths. Blacksmiths use jobs and steel to make goods."
-msgstr "Voc? alcan?ou o n?vel tecnologico que habilita a construir ferreiros. Ferreiros utiliza trabalho e a?o para produzir bens."
-
-#: data/gui/coalpowerup.xml
-msgid "You have reached the tech level which enables you to build coal fired power stations."
-msgstr "Voc? alcan?ou o n?vel tecnologico que habilita a construir usinas el?tricas de carv?o."
-
-#: data/gui/firestationup.xml
-msgid "You have reached the tech level which enables you to build fire stations. Fire stations prevent most fires from starting. If you haven't had any fires yet, you might not think you need them."
-msgstr "Voc? alcan?ou o n?vel tecnologico que habilita a construir corpos de bombeiro. Corpo de bombeiro previne a maioria dos inc?ndios antes de come?ar. Se voc? n?o teve um inc?ndio ainda, n?o deve pensar que n?o precisa deles."
-
-#: data/gui/healthup.xml
-msgid "You have reached the tech level which enables you to build health centres. Heath centres reduce the number of people killed by pollution and increase overall productivity."
-msgstr "Voc? alcan?ou o n?vel tecnologico que habilita a construir centros de sa?de. Centros de sa?de reduzem o n?mero de pessoas mortas pela polui??o e aumentam a produtividade."
-
-#: data/gui/hvindustryup.xml
-msgid "You have reached the tech level which enables you to build heavy industry (steel works). Heavy industry produces steel. "
-msgstr "Voc? alcan?ou o n?vel tecnologico que habilita a construir ind?strias grandes (oficina de a?o). Ind?strias grandes produzem a?o."
-
-#: data/gui/ltindustryup.xml
-msgid "You have reached the tech level which enables you to build light industry. Light industry produces goods. "
-msgstr "Voc? alcan?ou o n?vel tecnologico que habilita a construir ind?strias pequenas. Ind?strias pequenas produzem bens."
-
-#: data/gui/millup.xml
-msgid "You have reached the tech level which enables you to build mills. Mills use jobs and food to make goods. Watch out, they can use a lot of food! "
-msgstr "Voc? alcan?ou o n?vel tecnologico que habilita a construir moinhos. Moinhos utilizam trabalho e comida para produzir bens. Aten?ao, eles podem utilizar bastante alimentos!"
-
-#: data/gui/mod_wind_up.xml
-msgid "You have reached the tech level which enables you to build modern, more efficient, windmills. "
-msgstr "Voc? alcan?ou o n?vel tecnologico que habilita a construir modernos, mais eficientes, moinhos de vento."
-
-#: data/gui/parkup.xml
-msgid "You have reached the tech level which enables you to build parks. Parks are used to absorb pollution. "
-msgstr "Voc? alcan?ou o n?vel tecnologico que habilita a construir parques. Parques s?o utilizados para absorver a polui??o."
-
-#: data/gui/potteryup.xml
-msgid "You have reached the tech level which enables you to build potteries. Potteries use jobs and ore to make goods. (You need ore mines to get ore) "
-msgstr "Voc? alcan?ou o n?vel tecnologico que habilita a construir olarias. Olarias utilizam trabalho e min?rio para produzir bens. (Voc? necessita de minas para conseguir os min?rios)"
-
-#: data/gui/railwayup.xml
-msgid "You have reached the tech level which enables you to build railways. "
-msgstr "Voc? alcan?ou o n?vel tecnologico que habilita a construir estradas de ferro."
-
-#: data/gui/riverup.xml
-msgid "You have reached the tech level which enables you to build rivers. "
-msgstr "Voc? alcan?ou o n?vel tecnologico que habilita a construir rios."
-
-#: data/gui/roadup.xml
-msgid "You have reached the tech level which enables you to build roads. See the help screen for more information."
-msgstr "Voc? alcan?ou o n?vel tecnologico que habilita a construir estradas. Veja a tela de ajuda para maiores informa??es."
-
-#: data/gui/rocketup.xml
-msgid "You have reached the tech level which enables you to build rocket launch pads. Rockets enable you to evacuate your population and is a way to 'win' the game."
-msgstr "Voc? alcan?ou o n?vel tecnologico que habilita a construir ?reas de lan?amentos de foguetes. Foguetes habilitam voc? a evacuar sua popula??o e ? um meio de 'ganhar' o jogo."
-
-#: data/gui/schoolup.xml
-msgid "You have reached the tech level which enables you to build schools. Schools use jobs and goods to increase tech level. "
-msgstr "Voc? alcan?ou o n?vel tecnologico que habilita a construir escolas. Escolas utilizam trabalho e bens para aumentar o n?vel tecnologico."
-
-#: data/gui/solarpowerup.xml
-msgid "You have reached the tech level which enables you to build solar power stations. "
-msgstr "Voc? alcan?ou o n?vel tecnologico que habilita a construir usinas de energia solar."
-
-#: data/gui/universityup.xml
-msgid "You have reached the tech level which enables you to build universities. Universities produces PhDs, which produce more technology. "
-msgstr "Voc? alcan?ou o n?vel tecnologico que habilita a construir universidades. Universidades produzem PhDs, que produzem mais tecnologia."
-
-#: data/gui/windmillup.xml
-msgid "You have reached the tech level which enables you to build windmills. "
-msgstr "Voc? alcan?ou o n?vel tecnologico que habilita a construir moinhos de vento."
-
-#: data/gui/coalmineup.xml
-msgid "You have reached the tech level which enables you to dig deep coal mines."
-msgstr "Voc? alcan?ou o n?vel tecnologico que habilita a cavar profundamente as minas de carv?o."
-
-#: data/gui/recycleup.xml
-msgid "You have reached the tech level which enables you to recycling centres. Recycling centres recycle used goods back into ore. "
-msgstr "Voc? alcan?ou o n?vel tecnologico que habilita a reciclar os centros. Reciclagem dos centros recicla bens utilizados em min?rios."
-
-#: data/gui/launch-gone.xml data/gui/sustain.xml
-msgid "You have won the game."
-msgstr "Voc? ganhou o jogo."
-
-#: data/gui/allgone.xml
-msgid "You should start a new career elsewhere."
-msgstr "Voc? pode come?ar uma nova profiss?o em outro lugar."
-
-#: data/gui/cricketup.xml
-msgid "Your people have invented basketball. Basketball Courts use a few jobs and goods and make people in the surrounding areas (about 10 units in each direction) happier."
-msgstr "Seus habitantes inventaram o basquete. As quadras de basquete utilizam um pouco de trabalho e bens e fazem as pessoas ao redor (mais ou menos 10 pessoas em cada dire??o) mais felizes."
-
-#: data/gui/launch-fail.xml
-msgid "Your rocket crashed shortly after launch. People no longer trust the technology for evacuation. You must launch five more unmanned rockets to restore confidence."
-msgstr "Seu foguete explodiu logo ap?s o lan?amento. As pessoas n?o confiam mais nesta tecnologia para evacua??o. Voc? dever? lan?ar mais 5 foguetes n?o tripulados para que eles recuperem a confian?a."
-
-#: data/gui/minimap.xml
-msgid "[+] Zoom in view so that less buildings but more details are visible"
-msgstr "[+] Aumentar"
-
-#: data/gui/minimap.xml
-msgid "[-] Zoom out"
-msgstr "[-] Reduzir"
-
-#: data/gui/minimap.xml
-msgid "[F1] Press this button to get help"
-msgstr "[F1] Aperte este bot?o para ter ajuda"
-
-#: data/gui/minimap.xml
-msgid "[h] Hide high buildings. "
-msgstr "[h] Esconder edif?cios grandes. "
-
-#: data/gui/minimap.xml
-msgid "[v] Cycle through MiniMap overlay modes. "
-msgstr "[v] Circular entre os Mini Mapas. "
-
-#: data/gui/savegame.xml data/gui/savegame.xml data/gui/savegame.xml
-msgid "save to selected slot"
-msgstr "salva no slot selecionado"
-

Copied: trunk/data/locale/gui/pt_BR.po (from rev 1185, trunk/data/locale/gui/pt.po)

Deleted: trunk/data/locale/pt.po
===================================================================
--- trunk/data/locale/pt.po	2007-04-18 17:05:22 UTC (rev 1186)
+++ trunk/data/locale/pt.po	2007-04-18 21:56:07 UTC (rev 1187)
@@ -1,1322 +0,0 @@
-# Portuguese/Brazil translation of lincity-ng.
-# Copyright (C) 2007 THE lincity-ng'S COPYRIGHT HOLDER
-# This file is distributed under the same license as the lincity-ng package.
-# Jose Carlos Medeiros <jose at psabs.com.br>, 2007.
-#
-#
-msgid ""
-msgstr ""
-"Project-Id-Version: lincity-ng 1.1.0rc2\n"
-"Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2007-01-27 22:03+0100\n"
-"PO-Revision-Date: 2007-01-29 14:56-0300\n"
-"Last-Translator: Jose Carlos Medeiros <jose at psabs.com.br>\n"
-"Language-Team: Portuguese/Brazil <gnome-l10n-br at listas.cipsga.org.br>\n"
-"MIME-Version: 1.0\n"
-"Content-Type: text/plain; charset=UTF-8\n"
-"Content-Transfer-Encoding: 8bit\n"
-"X-Poedit-Language: Portuguese\n"
-"X-Poedit-Country: BRAZIL\n"
-
-#: src/lincity/fileutil.cpp:292
-#: src/lincity/fileutil.cpp:341
-msgid "Error. Can't find LINCITY_HOME"
-msgstr "Erro. LINCITY_HOME n?o encontrado"
-
-#: src/lincity/fileutil.cpp:561
-msgid "Error verifying package. Can't find colour.pal."
-msgstr "Erro verificando o pacote. N?o encontro a paleta de cores."
-
-#: src/lincity/fileutil.cpp:580
-#: src/lincity/fileutil.cpp:589
-#, c-format
-msgid "Couldn't create the save directory '%s'\n"
-msgstr "N?o pude criar a pasta '%s'\n"
-
-#: src/lincity/fileutil.cpp:635
-#, c-format
-msgid "Out of memory: malloc failure\n"
-msgstr "Sem mem?ria. malloc falhou\n"
-
-#: src/lincity/engine.cpp:157
-msgid "You can't build a tip here"
-msgstr "Voc? n?o pode construir um aterro aqui"
-
-#: src/lincity/engine.cpp:158
-#: src/lincity/engine.cpp:189
-msgid "This area was once a landfill"
-msgstr "Este lugar tinha apenas um monte de lixo"
-
-#: src/lincity/engine.cpp:159
-#: src/lincity/engine.cpp:190
-#: src/lincity/engine.cpp:197
-msgid "OK"
-msgstr "OK"
-
-#: src/lincity/engine.cpp:188
-#: src/lincity/engine.cpp:195
-msgid "You can't build a mine here"
-msgstr "Voc? n?o pode construir uma mina aqui"
-
-#: src/lincity/engine.cpp:196
-msgid "There is no ore left at this site"
-msgstr "N?o existe mais min?rio neste terreno"
-
-#: src/lincity/engine.cpp:691
-msgid "It's at a power line."
-msgstr "Isto ? uma linha de transmiss?o de for?a."
-
-#: src/lincity/engine.cpp:693
-msgid "It's at a solar power station."
-msgstr "Esta ? uma usina de energia solar."
-
-#: src/lincity/engine.cpp:695
-msgid "It's at a substation."
-msgstr "Isto ? uma sub-esta??o."
-
-#: src/lincity/engine.cpp:697
-msgid "It's at a residential area."
-msgstr "Isto ? uma ?rea residencial."
-
-#: src/lincity/engine.cpp:699
-msgid "It's at a farm."
-msgstr "Isto ? uma fazenda."
-
-#: src/lincity/engine.cpp:701
-msgid "It's at a market."
-msgstr "Isto ? um mercado."
-
-#: src/lincity/engine.cpp:703
-msgid "It's at a track."
-msgstr "Isto ? uma pista."
-
-#: src/lincity/engine.cpp:705
-msgid "It's at a coal mine."
-msgstr "Isto ? uma mina de carv?o."
-
-#: src/lincity/engine.cpp:707
-msgid "It's at a railway."
-msgstr "Isto ? uma via f?rrea."
-
-#: src/lincity/engine.cpp:709
-msgid "It's at a coal power station."
-msgstr "Isto ? uma usina de carv?o."
-
-#: src/lincity/engine.cpp:711
-msgid "It's at a road."
-msgstr "Isto ? uma estrada."
-
-#: src/lincity/engine.cpp:713
-msgid "It's at light industry."
-msgstr "Isto ? uma ind?stria pequena."
-
-#: src/lincity/engine.cpp:715
-msgid "It's at a university."
-msgstr "Isto ? uma universidade."
-
-#: src/lincity/engine.cpp:717
-msgid "It's at a commune."
-msgstr "Isto ? uma comuna."
-
-#: src/lincity/engine.cpp:719
-msgid "It's at a tip."
-msgstr "Isto ? um aterro."
-
-#: src/lincity/engine.cpp:721
-msgid "It's at a port."
-msgstr "Isto ? um porto."
-
-#: src/lincity/engine.cpp:723
-msgid "It's at a steel works."
-msgstr "Isto ? uma oficina de a?o."
-
-#: src/lincity/engine.cpp:725
-msgid "It's at a recycle centre."
-msgstr "Isto ? um centro de reciclagem."
-
-#: src/lincity/engine.cpp:727
-msgid "It's at a health centre."
-msgstr "Isto ? um centro de sa?de."
-
-#: src/lincity/engine.cpp:729
-msgid "It's at a rocket site."
-msgstr "Isto ? uma ?rea de lan?amento."
-
-#: src/lincity/engine.cpp:731
-msgid "It's at a windmill."
-msgstr "Isto ? um moinho de vento."
-
-#: src/lincity/engine.cpp:733
-msgid "It's at a school."
-msgstr "Isto ? uma escola."
-
-#: src/lincity/engine.cpp:735
-msgid "It's at a blacksmith."
-msgstr "Isto ? um ferreiro."
-
-#: src/lincity/engine.cpp:737
-msgid "It's at a mill."
-msgstr "Isto ? um moinho."
-
-#: src/lincity/engine.cpp:739
-msgid "It's at a pottery."
-msgstr "Isto ? uma olaria."
-
-#: src/lincity/engine.cpp:741
-msgid "It's at a fire station!!!."
-msgstr "Isto ? um corpo de bombeiros!!!"
-
-#: src/lincity/engine.cpp:743
-msgid "It's at a sports field!!!."
-msgstr "Isto ? uma linha de transmiss?o de for?a!!!"
-
-#: src/lincity/engine.cpp:745
-msgid "It's at a shanty town."
-msgstr "Isto ? uma favela."
-
-#: src/lincity/engine.cpp:747
-msgid "UNKNOWN!"
-msgstr "DESCONHECIDO!"
-
-#: src/lincity/ldsvguts.cpp:128
-#, c-format
-msgid "Save file <%s> - "
-msgstr "Salvar arquivo <%s> - "
-
-#: src/lincity/ldsvguts.cpp:129
-msgid "Can't open save file!"
-msgstr "N?o posso abrir o arquivo!"
-
-#: src/lincity/ldsvguts.cpp:134
-msgid "Saving scene"
-msgstr "Salvando cena"
-
-#: src/lincity/ldsvguts.cpp:334
-#, c-format
-msgid "Can't open <%s> (gzipped)"
-msgstr "N?o posso abrir <%s> (compactado)"
-
-#: src/lincity/ldsvguts.cpp:352
-msgid "Loading scene"
-msgstr "Abrindo a cena"
-
-#: src/lincity/lintypes.cpp:22
-msgid "Empty"
-msgstr "Vazio"
-
-#: src/lincity/lintypes.cpp:34
-msgid "Power line"
-msgstr "Linha de transmiss?o de for?a"
-
-#: src/lincity/lintypes.cpp:46
-msgid "Solar PS"
-msgstr "Solar PS"
-
-#: src/lincity/lintypes.cpp:58
-#: src/lincity/modules/substation.cpp:91
-msgid "Substation"
-msgstr "Sub-esta??o"
-
-#: src/lincity/lintypes.cpp:70
-msgid "Residential LL"
-msgstr "Residencial LL"
-
-#: src/lincity/lintypes.cpp:82
-msgid "Farm"
-msgstr "Fazenda"
-
-#: src/lincity/lintypes.cpp:94
-#: src/lincity/modules/market.cpp:1143
-#: src/lincity-ng/Dialog.cpp:486
-msgid "Market"
-msgstr "Mercado"
-
-#: src/lincity/lintypes.cpp:106
-#: src/lincity/modules/track.cpp:38
-msgid "Track"
-msgstr "Pista"
-
-#: src/lincity/lintypes.cpp:118
-msgid "Coalmine"
-msgstr "Mina de carv?o"
-
-#: src/lincity/lintypes.cpp:130
-msgid "Railway"
-msgstr "Via F?rrea"
-
-#: src/lincity/lintypes.cpp:142
-msgid "Coal PS"
-msgstr "Carv?o PS"
-
-#: src/lincity/lintypes.cpp:154
-#: src/lincity/modules/road.cpp:47
-msgid "Road"
-msgstr "Estrada"
-
-#: src/lincity/lintypes.cpp:166
-msgid "Lt. Industry"
-msgstr "Ind?stria peq."
-
-#: src/lincity/lintypes.cpp:178
-#: src/lincity/modules/university.cpp:67
-msgid "University"
-msgstr "Universidade"
-
-#: src/lincity/lintypes.cpp:190
-#: src/lincity/modules/commune.cpp:146
-msgid "Commune"
-msgstr "Comuna"
-
-#: src/lincity/lintypes.cpp:202
-msgid "Ore mine"
-msgstr "Mina de min?rio"
-
-#: src/lincity/lintypes.cpp:214
-msgid "Rubbish tip"
-msgstr "Aterro"
-
-#: src/lincity/lintypes.cpp:226
-#: src/lincity/modules/port.cpp:173
-#: src/lincity-ng/Dialog.cpp:540
-msgid "Port"
-msgstr "Porto"
-
-#: src/lincity/lintypes.cpp:238
-msgid "Hv. Industry"
-msgstr "Ind?stria grd"
-
-#: src/lincity/lintypes.cpp:250
-msgid "Park"
-msgstr "Parque"
-
-#: src/lincity/lintypes.cpp:262
-#: src/lincity-ng/MpsInterface.cpp:516
-msgid "Recycle"
-msgstr "Reciclagem"
-
-#: src/lincity/lintypes.cpp:274
-#: src/lincity/modules/water.cpp:19
-msgid "Water"
-msgstr "?gua"
-
-#: src/lincity/lintypes.cpp:286
-msgid "Health centre"
-msgstr "Centro de sa?de"
-
-#: src/lincity/lintypes.cpp:298
-msgid "Rocket pad"
-msgstr "?rea de lan?amento"
-
-#: src/lincity/lintypes.cpp:310
-#: src/lincity/modules/windmill.cpp:73
-#: src/lincity-ng/MpsInterface.cpp:506
-msgid "Windmill"
-msgstr "Moinho de vento"
-
-#: src/lincity/lintypes.cpp:322
-#: src/lincity/modules/monument.cpp:57
-msgid "Monument"
-msgstr "Monumento"
-
-#: src/lincity/lintypes.cpp:334
-#: src/lincity/modules/school.cpp:49
-msgid "School"
-msgstr "Escola"
-
-#: src/lincity/lintypes.cpp:346
-#: src/lincity/modules/blacksmith.cpp:97
-msgid "Blacksmith"
-msgstr "Ferreiro"
-
-#: src/lincity/lintypes.cpp:358
-msgid "Mill"
-msgstr "Moinho"
-
-#: src/lincity/lintypes.cpp:370
-#: src/lincity/modules/pottery.cpp:119
-msgid "Pottery"
-msgstr "Cer?mica"
-
-#: src/lincity/lintypes.cpp:382
-msgid "Fire sta'n"
-msgstr "Bombeiro"
-
-#: src/lincity/lintypes.cpp:394
-#: src/lincity/modules/cricket.cpp:99
-msgid "Sports field"
-msgstr "?rea de esportes"
-
-#: src/lincity/lintypes.cpp:407
-msgid "Burnt"
-msgstr "Queimat?rio"
-
-#: src/lincity/lintypes.cpp:420
-msgid "Shanty town"
-msgstr "Favela"
-
-#: src/lincity/lintypes.cpp:433
-#: src/lincity/modules/residence.cpp:292
-#: src/lincity-ng/MpsInterface.cpp:380
-#: src/lincity-ng/EconomyGraph.cpp:131
-msgid "Fire"
-msgstr "Fogo"
-
-#: src/lincity/lintypes.cpp:446
-msgid "Used"
-msgstr "Usado"
-
-#: src/lincity/lintypes.cpp:458
-msgid "Residential ML"
-msgstr "Residencial ML"
-
-#: src/lincity/lintypes.cpp:470
-msgid "Residential HL"
-msgstr "Residencial HL"
-
-#: src/lincity/lintypes.cpp:482
-msgid "Residential LH"
-msgstr "Residencial LH"
-
-#: src/lincity/lintypes.cpp:494
-msgid "Residential MH"
-msgstr "Residencial MH"
-
-#: src/lincity/lintypes.cpp:506
-msgid "Residential HH"
-msgstr "Residencial HH"
-
-#: src/lincity/lclib.cpp:17
-msgid "Jan"
-msgstr "Jan"
-
-#: src/lincity/lclib.cpp:17
-msgid "Feb"
-msgstr "Fev"
-
-#: src/lincity/lclib.cpp:17
-msgid "Mar"
-msgstr "Mar"
-
-#: src/lincity/lclib.cpp:17
-msgid "Apr"
-msgstr "Abr"
-
-#: src/lincity/lclib.cpp:18
-msgid "May"
-msgstr "Mai"
-
-#: src/lincity/lclib.cpp:18
-msgid "Jun"
-msgstr "Jun"
-
-#: src/lincity/lclib.cpp:18
-msgid "Jul"
-msgstr "Jul"
-
-#: src/lincity/lclib.cpp:18
-msgid "Aug"
-msgstr "Ago"
-
-#: src/lincity/lclib.cpp:19
-msgid "Sep"
-msgstr "Set"
-
-#: src/lincity/lclib.cpp:19
-msgid "Oct"
-msgstr "Out"
-
-#: src/lincity/lclib.cpp:19
-msgid "Nov"
-msgstr "Nov"
-
-#: src/lincity/lclib.cpp:19
-msgid "Dec"
-msgstr "Dez"
-
-#: src/lincity/modules/health_centre.cpp:66
-msgid "Health Centre"
-msgstr "Centro de Sa?de"
-
-#: src/lincity/modules/health_centre.cpp:68
-#: src/lincity/modules/rocket_pad.cpp:169
-#: src/lincity/modules/recycle.cpp:181
-#: src/lincity/modules/mill.cpp:107
-#: src/lincity/modules/university.cpp:74
-#: src/lincity/modules/cricket.cpp:101
-#: src/lincity/modules/pottery.cpp:123
-#: src/lincity/modules/blacksmith.cpp:102
-#: src/lincity/modules/firestation.cpp:121
-#: src/lincity/modules/school.cpp:54
-msgid "Inventory"
-msgstr "Invent?rio"
-
-#: src/lincity/modules/health_centre.cpp:69
-#: src/lincity/modules/rocket_pad.cpp:170
-#: src/lincity/modules/market.cpp:1149
-#: src/lincity/modules/road.cpp:52
-#: src/lincity/modules/rail.cpp:55
-#: src/lincity/modules/coal_power.cpp:105
-#: src/lincity/modules/university.cpp:75
-#: src/lincity/modules/cricket.cpp:102
-#: src/lincity/modules/track.cpp:43
-#: src/lincity/modules/pottery.cpp:124
-#: src/lincity/modules/firestation.cpp:122
-#: src/lincity/modules/school.cpp:55
-msgid "Jobs"
-msgstr "Trabalhos"
-
-#: src/lincity/modules/health_centre.cpp:71
-#: src/lincity/modules/rocket_pad.cpp:172
-#: src/lincity/modules/market.cpp:1153
-#: src/lincity/modules/port.cpp:190
-#: src/lincity/modules/road.cpp:56
-#: src/lincity/modules/rail.cpp:59
-#: src/lincity/modules/mill.cpp:108
-#: src/lincity/modules/university.cpp:77
-#: src/lincity/modules/cricket.cpp:104
-#: src/lincity/modules/track.cpp:47
-#: src/lincity/modules/pottery.cpp:126
-#: src/lincity/modules/blacksmith.cpp:103
-#: src/lincity/modules/firestation.cpp:124
-#: src/lincity/modules/school.cpp:57
-#: src/lincity-ng/MpsInterface.cpp:448
-msgid "Goods"
-msgstr "Bens"
-
-#: src/lincity/modules/rocket_pad.cpp:163
-msgid "Rocket Pad"
-msgstr "?rea do lan?amento"
-
-#: src/lincity/modules/rocket_pad.cpp:166
-msgid "Completion"
-msgstr "Completo"
-
-#: src/lincity/modules/rocket_pad.cpp:174
-#: src/lincity/modules/market.cpp:1157
-#: src/lincity/modules/port.cpp:194
-#: src/lincity/modules/road.cpp:60
-#: src/lincity/modules/rail.cpp:63
-#: src/lincity/modules/light_industry.cpp:368
-#: src/lincity/modules/commune.cpp:156
-#: src/lincity/modules/track.cpp:51
-msgid "Steel"
-msgstr "A?o"
-
-#: src/lincity/modules/windmill.cpp:77
-#: src/lincity/modules/windmill.cpp:88
-#: src/lincity/modules/recycle.cpp:178
-#: src/lincity/modules/coal_power.cpp:107
-#: src/lincity/modules/organic_farm.cpp:196
-#: src/lincity/modules/solar_power.cpp:58
-msgid "Tech"
-msgstr "Tecn"
-
-#: src/lincity/modules/windmill.cpp:80
-msgid "Local Status"
-msgstr "Status Local"
-
-#: src/lincity/modules/windmill.cpp:83
-msgid "Prod."
-msgstr "Prod."
-
-#: src/lincity/modules/windmill.cpp:86
-#: src/lincity/modules/windmill.cpp:101
-#: src/lincity/modules/substation.cpp:108
-msgid "Demand"
-msgstr "Demanda"
-
-#: src/lincity/modules/windmill.cpp:92
-#: src/lincity/modules/substation.cpp:99
-msgid "Grid Status"
-msgstr "Status da Grade"
-
-#: src/lincity/modules/windmill.cpp:95
-#: src/lincity/modules/substation.cpp:102
-msgid "T. Cap."
-msgstr "T. Cap."
-
-#: src/lincity/modules/windmill.cpp:98
-#: src/lincity/modules/substation.cpp:105
-msgid "A. Cap."
-msgstr "A. Cap."
-
-#: src/lincity/modules/windmill.cpp:104
-#: src/lincity/modules/coal_power.cpp:109
-#: src/lincity/modules/substation.cpp:111
-#: src/lincity/modules/power_line.cpp:53
-#: src/lincity/modules/solar_power.cpp:60
-msgid "Grid ID"
-msgstr "Grade ID"
-
-#: src/lincity/modules/water.cpp:22
-#: src/lincity/modules/commune.cpp:151
-#: src/lincity/modules/commune.cpp:153
-#: src/lincity/modules/commune.cpp:155
-#: src/lincity/modules/commune.cpp:157
-#: src/lincity-ng/MpsInterface.cpp:379
-#: src/lincity-ng/MpsInterface.cpp:382
-#: src/lincity-ng/MpsInterface.cpp:385
-msgid "Yes"
-msgstr "Sim"
-
-#: src/lincity/modules/water.cpp:22
-#: src/lincity/modules/commune.cpp:151
-#: src/lincity/modules/commune.cpp:153
-#: src/lincity/modules/commune.cpp:155
-#: src/lincity/modules/commune.cpp:157
-#: src/lincity-ng/MpsInterface.cpp:379
-#: src/lincity-ng/MpsInterface.cpp:382
-#: src/lincity-ng/MpsInterface.cpp:385
-msgid "No"
-msgstr "N?o"
-
-#: src/lincity/modules/water.cpp:23
-msgid "Navigable"
-msgstr "Naveg?vel"
-
-#: src/lincity/modules/recycle.cpp:169
-msgid "Recycling"
-msgstr "Reciclagem"
-
-#: src/lincity/modules/recycle.cpp:170
-msgid "Center"
-msgstr "Centrar"
-
-#: src/lincity/modules/recycle.cpp:173
-#: src/lincity/modules/heavy_industry.cpp:346
-#: src/lincity/modules/mill.cpp:105
-#: src/lincity/modules/light_industry.cpp:370
-#: src/lincity/modules/university.cpp:79
-#: src/lincity/modules/pottery.cpp:121
-#: src/lincity/modules/blacksmith.cpp:100
-#: src/lincity/modules/school.cpp:60
-msgid "Capacity"
-msgstr "Capacidade"
-
-#: src/lincity/modules/recycle.cpp:175
-#: src/lincity/modules/residence.cpp:279
-#: src/lincity/modules/residence.cpp:282
-#: src/lincity/modules/residence.cpp:285
-#: src/lincity/modules/residence.cpp:288
-#: src/lincity/modules/residence.cpp:291
-#: src/lincity/modules/residence.cpp:294
-#: src/lincity/modules/light_industry.cpp:359
-#: src/lincity/modules/organic_farm.cpp:188
-msgid "YES"
-msgstr "SIM"
-
-#: src/lincity/modules/recycle.cpp:175
-#: src/lincity/modules/residence.cpp:279
-#: src/lincity/modules/residence.cpp:282
-#: src/lincity/modules/residence.cpp:285
-#: src/lincity/modules/residence.cpp:288
-#: src/lincity/modules/residence.cpp:291
-#: src/lincity/modules/residence.cpp:294
-#: src/lincity/modules/heavy_industry.cpp:334
-#: src/lincity/modules/light_industry.cpp:359
-msgid "NO"
-msgstr "N?O"
-
-#: src/lincity/modules/recycle.cpp:176
-#: src/lincity/modules/residence.cpp:280
-#: src/lincity/modules/heavy_industry.cpp:337
-#: src/lincity/modules/light_industry.cpp:360
-#: src/lincity/modules/organic_farm.cpp:193
-msgid "Power"
-msgstr "Energia"
-
-#: src/lincity/modules/recycle.cpp:182
-#: src/lincity/modules/heavy_industry.cpp:342
-#: src/lincity/modules/market.cpp:1155
-#: src/lincity/modules/port.cpp:186
-#: src/lincity/modules/road.cpp:58
-#: src/lincity/modules/rail.cpp:61
-#: src/lincity/modules/light_industry.cpp:366
-#: src/lincity/modules/commune.cpp:154
-#: src/lincity/modules/track.cpp:49
-#: src/lincity/modules/pottery.cpp:128
-msgid "Ore"
-msgstr "Min?rio"
-
-#: src/lincity/modules/recycle.cpp:184
-#: src/lincity/modules/market.cpp:1159
-#: src/lincity/modules/road.cpp:62
-#: src/lincity/modules/rail.cpp:65
-#: src/lincity/modules/commune.cpp:158
-#: src/lincity/modules/track.cpp:53
-msgid "Waste"
-msgstr "Desperd?cio"
-
-#: src/lincity/modules/coalmine.cpp:168
-msgid "Coal Mine"
-msgstr "Mina de Carv?o"
-
-#: src/lincity/modules/coalmine.cpp:171
-#: src/lincity/modules/oremine.cpp:187
-msgid "Stock"
-msgstr "Estoque"
-
-#: src/lincity/modules/coalmine.cpp:175
-#: src/lincity/modules/coalmine.cpp:177
-#: src/lincity/modules/oremine.cpp:191
-msgid "Reserve"
-msgstr "Reserva"
-
-#: src/lincity/modules/coalmine.cpp:177
-msgid "EMPTY"
-msgstr "VAZIO"
-
-#: src/lincity/modules/residence.cpp:273
-msgid "Residence"
-msgstr "Resid?ncia"
-
-#: src/lincity/modules/residence.cpp:277
-msgid "People"
-msgstr "Pessoas"
-
-#: src/lincity/modules/residence.cpp:283
-msgid "Fed"
-msgstr "Abastecer"
-
-#: src/lincity/modules/residence.cpp:286
-msgid "Employed"
-msgstr "Empregados"
-
-#: src/lincity/modules/residence.cpp:289
-msgid "Health Cvr"
-msgstr "Sa?de Cvr"
-
-#: src/lincity/modules/residence.cpp:295
-#: src/lincity-ng/MpsInterface.cpp:386
-#: src/lincity-ng/MpsInterface.cpp:514
-msgid "Sport"
-msgstr "Esporte"
-
-#: src/lincity/modules/residence.cpp:297
-#: src/lincity-ng/MpsInterface.cpp:388
-msgid "Pollution"
-msgstr "Polui??o"
-
-#: src/lincity/modules/residence.cpp:299
-#: src/lincity-ng/MpsInterface.cpp:393
-msgid "good"
-msgstr "bom"
-
-#: src/lincity/modules/residence.cpp:299
-msgid "poor"
-msgstr "pobres"
-
-#: src/lincity/modules/residence.cpp:300
-msgid "Job"
-msgstr "Trabalho"
-
-#: src/lincity/modules/monument.cpp:63
-msgid "Wisdom Bestowed"
-msgstr "Reconhecimento adquirido"
-
-#: src/lincity/modules/monument.cpp:67
-#, c-format
-msgid "% Complete"
-msgstr "% Completo"
-
-#: src/lincity/modules/heavy_industry.cpp:323
-msgid "Heavy"
-msgstr "Grande"
-
-#: src/lincity/modules/heavy_industry.cpp:324
-#: src/lincity/modules/light_industry.cpp:355
-msgid "Industry"
-msgstr "Ind?stria"
-
-#: src/lincity/modules/heavy_industry.cpp:329
-#: src/lincity/modules/heavy_industry.cpp:344
-#: src/lincity/modules/market.cpp:1151
-#: src/lincity/modules/port.cpp:182
-#: src/lincity/modules/road.cpp:54
-#: src/lincity/modules/rail.cpp:57
-#: src/lincity/modules/coal_power.cpp:89
-#: src/lincity/modules/coal_power.cpp:103
-#: src/lincity/modules/mill.cpp:112
-#: src/lincity/modules/commune.cpp:152
-#: src/lincity/modules/track.cpp:45
-#: src/lincity/modules/pottery.cpp:130
-#: src/lincity/modules/blacksmith.cpp:105
-#: src/lincity-ng/MpsInterface.cpp:444
-msgid "Coal"
-msgstr "Carv?o"
-
-#: src/lincity/modules/heavy_industry.cpp:331
-msgid "Grid"
-msgstr "Grade"
-
-#: src/lincity/modules/heavy_industry.cpp:339
-#: src/lincity/modules/light_industry.cpp:362
-msgid "Output"
-msgstr "Sa?da"
-
-#: src/lincity/modules/heavy_industry.cpp:340
-#: src/lincity/modules/light_industry.cpp:364
-msgid "Store"
-msgstr "Dep?sito"
-
-#: src/lincity/modules/market.cpp:1147
-#: src/lincity/modules/port.cpp:178
-#: src/lincity/modules/road.cpp:50
-#: src/lincity/modules/rail.cpp:53
-#: src/lincity/modules/mill.cpp:110
-#: src/lincity/modules/track.cpp:41
-msgid "Food"
-msgstr "Comida"
-
-#: src/lincity/modules/port.cpp:198
-#: src/lincity-ng/MpsInterface.cpp:532
-msgid "Total"
-msgstr "Total"
-
-#: src/lincity/modules/rail.cpp:50
-msgid "Rail"
-msgstr "Trilho"
-
-#: src/lincity/modules/coal_power.cpp:90
-#: src/lincity/modules/solar_power.cpp:45
-msgid "Power Station"
-msgstr "Esta??o de Energia"
-
-#: src/lincity/modules/coal_power.cpp:94
-#: src/lincity/modules/solar_power.cpp:49
-msgid "Max Output"
-msgstr "Capacidade M?xima"
-
-#: src/lincity/modules/coal_power.cpp:99
-#: src/lincity/modules/solar_power.cpp:54
-msgid "Current Output"
-msgstr "Capacidade Atual"
-
-#: src/lincity/modules/substation.cpp:95
-msgid "Local Demand"
-msgstr "Demanda Local"
-
-#: src/lincity/modules/mill.cpp:103
-msgid "Textile Mill"
-msgstr "F?brica de Tecido"
-
-#: src/lincity/modules/oremine.cpp:184
-msgid "Ore Mine"
-msgstr "Mina de Min?rio"
-
-#: src/lincity/modules/power_line.cpp:50
-msgid "Power Line"
-msgstr "Linha de Transmiss?o"
-
-#: src/lincity/modules/light_industry.cpp:354
-msgid "Light"
-msgstr "Pequena"
-
-#: src/lincity/modules/university.cpp:69
-msgid "Tech Produced"
-msgstr "Tecnologia Produzida"
-
-#: src/lincity/modules/tip.cpp:109
-msgid "Landfill"
-msgstr "Dep?sito de Lixo"
-
-#: src/lincity/modules/tip.cpp:112
-msgid "Last Month"
-msgstr "?ltimo M?s"
-
-#: src/lincity/modules/tip.cpp:113
-msgid "Tons"
-msgstr "Tons"
-
-#: src/lincity/modules/tip.cpp:114
-msgid "Percent"
-msgstr "Porcento"
-
-#: src/lincity/modules/tip.cpp:117
-#, c-format
-msgid "% Filled"
-msgstr "% FCompleto"
-
-#: src/lincity/modules/commune.cpp:149
-msgid "Activity"
-msgstr "Atividade"
-
-#: src/lincity/modules/firestation.cpp:119
-msgid "Fire Station"
-msgstr "Corpo de Bombeiros"
-
-#: src/lincity/modules/organic_farm.cpp:183
-msgid "Organic Farm"
-msgstr "Fazenda Org?nica"
-
-#: src/lincity/modules/organic_farm.cpp:190
-msgid "NO "
-msgstr "N?O "
-
-#: src/lincity/modules/organic_farm.cpp:200
-msgid "Prod"
-msgstr "Prod"
-
-#: src/lincity/modules/school.cpp:51
-msgid "Lessons Learned"
-msgstr "Li??es Aprendidas"
-
-#: src/lincity/modules/solar_power.cpp:44
-msgid "Solar"
-msgstr "Solar"
-
-#: src/lincity-ng/Dialog.cpp:173
-msgid "Launchsite"
-msgstr "Terreno Inicial"
-
-#: src/lincity-ng/Dialog.cpp:341
-#: src/lincity-ng/Dialog.cpp:342
-msgid "----- IN TEST MODE -------"
-msgstr "----- NO MODO TESTE -------"
-
-#: src/lincity-ng/Dialog.cpp:344
-#, c-format
-msgid "Game statistics from LinCity-NG Version %s"
-msgstr "Estat?sticas de jogo do LinCity-NG Vers?o %s"
-
-#: src/lincity-ng/Dialog.cpp:348
-#, c-format
-msgid "Initial loaded scene - %s"
-msgstr "Cena inicial aberta - %s"
-
-#: src/lincity-ng/Dialog.cpp:353
-#, c-format
-msgid "Economy is sustainable"
-msgstr "A economia ? sustent?vel"
-
-#: src/lincity-ng/Dialog.cpp:357
-#, c-format
-msgid "Population  %d  of which  %d  are not housed."
-msgstr "A popula??o ? de  %d  dos quais  %d  s?o sem teto."
-
-#: src/lincity-ng/Dialog.cpp:362
-#, c-format
-msgid "Max population %d  Number evacuated %d Total births %d"
-msgstr "Popula??o m?xima %d  N?mero de evacuados %d Total de nascimentos %d"
-
-#: src/lincity-ng/Dialog.cpp:367
-#, c-format
-msgid "Date %s %04d  Money %8d   Tech-level %5.1f (%5.1f)"
-msgstr "Data %s %04d  Dinheiro %8d  N?vel Tecnologico %5.1f (%5.1f)"
-
-#: src/lincity-ng/Dialog.cpp:374
-#, c-format
-msgid ".Deaths by starvation %7d   History %8.3f"
-msgstr ".Mortos pela fome %7d   Hist?rico %8.3f"
-
-#: src/lincity-ng/Dialog.cpp:379
-#, c-format
-msgid "Deaths from pollution %7d   History %8.3f"
-msgstr "Mortos pela polui??o %7d   Hist?rico %8.3f"
-
-#: src/lincity-ng/Dialog.cpp:383
-#, c-format
-msgid "Years of unemployment %7d   History %8.3f"
-msgstr "Anos de desemprego %7d   Hist?rico %8.3f"
-
-#: src/lincity-ng/Dialog.cpp:387
-#, c-format
-msgid "Rockets launched %2d  Successful launches %2d"
-msgstr "Foguetes lan?ados %2d  Lan?amentos bem sucedidos %2d"
-
-#: src/lincity-ng/Dialog.cpp:397
-#, c-format
-msgid ".   Residences %4d         Markets %4d            Farms %4d"
-msgstr ".   Resid?ncias %4d         Mercados %4d          Fazendas %4d"
-
-#: src/lincity-ng/Dialog.cpp:408
-#, c-format
-msgid ".       Tracks %4d           Roads %4d             Rail %4d"
-msgstr ".        Pistas %4d           Estradas %4d         Trilhos %4d"
-
-#: src/lincity-ng/Dialog.cpp:413
-#, c-format
-msgid ".    Potteries %4d     Blacksmiths %4d            Mills %4d"
-msgstr ".     Olarias %4d     Ferreiros %4d            Moinhos %4d"
-
-#: src/lincity-ng/Dialog.cpp:418
-#, c-format
-msgid ".    Monuments %4d         Schools %4d     Universities %4d"
-msgstr ".    Monumentos %4d       Escolas %4d     Universidades %4d"
-
-#: src/lincity-ng/Dialog.cpp:423
-#, c-format
-msgid ".Fire stations %4d           Parks %4d    Sports fields %4d"
-msgstr ".Bombeiros %4d            Parques %4d  ?rea de Esporte %4d"
-
-#: src/lincity-ng/Dialog.cpp:428
-#, c-format
-msgid ".   Coal mines %4d       Ore mines %4d         Communes %4d"
-msgstr ".   Minas de carv?o %4d   Minas de min?rio %4d    Comunas %4d"
-
-#: src/lincity-ng/Dialog.cpp:433
-#, c-format
-msgid ".    Windmills %4d     Coal powers %4d     Solar powers %4d"
-msgstr ".   Moinhos de vento %4d   Usinas de carv?o %4d   Usinas solares %4d"
-
-#: src/lincity-ng/Dialog.cpp:439
-#, c-format
-msgid ".  Substations %4d     Power lines %4d            Ports %4d"
-msgstr ".  Sub-esta??es %4d   Linhas de transmiss?o %4d   Portos %4d"
-
-#: src/lincity-ng/Dialog.cpp:444
-#, c-format
-msgid ".   Light inds %4d      Heavy inds %4d        Recyclers %4d"
-msgstr ".    Ind?stias peq %4d      Ind?strias grd %4d  Centros de reciclagem %4d"
-
-#: src/lincity-ng/Dialog.cpp:449
-#, c-format
-msgid "Health centres %4d            Tips %4d         Shanties %4d"
-msgstr "Centros de sa?de %4d         Aterros %4d         Favelas %4d"
-
-#: src/lincity-ng/GameView.cpp:236
-msgid "Minimap: outline map"
-msgstr "Minimapa: mapa do esbo?o"
-
-#: src/lincity-ng/GameView.cpp:239
-msgid "Minimap: unemployment"
-msgstr "Minimapa: desemprego"
-
-#: src/lincity-ng/GameView.cpp:242
-msgid "Minimap: pollution"
-msgstr "Minimapa: polui??o"
-
-#: src/lincity-ng/GameView.cpp:245
-msgid "Minimap: nourishments"
-msgstr "Minimapa: alimenta??o"
-
-#: src/lincity-ng/GameView.cpp:248
-msgid "Minimap: power supply"
-msgstr "Minimapa: Linha de transmiss?o"
-
-#: src/lincity-ng/GameView.cpp:251
-msgid "Minimap: firedepartment cover"
-msgstr "Minimapa: cobertura contra fogo"
-
-#: src/lincity-ng/GameView.cpp:254
-msgid "Minimap: sport cover"
-msgstr "Minimapa: cobertura de esportes"
-
-#: src/lincity-ng/GameView.cpp:257
-msgid "Minimap: medical care"
-msgstr "Minimapa: cuidados m?dicos"
-
-#: src/lincity-ng/GameView.cpp:260
-msgid "Minimap: coal depots"
-msgstr "Minimapa: Dep?sitos de carv?o"
-
-#: src/lincity-ng/GameView.cpp:263
-msgid "Minimap: traffic density"
-msgstr "Minimapa: densidade do tr?fego"
-
-#: src/lincity-ng/GameView.cpp:1515
-msgid "Estimated Bulldoze Cost: "
-msgstr "Custo Estimado de Destrui??o:"
-
-#: src/lincity-ng/GameView.cpp:1517
-msgid "Bulldoze Cost: "
-msgstr "Custo de Destrui??o:"
-
-#: src/lincity-ng/GameView.cpp:1520
-#: src/lincity-ng/GameView.cpp:1551
-#: src/lincity-ng/ScreenInterface.cpp:269
-msgid "$"
-msgstr "$"
-
-#: src/lincity-ng/GameView.cpp:1522
-msgid "n/a"
-msgstr "n/d"
-
-#: src/lincity-ng/GameView.cpp:1540
-msgid "Query Tool: Show information about selected building."
-msgstr "Ferr. de Pesquisa: Exibe informa??es sobre a constru??o selecionada."
-
-#: src/lincity-ng/GameView.cpp:1544
-msgid "Bulldozer: remove building -price varies-"
-msgstr "Niveladora: remover contru??o -valor vari?vel-"
-
-#: src/lincity-ng/GameView.cpp:1551
-msgid ": Cost to build "
-msgstr ": Custo de contru??o "
-
-#: src/lincity-ng/GameView.cpp:1552
-msgid ", to bulldoze "
-msgstr ", para destruir "
-
-#: src/lincity-ng/GameView.cpp:1552
-#: src/lincity-ng/GameView.cpp:1555
-msgid "$."
-msgstr "$."
-
-#: src/lincity-ng/GameView.cpp:1554
-msgid " To build "
-msgstr " Para construir "
-
-#: src/lincity-ng/GameView.cpp:1554
-msgid " of them "
-msgstr " deles "
-
-#: src/lincity-ng/GameView.cpp:1555
-msgid "will cost about "
-msgstr "custar? em torno de "
-
-#: src/lincity-ng/MainMenu.cpp:175
-msgid "empty"
-msgstr "vazio"
-
-#: src/lincity-ng/MpsInterface.cpp:224
-msgid "build something here"
-msgstr "contruir algo aqui"
-
-#: src/lincity-ng/MpsInterface.cpp:226
-msgid "no further information available"
-msgstr "sem mais informa??es dispon?veis"
-
-#: src/lincity-ng/MpsInterface.cpp:378
-msgid "Coverage"
-msgstr "Cobertura"
-
-#: src/lincity-ng/MpsInterface.cpp:383
-msgid "Health"
-msgstr "Sa?de"
-
-#: src/lincity-ng/MpsInterface.cpp:391
-msgid "clear"
-msgstr "limpar"
-
-#: src/lincity-ng/MpsInterface.cpp:395
-msgid "fair"
-msgstr "feira"
-
-#: src/lincity-ng/MpsInterface.cpp:397
-msgid "smelly"
-msgstr "fedorento"
-
-#: src/lincity-ng/MpsInterface.cpp:399
-msgid "smokey"
-msgstr "fuma?a"
-
-#: src/lincity-ng/MpsInterface.cpp:401
-msgid "smoggy"
-msgstr "neblina"
-
-#: src/lincity-ng/MpsInterface.cpp:403
-msgid "bad"
-msgstr "mau"
-
-#: src/lincity-ng/MpsInterface.cpp:405
-msgid "very bad"
-msgstr "muito mau"
-
-#: src/lincity-ng/MpsInterface.cpp:407
-msgid "death!"
-msgstr "morte!"
-
-#: src/lincity-ng/MpsInterface.cpp:412
-msgid "Bulldoze Cost"
-msgstr "Destruir Custa"
-
-#: src/lincity-ng/MpsInterface.cpp:418
-msgid "N/A"
-msgstr "N/D"
-
-#: src/lincity-ng/MpsInterface.cpp:436
-msgid "Tax Income"
-msgstr "Taxa de Entrada"
-
-#: src/lincity-ng/MpsInterface.cpp:440
-msgid "Income"
-msgstr "Rendimento"
-
-#: src/lincity-ng/MpsInterface.cpp:452
-msgid "Export"
-msgstr "Exportar"
-
-#: src/lincity-ng/MpsInterface.cpp:456
-msgid "Expenses"
-msgstr "Gastos"
-
-#: src/lincity-ng/MpsInterface.cpp:460
-msgid "Unemp."
-msgstr "Desemp."
-
-#: src/lincity-ng/MpsInterface.cpp:464
-msgid "Transport"
-msgstr "Transportador"
-
-#: src/lincity-ng/MpsInterface.cpp:468
-msgid "Imports"
-msgstr "Importa??es"
-
-#: src/lincity-ng/MpsInterface.cpp:472
-msgid "Others"
-msgstr "Outros"
-
-#: src/lincity-ng/MpsInterface.cpp:477
-msgid "Net"
-msgstr "Rede"
-
-#: src/lincity-ng/MpsInterface.cpp:489
-msgid "Other Costs"
-msgstr "Outos Custos"
-
-#: src/lincity-ng/MpsInterface.cpp:494
-msgid "For year"
-msgstr "Por ano"
-
-#: src/lincity-ng/MpsInterface.cpp:498
-msgid "Interest"
-msgstr "Interesse"
-
-#: src/lincity-ng/MpsInterface.cpp:500
-msgid "Schools"
-msgstr "Escolas"
-
-#: src/lincity-ng/MpsInterface.cpp:502
-msgid "Univers."
-msgstr "Universidades"
-
-#: src/lincity-ng/MpsInterface.cpp:504
-msgid "Deaths"
-msgstr "Mortes"
-
-#: src/lincity-ng/MpsInterface.cpp:508
-msgid "Hospital"
-msgstr "Hospital"
-
-#: src/lincity-ng/MpsInterface.cpp:510
-msgid "Rockets"
-msgstr "Foguetes"
-
-#: src/lincity-ng/MpsInterface.cpp:512
-msgid "Fire Stn"
-msgstr "Bombeiro"
-
-#: src/lincity-ng/MpsInterface.cpp:530
-msgid "Population"
-msgstr "Popula??o"
-
-#: src/lincity-ng/MpsInterface.cpp:533
-msgid "Housed"
-msgstr "Com casa"
-
-#: src/lincity-ng/MpsInterface.cpp:534
-msgid "Homeless"
-msgstr "Sem casa"
-
-#: src/lincity-ng/MpsInterface.cpp:535
-msgid "Shanties"
-msgstr "Favelados"
-
-#: src/lincity-ng/MpsInterface.cpp:536
-msgid "Unn Dths"
-msgstr "Unn Dths"
-
-#: src/lincity-ng/MpsInterface.cpp:537
-msgid "Unemployment"
-msgstr "Desempregados"
-
-#: src/lincity-ng/MpsInterface.cpp:538
-msgid "Claims"
-msgstr "Reclama??es"
-
-#: src/lincity-ng/MpsInterface.cpp:539
-#: src/lincity-ng/MpsInterface.cpp:544
-msgid "Rate"
-msgstr "Taxa"
-
-#: src/lincity-ng/MpsInterface.cpp:541
-msgid "Starvation"
-msgstr "Fome"
-
-#: src/lincity-ng/MpsInterface.cpp:542
-msgid "Cases"
-msgstr "Acontecimentos"
-
-#: src/lincity-ng/EconomyGraph.cpp:121
-msgid "Mining"
-msgstr "Minera??o"
-
-#: src/lincity-ng/EconomyGraph.cpp:123
-msgid "Trade"
-msgstr "Com?rcio"
-
-#: src/lincity-ng/EconomyGraph.cpp:125
-msgid "Money"
-msgstr "Dinheiro"
-
-#: src/lincity-ng/EconomyGraph.cpp:127
-msgid "Popul."
-msgstr "Popul."
-
-#: src/lincity-ng/EconomyGraph.cpp:129
-msgid "Techn."
-msgstr "Tecn."
-
-#: src/lincity-ng/EconomyGraph.cpp:134
-msgid "Economy Overview:"
-msgstr "Vis?o Econ?mica:"
-
-#: src/lincity-ng/EconomyGraph.cpp:137
-msgid "Sustainability:"
-msgstr "Sustentabilidade:"
-
-#: src/lincity-ng/EconomyGraph.cpp:140
-msgid "Frames per Second:"
-msgstr "Quadros por Segundo:"
-
-#: src/lincity-ng/EconomyGraph.cpp:216
-msgid "You lose."
-msgstr "Voc? perdeu."
-
-#: src/lincity-ng/ButtonPanel.cpp:198
-msgid "Query Tool"
-msgstr "Ferr. de Pesquisa"
-
-#: src/lincity-ng/ButtonPanel.cpp:199
-msgid "Bulldozer"
-msgstr "Niveladora"
-
-#: src/lincity-ng/ButtonPanel.cpp:201
-msgid "Residential: 50 denizens, low birthrate, high deathrate"
-msgstr "Residencial: 50 habitantes, baixo ?ndice de natalidade, alta mortalidade"
-
-#: src/lincity-ng/ButtonPanel.cpp:202
-msgid "Residential: 100 denizens, high birthrate, low deathrate"
-msgstr "Residencial: 100 habitantes, alto ?ndice de natalidade, baixa mortalidade"
-
-#: src/lincity-ng/ButtonPanel.cpp:203
-msgid "Residential: 200 denizens, high birthrate, high deathrate"
-msgstr "Residencial: 200 habitantes, alto ?ndice de natalidade, alta mortalidade"
-
-#: src/lincity-ng/ButtonPanel.cpp:204
-msgid "Residential: 100 denizens, low birthrate, high deathrate"
-msgstr "Residencial: 100 habitantes, baixo ?ndice de natalidade, alta mortalidade"
-
-#: src/lincity-ng/ButtonPanel.cpp:205
-msgid "Residential: 200 denizens, high birthrate, low deathrate"
-msgstr "Residencial: 200 habitantes, alto ?ndice de natalidade, baixa mortalidade"
-
-#: src/lincity-ng/ButtonPanel.cpp:206
-msgid "Residential: 400 denizens, high birthrate, high deathrate"
-msgstr "Residencial: 400 habitantes, alto ?ndice de natalidade, alta mortalidade"
-
-#: src/lincity-ng/ButtonPanel.cpp:215
-msgid " [Click right for help.]"
-msgstr " [Clique com o direito para ajuda.]"
-
-#: src/lincity-ng/ButtonPanel.cpp:243
-#: src/lincity-ng/ButtonPanel.cpp:277
-#, c-format
-msgid "%s (Techlevel %.1f required.)"
-msgstr "%s (N?vel Tecn. %.1f requerido.)"
-
-#: src/lincity-ng/ScreenInterface.cpp:258
-msgid "MM"
-msgstr "MM"
-

Copied: trunk/data/locale/pt_BR.po (from rev 1185, trunk/data/locale/pt.po)

Modified: trunk/src/lincity-ng/HelpWindow.cpp
===================================================================
--- trunk/src/lincity-ng/HelpWindow.cpp	2007-04-18 17:05:22 UTC (rev 1186)
+++ trunk/src/lincity-ng/HelpWindow.cpp	2007-04-18 21:56:07 UTC (rev 1187)
@@ -101,6 +101,20 @@
     if(PHYSFS_exists(filename.c_str()))
        return filename;
 
+    // try short language, eg. "de" instead of "de_CH"
+    std::string language = dictionaryManager->get_language();
+    std::string::size_type pos = language.find("_");
+    if(pos != std::string::npos) {
+        language = std::string(language, 0, pos);
+        filename = "help/";
+        filename += language + "/";
+        filename += topic;
+        filename += ".xml";
+        if(PHYSFS_exists(filename.c_str()))
+            return filename;
+    }
+    
+    // try english
     filename = "help/en/";
     filename += topic;
     filename += ".xml";

Modified: trunk/src/tinygettext/TinyGetText.cpp
===================================================================
--- trunk/src/tinygettext/TinyGetText.cpp	2007-04-18 17:05:22 UTC (rev 1186)
+++ trunk/src/tinygettext/TinyGetText.cpp	2007-04-18 21:56:07 UTC (rev 1187)
@@ -1,5 +1,5 @@
 //  $Id: tinygettext.cpp,v 1.4 2004/11/25 13:15:56 matzebraun Exp $
-// 
+//
 //  TinyGetText - A small flexible gettext() replacement
 //  Copyright (C) 2004 Ingo Ruhnke <grumbel at gmx.de>
 //
@@ -12,10 +12,11 @@
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-// 
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program; if not, write to the Free Software
 //  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
+
 #include <config.h>
 
 #include <sys/types.h>
@@ -26,6 +27,7 @@
 #include <cstdlib>
 #include <fstream>
 #include <iostream>
+#include <algorithm>
 #include <ctype.h>
 #include <errno.h>
 
@@ -46,7 +48,7 @@
     return text;
 
   iconv_t cd = iconv_open(to_charset.c_str(), from_charset.c_str());
-  
+
   size_t in_len = text.length();
   size_t out_len = text.length()*3; // FIXME: cross fingers that this is enough
 
@@ -176,24 +178,29 @@
   else if (name == "sk") return lang_sk;
   else if (name == "pl") return lang_pl;
   else if (name == "sl") return lang_sl;
-  else return lang_en; 
+  else return lang_en;
 }
 
 DictionaryManager::DictionaryManager()
   : current_dict(&empty_dict)
 {
   parseLocaleAliases();
-
+  // Environment variable LINCITY_LANG overrides language settings.
   const char* lang = getenv( "LINCITY_LANG" );
   if( lang ){
     set_language( lang );
     return;
-  }  
+  }
   // use findlocale to setup language
   FL_Locale *locale;
   FL_FindLocale( &locale, FL_MESSAGES );
-      if( locale->lang)
-        set_language( locale->lang );
+  if(locale->lang) {
+    if (locale->country) {
+      set_language( std::string(locale->lang)+"_"+std::string(locale->country) );
+    } else {
+      set_language( std::string(locale->lang) );
+    }
+  }
   FL_FreeLocale( &locale );
 }
 
@@ -202,18 +209,18 @@
 {
   // try to parse language alias list
   std::ifstream in("/usr/share/locale/locale.alias");
-  
+
   char c = ' ';
   while(in.good() && !in.eof()) {
     while(isspace(c) && !in.eof())
       in.get(c);
-    
+
     if(c == '#') { // skip comments
       while(c != '\n' && !in.eof())
         in.get(c);
       continue;
     }
-    
+
     std::string alias;
     while(!isspace(c) && !in.eof()) {
       alias += c;
@@ -232,7 +239,7 @@
     set_language_alias(alias, language);
   }
 }
-  
+
 Dictionary&
 DictionaryManager::get_dictionary(const std::string& spec)
 {
@@ -254,7 +261,7 @@
       for (SearchPath::iterator p = search_path.begin(); p != search_path.end(); ++p)
         {
           char** files = PHYSFS_enumerateFiles(p->c_str());
-          if(!files) 
+          if(!files)
             {
               std::cerr << "Error: enumerateFiles() failed on " << *p << std::endl;
             }
@@ -262,7 +269,25 @@
             {
               for(const char* const* filename = files;
                       *filename != 0; filename++) {
-                if(std::string(*filename) == lang + ".po") {
+
+                // check if filename matches requested language
+		std::string fname = std::string(*filename);
+		std::string load_from_file = "";
+                if(fname == lang + ".po") {
+		  load_from_file = fname;
+		} else {
+                  std::string::size_type s = lang.find("_");
+                  if(s != std::string::npos) {
+                    std::string lang_short = std::string(lang, 0, s);
+		    if (fname == lang_short + ".po") {
+		      load_from_file = lang_short;
+		    }
+                  }
+		}
+
+	        // if it matched, load dictionary
+		if (load_from_file != "") {
+                  //log_debug << "Loading dictionary for language \"" << lang << "\" from \"" << filename << "\"" << std::endl;
                   std::string pofile = *p + "/" + *filename;
                   try {
                       IFileStream in(pofile);
@@ -303,7 +328,7 @@
           }
           PHYSFS_freeList(files);
         }
-    }  
+    }
   return languages;
 }
 
@@ -343,12 +368,21 @@
   if(i != language_aliases.end()) {
     lang = i->second;
   }
-  
-  std::string::size_type s = lang.find_first_of("_.");
-  if(s == std::string::npos)
-    return lang;
 
-  return std::string(lang, 0, s);  
+  std::string::size_type s = lang.find(".");
+  if(s != std::string::npos) {
+    lang = std::string(lang, 0, s);
+  }
+
+  s = lang.find("_");
+  if(s == std::string::npos) {
+    std::string lang_big = lang;
+    std::transform (lang_big.begin(), lang_big.end(), lang_big.begin(), toupper);
+    lang += "_" + lang_big;
+  }
+
+  return lang;
+
 }
 
 void
@@ -390,7 +424,7 @@
 }
 
 std::string
-Dictionary::translate(const std::string& msgid, const std::string& msgid2, int num) 
+Dictionary::translate(const std::string& msgid, const std::string& msgid2, int num)
 {
   PluralEntries::iterator i = plural_entries.find(msgid);
   std::map<int, std::string>& msgstrs = i->second;
@@ -443,7 +477,7 @@
 }
 
 std::string
-Dictionary::translate(const std::string& msgid) 
+Dictionary::translate(const std::string& msgid)
 {
   Entries::iterator i = entries.find(msgid);
   if (i != entries.end() && !i->second.empty())
@@ -458,7 +492,7 @@
       return msgid;
     }
 }
-  
+
 void
 Dictionary::add_translation(const std::string& msgid, const std::string& ,
                             const std::map<int, std::string>& msgstrs)
@@ -468,8 +502,8 @@
   plural_entries[msgid] = msgstrs;
 }
 
-void 
-Dictionary::add_translation(const std::string& msgid, const std::string& msgstr) 
+void
+Dictionary::add_translation(const std::string& msgid, const std::string& msgstr)
 {
   entries[msgid] = msgstr;
 }
@@ -517,7 +551,7 @@
     // Seperate the header in lines
     typedef std::vector<std::string> Lines;
     Lines lines;
-    
+
     std::string::size_type start = 0;
     for(std::string::size_type i = 0; i < header.length(); ++i)
       {
@@ -551,10 +585,10 @@
 
   void add_token(const Token& token)
   {
-    switch(state) 
+    switch(state)
       {
       case WANT_MSGID:
-        if (token.keyword == "msgid") 
+        if (token.keyword == "msgid")
           {
             current_msgid = token.content;
             state = WANT_MSGID_PLURAL;
@@ -569,13 +603,13 @@
                       << " at line " << line_num << std::endl;
           }
         break;
-    
+
       case WANT_MSGID_PLURAL:
-        if (token.keyword == "msgid_plural") 
+        if (token.keyword == "msgid_plural")
           {
             current_msgid_plural = token.content;
             state = WANT_MSGSTR_PLURAL;
-          } 
+          }
         else
           {
             state = WANT_MSGSTR;
@@ -584,9 +618,9 @@
         break;
 
       case WANT_MSGSTR:
-        if (token.keyword == "msgstr") 
+        if (token.keyword == "msgstr")
           {
-            if (current_msgid == "") 
+            if (current_msgid == "")
               { // .po Header is hidden in the msgid with the empty string
                 parse_header(token.content);
               }
@@ -595,7 +629,7 @@
                 dict.add_translation(current_msgid, convert(token.content, from_charset, to_charset));
               }
             state = WANT_MSGID;
-          } 
+          }
         else
           {
             std::cerr << "tinygettext: expected 'msgstr' keyword, got " << token.keyword 
@@ -604,19 +638,19 @@
         break;
 
       case WANT_MSGSTR_PLURAL:
-        if (has_prefix(token.keyword, "msgstr[")) 
+        if (has_prefix(token.keyword, "msgstr["))
           {
             int num;
             if (sscanf(token.keyword.c_str(), "msgstr[%d]", &num) != 1) 
               {
                 std::cerr << "Error: Couldn't parse: " << token.keyword << std::endl;
-              } 
-            else 
+              }
+            else
               {
                 msgstr_plural[num] = convert(token.content, from_charset, to_charset);
               }
           }
-        else 
+        else
           {
             dict.add_translation(current_msgid, current_msgid_plural, msgstr_plural);
 
@@ -626,18 +660,18 @@
         break;
       }
   }
-  
-  inline int getchar(std::istream& in) 
+
+  inline int getchar(std::istream& in)
   {
     int c = in.get();
     if (c == '\n')
       line_num += 1;
     return c;
   }
-  
+
   void tokenize_po(std::istream& in)
   {
-    enum State { READ_KEYWORD, 
+    enum State { READ_KEYWORD,
                  READ_CONTENT,
                  READ_CONTENT_IN_STRING,
                  SKIP_COMMENT };
@@ -660,8 +694,8 @@
               {
                 // Read a new token
                 token = Token();
-                
-                do { // Read keyword 
+
+                do { // Read keyword
                   token.keyword += c;
                 } while((c = getchar(in)) != EOF && !isspace(c));
                 in.unget();
@@ -673,7 +707,7 @@
           case READ_CONTENT:
             while((c = getchar(in)) != EOF)
               {
-                if (c == '"') { 
+                if (c == '"') {
                   // Found start of content
                   state = READ_CONTENT_IN_STRING;
                   break;
@@ -697,6 +731,7 @@
                   else if (c == 't') token.content += '\t';
                   else if (c == 'r') token.content += '\r';
                   else if (c == '"') token.content += '"';
+                  else if (c == '\\') token.content += '\\';
                   else
                     {
                       std::cout << "Unhandled escape character: " << char(c) << std::endl;
@@ -723,7 +758,7 @@
   }
 };
 
-void read_po_file(Dictionary& dict_, std::istream& in) 
+void read_po_file(Dictionary& dict_, std::istream& in)
 {
   POFileReader reader(in, dict_);
 }

Modified: trunk/src/tinygettext/TinyGetText.hpp
===================================================================
--- trunk/src/tinygettext/TinyGetText.hpp	2007-04-18 17:05:22 UTC (rev 1186)
+++ trunk/src/tinygettext/TinyGetText.hpp	2007-04-18 21:56:07 UTC (rev 1187)
@@ -12,10 +12,11 @@
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-// 
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program; if not, write to the Free Software
 //  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
+
 #ifndef HEADER_TINYGETTEXT_H
 #define HEADER_TINYGETTEXT_H
 
@@ -80,7 +81,7 @@
   std::string translate(const std::string& msgid);
   /** Translate the string \a msgid. */
   const char* translate(const char* msgid);
-    
+
   /** Add a translation from \a msgid to \a msgstr to the dictionary,
       where \a msgid is the singular form of the message, msgid2 the
       plural form and msgstrs a table of translations. The right
@@ -136,7 +137,7 @@
 
   /** Add a directory to the search path for dictionaries */
   void add_directory(const std::string& pathname);
-  
+
   /** Return a set of the available languages in their country code */
   std::set<std::string> get_languages();
 

Modified: trunk/src/tinygettext/findlocale.cpp
===================================================================
--- trunk/src/tinygettext/findlocale.cpp	2007-04-18 17:05:22 UTC (rev 1186)
+++ trunk/src/tinygettext/findlocale.cpp	2007-04-18 21:56:07 UTC (rev 1187)
@@ -1,6 +1,6 @@
 /*
  findlocale-0.46.tar.gz from http://icculus.org/~aspirin/findlocale/
- 
+
 Copyright (C) 2004 Adam D. Moss (the "Author").  All Rights Reserved.
 
 Permission is hereby granted, free of charge, to any person obtaining a copy
@@ -26,6 +26,7 @@
 from the Author.
 
 */
+#include <config.h>
 
 #include <stdlib.h>
 #include <string.h>
@@ -36,6 +37,10 @@
 #include <winnt.h>
 #endif
 
+#ifdef MACOSX
+#include <Carbon/Carbon.h>
+#endif
+
 #include "findlocale.hpp"
 
 static int
@@ -134,6 +139,7 @@
 }
 
 
+#ifndef WIN32
 static int
 accumulate_env(const char *name, FL_Locale *l) {
   char *env;
@@ -147,8 +153,8 @@
   free(lang); free(country); free(variant);
   return 0;
 }
+#endif
 
-
 static void
 canonise_fl(FL_Locale *l) {
   /* this function fixes some common locale-specifying mistakes */
@@ -420,7 +426,9 @@
            FL_Locale *rtn) {
   LANGID langid       = LANGIDFROMLCID(lcid);
   LANGID primary_lang = PRIMARYLANGID(langid);
+#if 0
   LANGID sub_lang     = SUBLANGID(langid);
+#endif
   int i;
   /* try to find an exact primary/sublanguage combo that we know about */
   for (i=0; i<num_both_to_code; ++i) {
@@ -442,7 +450,7 @@
 
 
 FL_Success
-FL_FindLocale(FL_Locale **locale, FL_Domain domain) {
+FL_FindLocale(FL_Locale **locale, FL_Domain /*domain*/) {
   FL_Success success = FL_FAILED;
   FL_Locale *rtn = (FL_Locale*) malloc(sizeof(FL_Locale));
   rtn->lang = NULL;
@@ -466,6 +474,32 @@
 #else
   /* assume unixoid */
   {
+#ifdef MACOSX
+    CFIndex sz;
+    CFArrayRef languages;
+    CFStringRef uxstylelangs;
+    char *uxsl;
+
+    /* get the languages from the user's presets */
+    languages = (CFArrayRef)CFPreferencesCopyValue(CFSTR("AppleLanguages"),
+      kCFPreferencesAnyApplication, kCFPreferencesCurrentUser,
+      kCFPreferencesAnyHost);
+
+    /* join the returned string array into a string separated by colons */
+    uxstylelangs = CFStringCreateByCombiningStrings(kCFAllocatorDefault,
+      languages, CFSTR(":"));
+
+    /* convert this string into a C string */
+    sz = CFStringGetLength(uxstylelangs) + 1;
+    uxsl = (char*)malloc(sz);
+    CFStringGetCString(uxstylelangs, uxsl, sz, kCFStringEncodingISOLatin1);
+
+    /* add it to the list */
+    if (accumulate_locstring(uxsl, rtn)) {
+      success = FL_CONFIDENT;
+    }
+    /* continue the UNIX method */
+#endif
     /* examples: */
     /* sv_SE.ISO_8859-1 */
     /* fr_FR.ISO8859-1 */



From alainb at mail.berlios.de  Thu Apr 19 00:30:02 2007
From: alainb at mail.berlios.de (alainb at BerliOS)
Date: Thu, 19 Apr 2007 00:30:02 +0200
Subject: [Lincity-ng-commit] r1188 - trunk/src/lincity/modules
Message-ID: <200704182230.l3IMU2GB000453@sheep.berlios.de>

Author: alainb
Date: 2007-04-19 00:29:59 +0200 (Thu, 19 Apr 2007)
New Revision: 1188

Modified:
   trunk/src/lincity/modules/blacksmith.cpp
Log:
workaround for a weird bug visible in 1185:
-saving a game with blacksmith, quit, reload, the blacksmith is stuck because int_1 = 1 instead of 0
-quit, relaunch lincity-ng and do continue, then int_1 = 0, so everything works.
No idea where this come from....

Modified: trunk/src/lincity/modules/blacksmith.cpp
===================================================================
--- trunk/src/lincity/modules/blacksmith.cpp	2007-04-18 21:56:07 UTC (rev 1187)
+++ trunk/src/lincity/modules/blacksmith.cpp	2007-04-18 22:29:59 UTC (rev 1188)
@@ -36,7 +36,7 @@
 	}
     }
 
-  if (MP_INFO(x,y).int_7 == 0) {
+  if (MP_INFO(x,y).int_7 < BLACKSMITH_JOBS) {
   	if (get_jobs (x, y, BLACKSMITH_JOBS))
 		MP_INFO(x,y).int_7 = BLACKSMITH_JOBS;
   }



From alainb at mail.berlios.de  Thu Apr 19 18:49:19 2007
From: alainb at mail.berlios.de (alainb at BerliOS)
Date: Thu, 19 Apr 2007 18:49:19 +0200
Subject: [Lincity-ng-commit] r1189 - trunk/src/lincity
Message-ID: <200704191649.l3JGnJmL008637@sheep.berlios.de>

Author: alainb
Date: 2007-04-19 18:49:12 +0200 (Thu, 19 Apr 2007)
New Revision: 1189

Modified:
   trunk/src/lincity/power.cpp
Log:
fix the bug discovered in 1185 and 1188 with 'good_time' scenario

Modified: trunk/src/lincity/power.cpp
===================================================================
--- trunk/src/lincity/power.cpp	2007-04-18 22:29:59 UTC (rev 1188)
+++ trunk/src/lincity/power.cpp	2007-04-19 16:49:12 UTC (rev 1189)
@@ -74,7 +74,8 @@
     if(resetgrids) {
         for(int mapx = 0; mapx < WORLD_SIDE_LEN; mapx++) {
             for(int mapy = 0; mapy < WORLD_SIDE_LEN; mapy++) {
-                MP_INFO(mapx,mapy).int_7 = grid_inc-1;
+	    	if (XY_IS_GRID(mapx,mapy))
+                	MP_INFO(mapx,mapy).int_7 = grid_inc-1;
             }
         }
     }



From wolfgangb at mail.berlios.de  Thu Apr 19 22:11:18 2007
From: wolfgangb at mail.berlios.de (wolfgangb at BerliOS)
Date: Thu, 19 Apr 2007 22:11:18 +0200
Subject: [Lincity-ng-commit] r1190 - branches/waterwell/src/lincity
Message-ID: <200704192011.l3JKBIiH009007@sheep.berlios.de>

Author: wolfgangb
Date: 2007-04-19 22:11:17 +0200 (Thu, 19 Apr 2007)
New Revision: 1190

Modified:
   branches/waterwell/src/lincity/simulate.cpp
Log:
Preserve river so we can build the port later on.


Modified: branches/waterwell/src/lincity/simulate.cpp
===================================================================
--- branches/waterwell/src/lincity/simulate.cpp	2007-04-19 16:49:12 UTC (rev 1189)
+++ branches/waterwell/src/lincity/simulate.cpp	2007-04-19 20:11:17 UTC (rev 1190)
@@ -722,10 +722,13 @@
     }
     /* setup group now to prevent terrible recursion */
     for (y = 0; y < WORLD_SIDE_LEN; y++) {
-	for (x = 0; x < WORLD_SIDE_LEN; x++) {
-		if (MP_TYPE(x,y) == CST_WATER)
-		    clear_mappoint (CST_WATER, x, y);
-	}
+	    for (x = 0; x < WORLD_SIDE_LEN; x++) {
+		    if (MP_TYPE(x,y) == CST_WATER){
+                int navigable = MP_INFO(x,y).flags & FLAG_IS_RIVER;
+		        clear_mappoint (CST_WATER, x, y);
+                MP_INFO(x,y).flags |= navigable;
+            }
+	    }
     }
     connect_rivers ();
   	    /* TODO Store square of distance to river for each tile */



From wolfgangb at mail.berlios.de  Thu Apr 19 22:49:59 2007
From: wolfgangb at mail.berlios.de (wolfgangb at BerliOS)
Date: Thu, 19 Apr 2007 22:49:59 +0200
Subject: [Lincity-ng-commit] r1191 - trunk/src/lincity-ng
Message-ID: <200704192049.l3JKnxPW011408@sheep.berlios.de>

Author: wolfgangb
Date: 2007-04-19 22:49:58 +0200 (Thu, 19 Apr 2007)
New Revision: 1191

Modified:
   trunk/src/lincity-ng/PBar.cpp
Log:
Dont show fractions of millions if you have 1000M

Modified: trunk/src/lincity-ng/PBar.cpp
===================================================================
--- trunk/src/lincity-ng/PBar.cpp	2007-04-19 20:11:17 UTC (rev 1190)
+++ trunk/src/lincity-ng/PBar.cpp	2007-04-19 20:49:58 UTC (rev 1191)
@@ -92,7 +92,9 @@
      }
     else if(num==PMONEY)
     {
-        if(abs(value)>1000000)
+        if(abs(value)>=1000000000)
+            os<<value/1000000<<"M";
+        else if(abs(value)>1000000)
             os<<value/1000000.0<<"M";
         else if(abs(value)>1000)
             os<<value/1000.0<<"K";



From alainb at mail.berlios.de  Thu Apr 19 23:29:07 2007
From: alainb at mail.berlios.de (alainb at BerliOS)
Date: Thu, 19 Apr 2007 23:29:07 +0200
Subject: [Lincity-ng-commit] r1192 - branches/waterwell/src/lincity-ng
Message-ID: <200704192129.l3JLT7Ab014297@sheep.berlios.de>

Author: alainb
Date: 2007-04-19 23:29:06 +0200 (Thu, 19 Apr 2007)
New Revision: 1192

Modified:
   branches/waterwell/src/lincity-ng/GameView.cpp
Log:
Display correct cursor color (blue/red)

Modified: branches/waterwell/src/lincity-ng/GameView.cpp
===================================================================
--- branches/waterwell/src/lincity-ng/GameView.cpp	2007-04-19 20:49:58 UTC (rev 1191)
+++ branches/waterwell/src/lincity-ng/GameView.cpp	2007-04-19 21:29:06 UTC (rev 1192)
@@ -848,7 +848,11 @@
             if( roadDragging && ( cursorSize != 1 ) ){
                 roadDragging = false;
             }
-            if( roadDragging && ( selected_module_type == CST_GREEN ) 
+            if( roadDragging 
+	    	    && ( selected_module_type == CST_GREEN |selected_module_type == CST_DESERT
+		        |selected_module_type == CST_TREE
+		        |selected_module_type == CST_TREE2
+		        |selected_module_type == CST_TREE3 ) 
                     && getConfig()->instantBulldoze ){ 
                 editMap( tile, SDL_BUTTON_LEFT);
                 startRoad = tile;
@@ -1369,7 +1373,7 @@
         } else {
             for( y = (int) tile.y; y < tile.y + cursorSize; y++ ) {
                 for( x = (int) tile.x; x < tile.x + cursorSize; x++ ) {
-                    if( MP_TYPE( x, y ) != CST_DESERT ) {
+                    if( !GROUP_IS_BARE(MP_GROUP( x, y ))) {
                         painter.setFillColor( alphared );
                         y += cursorSize;
                         break;
@@ -1546,18 +1550,26 @@
             currentTile = startRoad;
             while( currentTile.x != tileUnderMouse.x ) {
                 markTile( painter, currentTile );
-                if( selected_module_type == CST_GREEN && realTile( currentTile ) != lastRazed ){ 
-                    cost += bulldozeCost( currentTile );
-                    lastRazed = realTile( currentTile );
+                if( (selected_module_type == CST_GREEN |selected_module_type == CST_DESERT
+				|selected_module_type == CST_TREE 
+				|selected_module_type == CST_TREE2
+				|selected_module_type == CST_TREE3)
+		     && realTile( currentTile ) != lastRazed ){ 
+                    	cost += bulldozeCost( currentTile );
+                    	lastRazed = realTile( currentTile );
                 }
                 tiles++;
                 currentTile.x += stepx;
             }
             while( currentTile.y != tileUnderMouse.y ) {
                 markTile( painter, currentTile );
-                if( selected_module_type == CST_GREEN && realTile( currentTile ) != lastRazed ){ 
-                    cost += bulldozeCost( currentTile );
-                    lastRazed = realTile( currentTile );
+                if( (selected_module_type == CST_GREEN |selected_module_type == CST_DESERT
+				|selected_module_type == CST_TREE 
+				|selected_module_type == CST_TREE2
+				|selected_module_type == CST_TREE3)
+		     && realTile( currentTile ) != lastRazed ){ 
+                    	cost += bulldozeCost( currentTile );
+                    	lastRazed = realTile( currentTile );
                 }
                 tiles++;
                 currentTile.y += stepy;
@@ -1565,10 +1577,17 @@
         } 
         markTile( painter, tileUnderMouse );
         tiles++;
-        if( selected_module_type == CST_GREEN && realTile( currentTile ) != lastRazed ) { 
-            cost += bulldozeCost( tileUnderMouse );
+        if( (selected_module_type == CST_GREEN |selected_module_type == CST_DESERT
+				|selected_module_type == CST_TREE 
+				|selected_module_type == CST_TREE2
+				|selected_module_type == CST_TREE3)
+	     && realTile( currentTile ) != lastRazed ) { 
+            	  cost += bulldozeCost( tileUnderMouse );
         } 
-        if( selected_module_type == CST_GREEN ){
+        if( selected_module_type == CST_GREEN |selected_module_type == CST_DESERT
+				|selected_module_type == CST_TREE 
+				|selected_module_type == CST_TREE2
+				|selected_module_type == CST_TREE3 ){
             std::stringstream prize;
             if( roadDragging ){
                 prize << _("Estimated Bulldoze Cost: ");
@@ -1652,11 +1671,7 @@
                           MP_INFO(tile.x,tile.y).int_2 );
     else
         group = MP_GROUP( tile.x,tile.y );
-    if (group == 0) {  /* Can't bulldoze grass. */
-        prize = 0; 
-    } else {
-        prize = main_groups[group].bul_cost;
-    }
+    prize = main_groups[group].bul_cost;
     return prize;
 }
 



From alainb at mail.berlios.de  Fri Apr 20 14:46:04 2007
From: alainb at mail.berlios.de (alainb at BerliOS)
Date: Fri, 20 Apr 2007 14:46:04 +0200
Subject: [Lincity-ng-commit] r1193 - in trunk: data/gui src/lincity-ng
Message-ID: <200704201246.l3KCk49R022795@sheep.berlios.de>

Author: alainb
Date: 2007-04-20 14:46:03 +0200 (Fri, 20 Apr 2007)
New Revision: 1193

Modified:
   trunk/data/gui/loadgame.xml
   trunk/data/gui/mainmenu.xml
   trunk/data/gui/savegame.xml
   trunk/src/lincity-ng/MainMenu.cpp
Log:
more informative filenames for saved games

Modified: trunk/data/gui/loadgame.xml
===================================================================
--- trunk/data/gui/loadgame.xml	2007-04-19 21:29:06 UTC (rev 1192)
+++ trunk/data/gui/loadgame.xml	2007-04-20 12:46:03 UTC (rev 1193)
@@ -22,7 +22,7 @@
 			-->
 			<cell row="2" col="2">
 			<CheckButton name="File0">
-				<text-caption style="button">Savegame 123456789</text-caption>
+				<text-caption style="boxtext">Savegame 123456789012345678901234567890</text-caption>
 				<image src="images/gui/buttons/savebutton.png"/>
 				<image-hover src="images/gui/buttons/savebutton-hover.png"/>
 				<image-clicked src="images/gui/buttons/savebutton-clicked.png"/>
@@ -31,7 +31,7 @@
 			</cell>
 			<cell row="3" col="2">
 			<CheckButton name="File1">
-				<text-caption style="button">Savegame 123456789</text-caption>
+				<text-caption style="boxtext">Savegame 123456789012345678901234567890</text-caption>
 				<image src="images/gui/buttons/savebutton.png"/>
 				<image-hover src="images/gui/buttons/savebutton-hover.png"/>
 				<image-clicked src="images/gui/buttons/savebutton-clicked.png"/>
@@ -40,7 +40,7 @@
 			</cell>
 			<cell row="4" col="2">
 			<CheckButton name="File2">
-				<text-caption style="button">Savegame 123456789</text-caption>
+				<text-caption style="boxtext">Savegame 123456789012345678901234567890</text-caption>
 				<image src="images/gui/buttons/savebutton.png"/>
 				<image-hover src="images/gui/buttons/savebutton-hover.png"/>
 				<image-clicked src="images/gui/buttons/savebutton-clicked.png"/>
@@ -49,7 +49,7 @@
 			</cell>
 			<cell row="5" col="2">
 			<CheckButton name="File3">
-			<text-caption style="button">Savegame 123456789</text-caption>
+				<text-caption style="boxtext">Savegame 123456789012345678901234567890</text-caption>
 				<image src="images/gui/buttons/savebutton.png"/>
 				<image-hover src="images/gui/buttons/savebutton-hover.png"/>
 				<image-clicked src="images/gui/buttons/savebutton-clicked.png"/>
@@ -58,7 +58,7 @@
 			</cell>
 			<cell row="6" col="2">
 			<CheckButton name="File4">
-				<text-caption style="button">Savegame 123456789</text-caption>
+				<text-caption style="boxtext">Savegame 123456789012345678901234567890</text-caption>
 				<image src="images/gui/buttons/savebutton.png"/>
 				<image-hover src="images/gui/buttons/savebutton-hover.png"/>
 				<image-clicked src="images/gui/buttons/savebutton-clicked.png"/>
@@ -67,7 +67,7 @@
 			</cell>
 			<cell row="7" col="2">
 			<CheckButton name="File5">
-				<text-caption style="button">Savegame 123456789</text-caption>
+				<text-caption style="boxtext">Savegame 123456789012345678901234567890</text-caption>
 				<image src="images/gui/buttons/savebutton.png"/>
 				<image-hover src="images/gui/buttons/savebutton-hover.png"/>
 				<image-clicked src="images/gui/buttons/savebutton-clicked.png"/>

Modified: trunk/data/gui/mainmenu.xml
===================================================================
--- trunk/data/gui/mainmenu.xml	2007-04-19 21:29:06 UTC (rev 1192)
+++ trunk/data/gui/mainmenu.xml	2007-04-20 12:46:03 UTC (rev 1193)
@@ -7,6 +7,7 @@
 	<!-- Menus -->
 	<DefineStyle name="menutitle" color="black" font-size="50" halign="center"/>
 	<DefineStyle name="listtitle" color="black" font-size="30"/>		
+	<DefineStyle name="boxtext" color="blue" font-size="16" margin-left="10"/>
 	<DefineStyle name="button" color="blue" font-size="30" margin-left="20" margin-right="20"/>
 	<DefineStyle name="dialogbutton" color="white" font-size="20" margin-left="20" margin-right="20"/>
 	<DefineStyle name="button-hover" color="red" font-size="30" margin-left="20" margin-right="20"/>

Modified: trunk/data/gui/savegame.xml
===================================================================
--- trunk/data/gui/savegame.xml	2007-04-19 21:29:06 UTC (rev 1192)
+++ trunk/data/gui/savegame.xml	2007-04-20 12:46:03 UTC (rev 1193)
@@ -24,7 +24,7 @@
 			-->
 			<cell row="2" col="2">
 			<CheckButton name="File0">
-				<text-caption style="button">Savegame 123456789</text-caption>
+				<text-caption style="boxtext">Savegame 123456789012345678901234567890</text-caption>
 				<image src="images/gui/buttons/savebutton.png"/>
 				<image-hover src="images/gui/buttons/savebutton-hover.png"/>
 				<image-clicked src="images/gui/buttons/savebutton-clicked.png"/>
@@ -33,7 +33,7 @@
 			</cell>
 			<cell row="3" col="2">
 			<CheckButton name="File1">
-				<text-caption style="button">Savegame 123456789</text-caption>
+				<text-caption style="boxtext">Savegame 123456789012345678901234567890</text-caption>
 				<image src="images/gui/buttons/savebutton.png"/>
 				<image-hover src="images/gui/buttons/savebutton-hover.png"/>
 				<image-clicked src="images/gui/buttons/savebutton-clicked.png"/>
@@ -42,7 +42,7 @@
 			</cell>
 			<cell row="4" col="2">
 			<CheckButton name="File2">
-				<text-caption style="button">Savegame 123456789</text-caption>
+				<text-caption style="boxtext">Savegame 123456789012345678901234567890</text-caption>
 				<image src="images/gui/buttons/savebutton.png"/>
 				<image-hover src="images/gui/buttons/savebutton-hover.png"/>
 				<image-clicked src="images/gui/buttons/savebutton-clicked.png"/>
@@ -51,7 +51,7 @@
 			</cell>
 			<cell row="5" col="2">
 			<CheckButton name="File3">
-			<text-caption style="button">Savegame 123456789</text-caption>
+			<text-caption style="boxtext">Savegame 123456789012345678901234567890</text-caption>
 				<image src="images/gui/buttons/savebutton.png"/>
 				<image-hover src="images/gui/buttons/savebutton-hover.png"/>
 				<image-clicked src="images/gui/buttons/savebutton-clicked.png"/>
@@ -60,7 +60,7 @@
 			</cell>
 			<cell row="6" col="2">
 			<CheckButton name="File4">
-				<text-caption style="button">Savegame 123456789</text-caption>
+				<text-caption style="boxtext">Savegame 123456789012345678901234567890</text-caption>
 				<image src="images/gui/buttons/savebutton.png"/>
 				<image-hover src="images/gui/buttons/savebutton-hover.png"/>
 				<image-clicked src="images/gui/buttons/savebutton-clicked.png"/>
@@ -69,7 +69,7 @@
 			</cell>
 			<cell row="7" col="2">
 			<CheckButton name="File5">
-				<text-caption style="button">Savegame 123456789</text-caption>
+				<text-caption style="boxtext">Savegame 123456789012345678901234567890</text-caption>
 				<image src="images/gui/buttons/savebutton.png"/>
 				<image-hover src="images/gui/buttons/savebutton-hover.png"/>
 				<image-clicked src="images/gui/buttons/savebutton-clicked.png"/>

Modified: trunk/src/lincity-ng/MainMenu.cpp
===================================================================
--- trunk/src/lincity-ng/MainMenu.cpp	2007-04-19 21:29:06 UTC (rev 1192)
+++ trunk/src/lincity-ng/MainMenu.cpp	2007-04-20 12:46:03 UTC (rev 1193)
@@ -672,11 +672,37 @@
         std::cout << "remove( " << mFilename << ")\n";
         remove( mFilename.c_str() );
     }
+    /* Build filename */
     std::stringstream newStart;
-    newStart << slotNr << "_" << (1900 + datetime->tm_year) << "-";
+    newStart << slotNr << "_";
     newStart << std::setfill('0') << std::setw(2);
-    newStart << datetime->tm_mon+1 << "-" << datetime->tm_mday << "_";
-    newStart << datetime->tm_hour << "_" << datetime->tm_min;
+    newStart << ( -100 + datetime->tm_year);
+    newStart << std::setfill('0') << std::setw(2);
+    newStart << datetime->tm_mon+1 << datetime->tm_mday << "-";
+    newStart << std::setfill('0') << std::setw(2);
+    newStart << datetime->tm_hour;
+    newStart << std::setfill('0') << std::setw(2);
+    newStart << datetime->tm_min;
+    newStart << "_Tech";
+    newStart << std::setfill('0') << std::setw(3);
+    newStart << tech_level/10000;
+    newStart << "_Cash";
+    if (total_money >= 0)
+    	newStart << "+";
+    else
+    	newStart << "-";
+    newStart << std::setfill('0') << std::setw(3);
+    int money = abs(total_money);
+    if (money > 1000000) {
+	newStart << money/1000000 << "M";  
+    } else  if(money > 1000){
+	newStart << money/1000 << "K"; 
+    } else {
+	newStart << money/1 << "_";
+    }
+    newStart << "_P";
+    newStart << std::setfill('0') << std::setw(5);
+    newStart << housed_population + people_pool;
     std::string newFilename( newStart.str() ); 
     saveCityNG( newFilename );
     fillLoadMenu( true );



From alainb at mail.berlios.de  Fri Apr 20 15:25:02 2007
From: alainb at mail.berlios.de (alainb at BerliOS)
Date: Fri, 20 Apr 2007 15:25:02 +0200
Subject: [Lincity-ng-commit] r1194 - trunk/src/lincity/modules
Message-ID: <200704201325.l3KDP2SU005548@sheep.berlios.de>

Author: alainb
Date: 2007-04-20 15:25:01 +0200 (Fri, 20 Apr 2007)
New Revision: 1194

Modified:
   trunk/src/lincity/modules/blacksmith.cpp
Log:
correct fix for 1189

Modified: trunk/src/lincity/modules/blacksmith.cpp
===================================================================
--- trunk/src/lincity/modules/blacksmith.cpp	2007-04-20 12:46:03 UTC (rev 1193)
+++ trunk/src/lincity/modules/blacksmith.cpp	2007-04-20 13:25:01 UTC (rev 1194)
@@ -41,13 +41,13 @@
 		MP_INFO(x,y).int_7 = BLACKSMITH_JOBS;
   }
 
-  if (MP_INFO(x,y).int_7 == BLACKSMITH_JOBS) {
+  if (MP_INFO(x,y).int_7 >= BLACKSMITH_JOBS) {
 	if (MP_INFO(x,y).int_1 > GOODS_MADE_BY_BLACKSMITH) {
 		if (put_goods (x, y, GOODS_MADE_BY_BLACKSMITH - 1) != 0) {
 		      MP_INFO(x,y).int_1 -= (GOODS_MADE_BY_BLACKSMITH - 1);
 		      MP_INFO(x,y).int_2 += (GOODS_MADE_BY_BLACKSMITH - 1);
 		      MP_INFO(x,y).int_5++;
-		      MP_INFO(x,y).int_7 = 0;
+		      MP_INFO(x,y).int_7 -= BLACKSMITH_JOBS;
 		}
 	}
   } else {



From asmbsd at mail.berlios.de  Fri Apr 20 21:48:17 2007
From: asmbsd at mail.berlios.de (asmbsd at mail.berlios.de)
Date: Fri, 20 Apr 2007 21:48:17 +0200
Subject: [Lincity-ng-commit] r1196 - trunk/data/help/ru
Message-ID: <200704201948.l3KJmHfZ010474@sheep.berlios.de>

Author: asmbsd
Date: 2007-04-20 21:48:14 +0200 (Fri, 20 Apr 2007)
New Revision: 1196

Added:
   trunk/data/help/ru/dialogs.xml
   trunk/data/help/ru/economy.xml
Log:
Update Russian translations..


Added: trunk/data/help/ru/dialogs.xml
===================================================================
--- trunk/data/help/ru/dialogs.xml	2007-04-20 15:35:09 UTC (rev 1195)
+++ trunk/data/help/ru/dialogs.xml	2007-04-20 19:48:14 UTC (rev 1196)
@@ -0,0 +1,15 @@
+<?xml version="1.0" encoding="utf-8"?>
+<Document style="helpdocument">
+	<p style="htitle">??????</p>
+    <p>Map-Tab</p>
+    <li><a href="mini-screen">???? ?????</a></li>
+    <p>Markets-Tab</p>
+	<li><a href="pbar">?????? ????????</a></li>
+    <p>$-Tab</p>
+	<li><a href="finance">???????</a></li>
+	<li><a href="other-costs">?????? ????</a></li>
+	<li><a href="housing">?????????</a></li>
+    <p>Eco-Tab</p>
+	<li><a href="economy">??????? ?????????</a></li>
+	<li><a href="sustain">?????? ???????? ???? </a></li>
+</Document>

Added: trunk/data/help/ru/economy.xml
===================================================================
--- trunk/data/help/ru/economy.xml	2007-04-20 15:35:09 UTC (rev 1195)
+++ trunk/data/help/ru/economy.xml	2007-04-20 19:48:14 UTC (rev 1196)
@@ -0,0 +1,25 @@
+<?xml version="1.0"?>
+<Document style="helpdocument">
+	<p style="htitle">?????? ?????????</p>
+	<p style="hp">????????????? ?????? ???????? ?????? ??????? ?????. ??? ?????????? ???????? ????????????? ???????.</p>
+	<li>
+		<span color="brown">?????????</span>	(??????????) 
+        ?????????? ????? ?????????? ?????????.
+        ??? ??????????? ?????????? ? ??????????.
+	</li>
+	<li>
+		<span color="blue">?????????</span> (?????) 
+        ????? ????? ?????????? ?????, ??????? ??????? ?????.
+	?????? ??????? ??????????????? ???????? ????????? ???????.
+	</li>
+	<li>
+		<span color="yellow">???????????</span> (??????) 
+	???? ?????? ???? ?????????? ???-?? ???????????? ?????????.
+		
+	</li>
+	<li>
+		<span color="red">?????????</span> (???????) 
+		??????? ???? ??????????, ??????? ????????? ?????. 
+		??? ? ????? ?????? ??????, ?? ???????? ????? ??????.
+	</li>
+</Document>



From alainb at mail.berlios.de  Mon Apr 23 20:29:47 2007
From: alainb at mail.berlios.de (alainb at BerliOS)
Date: Mon, 23 Apr 2007 20:29:47 +0200
Subject: [Lincity-ng-commit] r1197 - trunk/src/lincity
Message-ID: <200704231829.l3NITlpF010584@sheep.berlios.de>

Author: alainb
Date: 2007-04-23 20:29:46 +0200 (Mon, 23 Apr 2007)
New Revision: 1197

Modified:
   trunk/src/lincity/lclib.cpp
Log:
change displayed unit for power. Lincity-ng unit is 1kW

Modified: trunk/src/lincity/lclib.cpp
===================================================================
--- trunk/src/lincity/lclib.cpp	2007-04-20 19:48:14 UTC (rev 1196)
+++ trunk/src/lincity/lclib.cpp	2007-04-23 18:29:46 UTC (rev 1197)
@@ -114,10 +114,10 @@
     {
     case 0: triplets = ' '; break;
     case 1: triplets = 'k'; break; // kila
-    case 2: triplets = 'm'; break; // mega
-    case 3: triplets = 'g'; break; // giga 
-    case 4: triplets = 't'; break; // tera 
-    case 5: triplets = 'p'; break; // peta
+    case 2: triplets = 'M'; break; // mega
+    case 3: triplets = 'G'; break; // giga 
+    case 4: triplets = 'T'; break; // tera 
+    case 5: triplets = 'P'; break; // peta
     default: triplets = '?'; break;
     }
       
@@ -198,7 +198,8 @@
 void 
 format_power(char * str, size_t size, long power)
 {
-  num_to_ansi_unit(str, size, power, 'w');
+  /* Lincity power unit is 1kW */
+  num_to_ansi_unit(str, size, power*1000, 'W');
 }
 
 int



From alainb at mail.berlios.de  Mon Apr 23 21:36:25 2007
From: alainb at mail.berlios.de (alainb at BerliOS)
Date: Mon, 23 Apr 2007 21:36:25 +0200
Subject: [Lincity-ng-commit] r1198 - trunk/src/lincity-ng
Message-ID: <200704231936.l3NJaP4u018979@sheep.berlios.de>

Author: alainb
Date: 2007-04-23 21:36:24 +0200 (Mon, 23 Apr 2007)
New Revision: 1198

Modified:
   trunk/src/lincity-ng/Game.cpp
   trunk/src/lincity-ng/GameView.hpp
   trunk/src/lincity-ng/MainMenu.cpp
Log:
Saved file name shows in-game year instead of RL date, and use fs to display the most recent saved game. (btw fix a bug in case of missing 1_game)

Modified: trunk/src/lincity-ng/Game.cpp
===================================================================
--- trunk/src/lincity-ng/Game.cpp	2007-04-23 18:29:46 UTC (rev 1197)
+++ trunk/src/lincity-ng/Game.cpp	2007-04-23 19:36:24 UTC (rev 1198)
@@ -243,7 +243,7 @@
         frame++;
 
         if(ticks - fpsTicks > 1000) {
-#ifdef DEBUG
+#ifdef DEBUG_FPS
             printf("FPS: %d.\n", (frame*1000) / (ticks - fpsTicks));
 #endif
             getEconomyGraph()->newFPS( frame );

Modified: trunk/src/lincity-ng/GameView.hpp
===================================================================
--- trunk/src/lincity-ng/GameView.hpp	2007-04-23 18:29:46 UTC (rev 1197)
+++ trunk/src/lincity-ng/GameView.hpp	2007-04-23 19:36:24 UTC (rev 1198)
@@ -31,6 +31,8 @@
 #include "MapPoint.hpp"
 #include "MiniMap.hpp"
 
+#undef DEBUG_FPS
+
 class GameView : public Component
 {
 public:

Modified: trunk/src/lincity-ng/MainMenu.cpp
===================================================================
--- trunk/src/lincity-ng/MainMenu.cpp	2007-04-23 18:29:46 UTC (rev 1197)
+++ trunk/src/lincity-ng/MainMenu.cpp	2007-04-23 19:36:24 UTC (rev 1198)
@@ -137,15 +137,17 @@
     //read savegames from lc_save_dir so we can use the original save_city()
     DIR* lincityDir = opendir( lc_save_dir );
     if(!lincityDir) {
-#ifdef DEBUG
         std::cerr << "Warning directory " << lc_save_dir << " doesn't exist.\n";
-#endif
         return;
     }
 
     dirent* curfile;
     CheckButton *button;
+
     for(int i=0;i<6;i++) {
+    	dirent* recentfile;
+        PHYSFS_sint64 t = 0;
+
         std::stringstream filestart;
         filestart << i+1 << "_";
         if( save ){
@@ -161,15 +163,31 @@
             button->clicked.connect(makeCallback(*this,&MainMenu::selectLoadGameButtonClicked));
         }
         while( ( curfile = readdir( lincityDir ) ) ) { 
-            if(std::string( curfile->d_name ).find( filestart.str() ) == 0 )
+            if(std::string( curfile->d_name ).find( filestart.str() ) == 0 ) {
                 // && !( curfile->d_type & DT_DIR  ) ) is not portable. So
                 // don't create a directoy named 2_ in a savegame-directory or
                 // you can no longer load from slot 2.
-                break;
+	        if (t == 0) {
+                    recentfile = curfile;
+                    t = PHYSFS_getLastModTime(recentfile->d_name);
+                } else {
+                    if (PHYSFS_getLastModTime(curfile->d_name) > t) {
+#ifdef DEBUG
+                       	fprintf(stderr," %s is more recent than previous %s\n",
+                                                curfile->d_name, recentfile->d_name);
+#endif
+                        recentfile = curfile;
+                        t = PHYSFS_getLastModTime(recentfile->d_name);
+                    }
+                }
+            }
         }
-        
-        if(curfile)  {
-            std::string f= curfile->d_name;
+#ifdef DEBUG
+        fprintf(stderr,"Most recent file: %s\n\n",recentfile->d_name);
+#endif
+
+        if(t != 0) {
+            std::string f= recentfile->d_name;
             button->setCaptionText(f);
         } else {
             button->setCaptionText(_("empty"));
@@ -664,9 +682,6 @@
 void
 MainMenu::loadGameSaveButtonClicked(Button *)
 {
-    time_t now = time(NULL);
-    struct tm* datetime = localtime(&now);
-
     getSound()->playSound( "Click" );
     if( file_exists( const_cast<char*>(mFilename.c_str()) ) ){
         std::cout << "remove( " << mFilename << ")\n";
@@ -674,15 +689,10 @@
     }
     /* Build filename */
     std::stringstream newStart;
-    newStart << slotNr << "_";
-    newStart << std::setfill('0') << std::setw(2);
-    newStart << ( -100 + datetime->tm_year);
-    newStart << std::setfill('0') << std::setw(2);
-    newStart << datetime->tm_mon+1 << datetime->tm_mday << "-";
-    newStart << std::setfill('0') << std::setw(2);
-    newStart << datetime->tm_hour;
-    newStart << std::setfill('0') << std::setw(2);
-    newStart << datetime->tm_min;
+    newStart << slotNr << "_Y";
+    newStart << std::setfill('0') << std::setw(5);
+    fprintf(stderr,"total_time %i\n",total_time);
+    newStart << total_time/1200;
     newStart << "_Tech";
     newStart << std::setfill('0') << std::setw(3);
     newStart << tech_level/10000;
@@ -693,12 +703,14 @@
     	newStart << "-";
     newStart << std::setfill('0') << std::setw(3);
     int money = abs(total_money);
-    if (money > 1000000) {
-	newStart << money/1000000 << "M";  
-    } else  if(money > 1000){
-	newStart << money/1000 << "K"; 
-    } else {
-	newStart << money/1 << "_";
+    if (money > 1000000000) {
+        newStart << money/1000000000 << "G";  
+    else if (money > 1000000)
+        newStart << money/1000000 << "M";  
+    else  if(money > 1000)
+        newStart << money/1000 << "K"; 
+    else
+        newStart << money/1 << "_";
     }
     newStart << "_P";
     newStart << std::setfill('0') << std::setw(5);
@@ -773,7 +785,7 @@
 
         frame++;
         if(SDL_GetTicks() - ticks > 1000) {
-#ifdef DEBUG
+#ifdef DEBUG_FPS
             printf("FPS: %d.\n", frame);
 #endif
             frame = 0;



From alainb at mail.berlios.de  Mon Apr 23 21:41:27 2007
From: alainb at mail.berlios.de (alainb at BerliOS)
Date: Mon, 23 Apr 2007 21:41:27 +0200
Subject: [Lincity-ng-commit] r1199 - trunk/src/lincity-ng
Message-ID: <200704231941.l3NJfRQJ019561@sheep.berlios.de>

Author: alainb
Date: 2007-04-23 21:41:27 +0200 (Mon, 23 Apr 2007)
New Revision: 1199

Modified:
   trunk/src/lincity-ng/MainMenu.cpp
Log:
Fix broken parenthesis in previous patch. Sorry.

Modified: trunk/src/lincity-ng/MainMenu.cpp
===================================================================
--- trunk/src/lincity-ng/MainMenu.cpp	2007-04-23 19:36:24 UTC (rev 1198)
+++ trunk/src/lincity-ng/MainMenu.cpp	2007-04-23 19:41:27 UTC (rev 1199)
@@ -703,7 +703,7 @@
     	newStart << "-";
     newStart << std::setfill('0') << std::setw(3);
     int money = abs(total_money);
-    if (money > 1000000000) {
+    if (money > 1000000000)
         newStart << money/1000000000 << "G";  
     else if (money > 1000000)
         newStart << money/1000000 << "M";  
@@ -711,7 +711,7 @@
         newStart << money/1000 << "K"; 
     else
         newStart << money/1 << "_";
-    }
+ 
     newStart << "_P";
     newStart << std::setfill('0') << std::setw(5);
     newStart << housed_population + people_pool;



From alainb at mail.berlios.de  Fri Apr 27 17:36:51 2007
From: alainb at mail.berlios.de (alainb at BerliOS)
Date: Fri, 27 Apr 2007 17:36:51 +0200
Subject: [Lincity-ng-commit] r1200 - trunk/src/lincity-ng
Message-ID: <200704271536.l3RFapYL004337@sheep.berlios.de>

Author: alainb
Date: 2007-04-27 17:36:51 +0200 (Fri, 27 Apr 2007)
New Revision: 1200

Modified:
   trunk/src/lincity-ng/Dialog.cpp
Log:
tiny reorder in display stat output

Modified: trunk/src/lincity-ng/Dialog.cpp
===================================================================
--- trunk/src/lincity-ng/Dialog.cpp	2007-04-23 19:41:27 UTC (rev 1199)
+++ trunk/src/lincity-ng/Dialog.cpp	2007-04-27 15:36:51 UTC (rev 1200)
@@ -390,6 +390,7 @@
     results << outf << std::endl;
     setParagraphN( "statistic_text", line++, "" );
     results << "" << std::endl;
+
     //as long as Paragraph.cpp stripes leading spaces there has to
     //be something here ----------\ or the stats look strange.
     //                            |
@@ -405,16 +406,6 @@
 	     group_count[GROUP_ORGANIC_FARM]);
     setParagraphN( "statistic_text", line++, outf );
     results << outf << std::endl;
-    snprintf (outf, maxlength, _(".       Tracks %4d           Roads %4d             Rail %4d")
-	     ,group_count[GROUP_TRACK], group_count[GROUP_ROAD]
-	     ,group_count[GROUP_RAIL]);
-    setParagraphN( "statistic_text", line++, outf );
-    results << outf << std::endl;
-    snprintf (outf, maxlength, _(".    Potteries %4d     Blacksmiths %4d            Mills %4d")
-	     ,group_count[GROUP_POTTERY], group_count[GROUP_BLACKSMITH]
-	     ,group_count[GROUP_MILL]);
-    setParagraphN( "statistic_text", line++, outf );
-    results << outf << std::endl;
     snprintf (outf, maxlength, _(".    Monuments %4d         Schools %4d     Universities %4d")
 	     ,group_count[GROUP_MONUMENT], group_count[GROUP_SCHOOL]
 	     ,group_count[GROUP_UNIVERSITY]);
@@ -425,11 +416,14 @@
 	     ,group_count[GROUP_CRICKET]);
     setParagraphN( "statistic_text", line++, outf );
     results << outf << std::endl;
-    snprintf (outf, maxlength, _(".   Coal mines %4d       Ore mines %4d         Communes %4d")
-	     ,group_count[GROUP_COALMINE], group_count[GROUP_OREMINE]
-	     ,group_count[GROUP_COMMUNE]);
+    snprintf (outf, maxlength, _("Health centres %4d            Tips %4d         Shanties %4d"),
+	     group_count[GROUP_HEALTH], group_count[GROUP_TIP],
+	     group_count[GROUP_SHANTY]);
     setParagraphN( "statistic_text", line++, outf );
     results << outf << std::endl;
+    setParagraphN( "statistic_text", line++, "" );
+    results << "" << std::endl;
+
     snprintf (outf, maxlength, _(".    Windmills %4d     Coal powers %4d     Solar powers %4d"),
 	     group_count[GROUP_WINDMILL],
 	     group_count[GROUP_COAL_POWER],
@@ -441,16 +435,30 @@
 	     ,group_count[GROUP_PORT]);
     setParagraphN( "statistic_text", line++, outf );
     results << outf << std::endl;
+    snprintf (outf, maxlength, _(".       Tracks %4d           Roads %4d             Rail %4d")
+	     ,group_count[GROUP_TRACK], group_count[GROUP_ROAD]
+	     ,group_count[GROUP_RAIL]);
+    setParagraphN( "statistic_text", line++, outf );
+    results << outf << std::endl;
+    setParagraphN( "statistic_text", line++, "" );
+    results << "" << std::endl;
+
+    snprintf (outf, maxlength, _(".    Potteries %4d     Blacksmiths %4d            Mills %4d")
+	     ,group_count[GROUP_POTTERY], group_count[GROUP_BLACKSMITH]
+	     ,group_count[GROUP_MILL]);
+    setParagraphN( "statistic_text", line++, outf );
+    results << outf << std::endl;
     snprintf (outf, maxlength, _(".   Light inds %4d      Heavy inds %4d        Recyclers %4d")
 	     ,group_count[GROUP_INDUSTRY_L], group_count[GROUP_INDUSTRY_H]
 	     ,group_count[GROUP_RECYCLE]);
     setParagraphN( "statistic_text", line++, outf );
     results << outf << std::endl;
-    snprintf (outf, maxlength, _("Health centres %4d            Tips %4d         Shanties %4d"),
-	     group_count[GROUP_HEALTH], group_count[GROUP_TIP],
-	     group_count[GROUP_SHANTY]);
+    snprintf (outf, maxlength, _(".   Coal mines %4d       Ore mines %4d         Communes %4d")
+	     ,group_count[GROUP_COALMINE], group_count[GROUP_OREMINE]
+	     ,group_count[GROUP_COMMUNE]);
     setParagraphN( "statistic_text", line++, outf );
     results << outf << std::endl;
+   
     while( line <= 23 ){ //clear remaining lines
         setParagraphN( "statistic_text", line++, "" );
         results << "" << std::endl;



From alainb at mail.berlios.de  Fri Apr 27 17:41:27 2007
From: alainb at mail.berlios.de (alainb at BerliOS)
Date: Fri, 27 Apr 2007 17:41:27 +0200
Subject: [Lincity-ng-commit] r1201 - trunk/data/locale
Message-ID: <200704271541.l3RFfRWk004796@sheep.berlios.de>

Author: alainb
Date: 2007-04-27 17:41:26 +0200 (Fri, 27 Apr 2007)
New Revision: 1201

Modified:
   trunk/data/locale/fr.po
Log:
french translation update

Modified: trunk/data/locale/fr.po
===================================================================
--- trunk/data/locale/fr.po	2007-04-27 15:36:51 UTC (rev 1200)
+++ trunk/data/locale/fr.po	2007-04-27 15:41:26 UTC (rev 1201)
@@ -2,8 +2,10 @@
 # French translation for lincity-ng
 # This file is distributed under the same license as the lincity-ng package.
 # Copyright (C) 2005 THE lincity-ng'S COPYRIGHT HOLDER.
+#
 # Arnaud Quette <arnaud.quette at free.fr>, 2005.
 # Laurent Rocher <rocherl at club-internet.fr>, 2006.
+# alain.baeckeroot at laposte.net 2007
 #
 msgid ""
 msgstr ""
@@ -304,7 +306,7 @@
 
 #: src/lincity/lintypes.cpp:298
 msgid "Rocket pad"
-msgstr "Tir de fus?e"
+msgstr "Base de lancement de fus?e"
 
 #: src/lincity/lintypes.cpp:310
 #: src/lincity/modules/windmill.cpp:73
@@ -447,7 +449,7 @@
 #: src/lincity/modules/firestation.cpp:121
 #: src/lincity/modules/school.cpp:54
 msgid "Inventory"
-msgstr "Inventaire"
+msgstr "Surplus"
 
 #: src/lincity/modules/health_centre.cpp:69
 #: src/lincity/modules/rocket_pad.cpp:170
@@ -484,11 +486,11 @@
 
 #: src/lincity/modules/rocket_pad.cpp:163
 msgid "Rocket Pad"
-msgstr "Tir de fus?e"
+msgstr "Base de lancement de fus?e"
 
 #: src/lincity/modules/rocket_pad.cpp:166
 msgid "Completion"
-msgstr "Accomplissement"
+msgstr "Avancement"
 
 #: src/lincity/modules/rocket_pad.cpp:174
 #: src/lincity/modules/market.cpp:1157
@@ -516,7 +518,7 @@
 
 #: src/lincity/modules/windmill.cpp:83
 msgid "Prod."
-msgstr "Prod."
+msgstr "Production."
 
 #: src/lincity/modules/windmill.cpp:86
 #: src/lincity/modules/windmill.cpp:101
@@ -527,17 +529,17 @@
 #: src/lincity/modules/windmill.cpp:92
 #: src/lincity/modules/substation.cpp:99
 msgid "Grid Status"
-msgstr ""
+msgstr "Status du r?seau"
 
 #: src/lincity/modules/windmill.cpp:95
 #: src/lincity/modules/substation.cpp:102
 msgid "T. Cap."
-msgstr ""
+msgstr "Capacit? maximale"
 
 #: src/lincity/modules/windmill.cpp:98
 #: src/lincity/modules/substation.cpp:105
 msgid "A. Cap."
-msgstr ""
+msgstr "Capacit? actuelle"
 
 #: src/lincity/modules/windmill.cpp:104
 #: src/lincity/modules/coal_power.cpp:109
@@ -545,7 +547,7 @@
 #: src/lincity/modules/power_line.cpp:53
 #: src/lincity/modules/solar_power.cpp:60
 msgid "Grid ID"
-msgstr ""
+msgstr "Num?ro de r?seau"
 
 #: src/lincity/modules/water.cpp:22
 #: src/lincity/modules/commune.cpp:151
@@ -671,7 +673,7 @@
 
 #: src/lincity/modules/residence.cpp:277
 msgid "People"
-msgstr "Gens"
+msgstr "Habitants"
 
 #: src/lincity/modules/residence.cpp:283
 msgid "Fed"
@@ -751,12 +753,12 @@
 #: src/lincity/modules/heavy_industry.cpp:339
 #: src/lincity/modules/light_industry.cpp:362
 msgid "Output"
-msgstr "Rendement"
+msgstr "Production"
 
 #: src/lincity/modules/heavy_industry.cpp:340
 #: src/lincity/modules/light_industry.cpp:364
 msgid "Store"
-msgstr "Magasin"
+msgstr "R?serve"
 
 #: src/lincity/modules/market.cpp:1147
 #: src/lincity/modules/port.cpp:178
@@ -784,12 +786,12 @@
 #: src/lincity/modules/coal_power.cpp:94
 #: src/lincity/modules/solar_power.cpp:49
 msgid "Max Output"
-msgstr "Rendement Max"
+msgstr "Production Max"
 
 #: src/lincity/modules/coal_power.cpp:99
 #: src/lincity/modules/solar_power.cpp:54
 msgid "Current Output"
-msgstr "Rendement Courant"
+msgstr "Production actuelle"
 
 #: src/lincity/modules/substation.cpp:95
 msgid "Local Demand"
@@ -975,7 +977,7 @@
 
 #: src/lincity-ng/GameView.cpp:236
 msgid "Minimap: outline map"
-msgstr "Minicarte : carte d'ensemble"
+msgstr "Minicarte : vue d'ensemble"
 
 #: src/lincity-ng/GameView.cpp:239
 msgid "Minimap: unemployment"
@@ -1114,7 +1116,7 @@
 
 #: src/lincity-ng/MpsInterface.cpp:407
 msgid "death!"
-msgstr "mortelle"
+msgstr "mortelle !"
 
 #: src/lincity-ng/MpsInterface.cpp:412
 msgid "Bulldoze Cost"
@@ -1178,7 +1180,7 @@
 
 #: src/lincity-ng/MpsInterface.cpp:502
 msgid "Univers."
-msgstr "Univers."
+msgstr "Universit?s"
 
 #: src/lincity-ng/MpsInterface.cpp:504
 msgid "Deaths"
@@ -1202,7 +1204,7 @@
 
 #: src/lincity-ng/MpsInterface.cpp:533
 msgid "Housed"
-msgstr "Log?"
+msgstr "Log?s"
 
 #: src/lincity-ng/MpsInterface.cpp:534
 msgid "Homeless"
@@ -1210,7 +1212,7 @@
 
 #: src/lincity-ng/MpsInterface.cpp:535
 msgid "Shanties"
-msgstr "Huttes"
+msgstr "Bidonvilles"
 
 #: src/lincity-ng/MpsInterface.cpp:536
 msgid "Unn Dths"



From alainb at mail.berlios.de  Fri Apr 27 18:55:18 2007
From: alainb at mail.berlios.de (alainb at BerliOS)
Date: Fri, 27 Apr 2007 18:55:18 +0200
Subject: [Lincity-ng-commit] r1202 - in trunk/src: gui lincity-ng
Message-ID: <200704271655.l3RGtIak012042@sheep.berlios.de>

Author: alainb
Date: 2007-04-27 18:55:16 +0200 (Fri, 27 Apr 2007)
New Revision: 1202

Modified:
   trunk/src/gui/ScrollView.cpp
   trunk/src/lincity-ng/Game.cpp
   trunk/src/lincity-ng/MainMenu.cpp
   trunk/src/lincity-ng/Util.cpp
Log:
some comments and minor changes wrt to wheelspeed and ifdef debug

Modified: trunk/src/gui/ScrollView.cpp
===================================================================
--- trunk/src/gui/ScrollView.cpp	2007-04-27 15:41:26 UTC (rev 1201)
+++ trunk/src/gui/ScrollView.cpp	2007-04-27 16:55:16 UTC (rev 1202)
@@ -28,7 +28,7 @@
 #include "Event.hpp"
 #include "callback/Callback.hpp"
 
-static const float MOUSEWHEELSCROLL = 30;
+static const float MOUSEWHEELSCROLL = 90;
 
 ScrollView::ScrollView()
 {

Modified: trunk/src/lincity-ng/Game.cpp
===================================================================
--- trunk/src/lincity-ng/Game.cpp	2007-04-27 15:41:26 UTC (rev 1201)
+++ trunk/src/lincity-ng/Game.cpp	2007-04-27 16:55:16 UTC (rev 1202)
@@ -236,9 +236,15 @@
         if(desktop->needsRedraw()) {
             desktop->draw(*painter);
             flipScreenBuffer();
+            // Should we give the CPU some time to relax ?
+            // SDL_Delay(10); 
         } else {
             // give the CPU time to relax...
             SDL_Delay(10);
+            // On athlon-xp 2200+ (1600MHz) this is the limiting factor for max_speed
+            // Removing it gives approximately the same speed as old-ng = 4.0 s/year
+            // instead of 24s/year with delay 10.
+            // SDL doc says to rely on at least 10 ms granurality.
         }
         frame++;
 

Modified: trunk/src/lincity-ng/MainMenu.cpp
===================================================================
--- trunk/src/lincity-ng/MainMenu.cpp	2007-04-27 15:41:26 UTC (rev 1201)
+++ trunk/src/lincity-ng/MainMenu.cpp	2007-04-27 16:55:16 UTC (rev 1202)
@@ -775,13 +775,13 @@
             }
         }
 
+        // give the CPU time to relax... (we are in main menu)
+        SDL_Delay(10);
+
         if(currentMenu->needsRedraw()) {
             currentMenu->draw(*painter);
             flipScreenBuffer();
-        } else {
-            // give the CPU time to relax...
-            SDL_Delay(25);
-        }
+        } 
 
         frame++;
         if(SDL_GetTicks() - ticks > 1000) {

Modified: trunk/src/lincity-ng/Util.cpp
===================================================================
--- trunk/src/lincity-ng/Util.cpp	2007-04-27 15:41:26 UTC (rev 1201)
+++ trunk/src/lincity-ng/Util.cpp	2007-04-27 16:55:16 UTC (rev 1202)
@@ -33,13 +33,16 @@
 void findComponent(T** result, Component& tree, const std::string& name)
 {
     Component* component = tree.findComponent(name);
+#ifdef DEBUG
     if(!component) {
         std::stringstream msg;
         msg << "GUI file didn't define '" << name << "' (type "
             << typeid(T).name() << ")";
         throw std::runtime_error(msg.str());
     }
+#endif
     T* casted_component = dynamic_cast<T*> (component);
+#ifdef DEBUG
     if(!casted_component) {
         std::stringstream msg;
         msg << "Component '" << name << "' is of type "
@@ -47,6 +50,7 @@
             << typeid(T).name() << " is expected.";
         throw std::runtime_error(msg.str());
     }
+#endif
     *result = casted_component;
 }
 



From alainb at mail.berlios.de  Fri Apr 27 19:23:44 2007
From: alainb at mail.berlios.de (alainb at BerliOS)
Date: Fri, 27 Apr 2007 19:23:44 +0200
Subject: [Lincity-ng-commit] r1203 - in branches/waterwell: data/help/ru
	data/locale doc src/gui src/lincity src/lincity-ng
Message-ID: <200704271723.l3RHNiHW023077@sheep.berlios.de>

Author: alainb
Date: 2007-04-27 19:23:43 +0200 (Fri, 27 Apr 2007)
New Revision: 1203

Added:
   branches/waterwell/data/help/ru/dialogs.xml
   branches/waterwell/data/help/ru/economy.xml
   branches/waterwell/doc/units
Modified:
   branches/waterwell/data/locale/fr.po
   branches/waterwell/src/gui/ScrollView.cpp
   branches/waterwell/src/lincity-ng/Dialog.cpp
   branches/waterwell/src/lincity-ng/Game.cpp
   branches/waterwell/src/lincity-ng/GameView.hpp
   branches/waterwell/src/lincity-ng/MainMenu.cpp
   branches/waterwell/src/lincity-ng/Util.cpp
   branches/waterwell/src/lincity/lclib.cpp
Log:
MERGED trunk 1195:1202

Copied: branches/waterwell/data/help/ru/dialogs.xml (from rev 1202, trunk/data/help/ru/dialogs.xml)

Copied: branches/waterwell/data/help/ru/economy.xml (from rev 1202, trunk/data/help/ru/economy.xml)

Modified: branches/waterwell/data/locale/fr.po
===================================================================
--- branches/waterwell/data/locale/fr.po	2007-04-27 16:55:16 UTC (rev 1202)
+++ branches/waterwell/data/locale/fr.po	2007-04-27 17:23:43 UTC (rev 1203)
@@ -2,8 +2,10 @@
 # French translation for lincity-ng
 # This file is distributed under the same license as the lincity-ng package.
 # Copyright (C) 2005 THE lincity-ng'S COPYRIGHT HOLDER.
+#
 # Arnaud Quette <arnaud.quette at free.fr>, 2005.
 # Laurent Rocher <rocherl at club-internet.fr>, 2006.
+# alain.baeckeroot at laposte.net 2007
 #
 msgid ""
 msgstr ""
@@ -304,7 +306,7 @@
 
 #: src/lincity/lintypes.cpp:298
 msgid "Rocket pad"
-msgstr "Tir de fus?e"
+msgstr "Base de lancement de fus?e"
 
 #: src/lincity/lintypes.cpp:310
 #: src/lincity/modules/windmill.cpp:73
@@ -447,7 +449,7 @@
 #: src/lincity/modules/firestation.cpp:121
 #: src/lincity/modules/school.cpp:54
 msgid "Inventory"
-msgstr "Inventaire"
+msgstr "Surplus"
 
 #: src/lincity/modules/health_centre.cpp:69
 #: src/lincity/modules/rocket_pad.cpp:170
@@ -484,11 +486,11 @@
 
 #: src/lincity/modules/rocket_pad.cpp:163
 msgid "Rocket Pad"
-msgstr "Tir de fus?e"
+msgstr "Base de lancement de fus?e"
 
 #: src/lincity/modules/rocket_pad.cpp:166
 msgid "Completion"
-msgstr "Accomplissement"
+msgstr "Avancement"
 
 #: src/lincity/modules/rocket_pad.cpp:174
 #: src/lincity/modules/market.cpp:1157
@@ -516,7 +518,7 @@
 
 #: src/lincity/modules/windmill.cpp:83
 msgid "Prod."
-msgstr "Prod."
+msgstr "Production."
 
 #: src/lincity/modules/windmill.cpp:86
 #: src/lincity/modules/windmill.cpp:101
@@ -527,17 +529,17 @@
 #: src/lincity/modules/windmill.cpp:92
 #: src/lincity/modules/substation.cpp:99
 msgid "Grid Status"
-msgstr ""
+msgstr "Status du r?seau"
 
 #: src/lincity/modules/windmill.cpp:95
 #: src/lincity/modules/substation.cpp:102
 msgid "T. Cap."
-msgstr ""
+msgstr "Capacit? maximale"
 
 #: src/lincity/modules/windmill.cpp:98
 #: src/lincity/modules/substation.cpp:105
 msgid "A. Cap."
-msgstr ""
+msgstr "Capacit? actuelle"
 
 #: src/lincity/modules/windmill.cpp:104
 #: src/lincity/modules/coal_power.cpp:109
@@ -545,7 +547,7 @@
 #: src/lincity/modules/power_line.cpp:53
 #: src/lincity/modules/solar_power.cpp:60
 msgid "Grid ID"
-msgstr ""
+msgstr "Num?ro de r?seau"
 
 #: src/lincity/modules/water.cpp:22
 #: src/lincity/modules/commune.cpp:151
@@ -671,7 +673,7 @@
 
 #: src/lincity/modules/residence.cpp:277
 msgid "People"
-msgstr "Gens"
+msgstr "Habitants"
 
 #: src/lincity/modules/residence.cpp:283
 msgid "Fed"
@@ -751,12 +753,12 @@
 #: src/lincity/modules/heavy_industry.cpp:339
 #: src/lincity/modules/light_industry.cpp:362
 msgid "Output"
-msgstr "Rendement"
+msgstr "Production"
 
 #: src/lincity/modules/heavy_industry.cpp:340
 #: src/lincity/modules/light_industry.cpp:364
 msgid "Store"
-msgstr "Magasin"
+msgstr "R?serve"
 
 #: src/lincity/modules/market.cpp:1147
 #: src/lincity/modules/port.cpp:178
@@ -784,12 +786,12 @@
 #: src/lincity/modules/coal_power.cpp:94
 #: src/lincity/modules/solar_power.cpp:49
 msgid "Max Output"
-msgstr "Rendement Max"
+msgstr "Production Max"
 
 #: src/lincity/modules/coal_power.cpp:99
 #: src/lincity/modules/solar_power.cpp:54
 msgid "Current Output"
-msgstr "Rendement Courant"
+msgstr "Production actuelle"
 
 #: src/lincity/modules/substation.cpp:95
 msgid "Local Demand"
@@ -975,7 +977,7 @@
 
 #: src/lincity-ng/GameView.cpp:236
 msgid "Minimap: outline map"
-msgstr "Minicarte : carte d'ensemble"
+msgstr "Minicarte : vue d'ensemble"
 
 #: src/lincity-ng/GameView.cpp:239
 msgid "Minimap: unemployment"
@@ -1114,7 +1116,7 @@
 
 #: src/lincity-ng/MpsInterface.cpp:407
 msgid "death!"
-msgstr "mortelle"
+msgstr "mortelle !"
 
 #: src/lincity-ng/MpsInterface.cpp:412
 msgid "Bulldoze Cost"
@@ -1178,7 +1180,7 @@
 
 #: src/lincity-ng/MpsInterface.cpp:502
 msgid "Univers."
-msgstr "Univers."
+msgstr "Universit?s"
 
 #: src/lincity-ng/MpsInterface.cpp:504
 msgid "Deaths"
@@ -1202,7 +1204,7 @@
 
 #: src/lincity-ng/MpsInterface.cpp:533
 msgid "Housed"
-msgstr "Log?"
+msgstr "Log?s"
 
 #: src/lincity-ng/MpsInterface.cpp:534
 msgid "Homeless"
@@ -1210,7 +1212,7 @@
 
 #: src/lincity-ng/MpsInterface.cpp:535
 msgid "Shanties"
-msgstr "Huttes"
+msgstr "Bidonvilles"
 
 #: src/lincity-ng/MpsInterface.cpp:536
 msgid "Unn Dths"

Added: branches/waterwell/doc/units
===================================================================

Modified: branches/waterwell/src/gui/ScrollView.cpp
===================================================================
--- branches/waterwell/src/gui/ScrollView.cpp	2007-04-27 16:55:16 UTC (rev 1202)
+++ branches/waterwell/src/gui/ScrollView.cpp	2007-04-27 17:23:43 UTC (rev 1203)
@@ -28,7 +28,7 @@
 #include "Event.hpp"
 #include "callback/Callback.hpp"
 
-static const float MOUSEWHEELSCROLL = 30;
+static const float MOUSEWHEELSCROLL = 90;
 
 ScrollView::ScrollView()
 {

Modified: branches/waterwell/src/lincity/lclib.cpp
===================================================================
--- branches/waterwell/src/lincity/lclib.cpp	2007-04-27 16:55:16 UTC (rev 1202)
+++ branches/waterwell/src/lincity/lclib.cpp	2007-04-27 17:23:43 UTC (rev 1203)
@@ -114,10 +114,10 @@
     {
     case 0: triplets = ' '; break;
     case 1: triplets = 'k'; break; // kila
-    case 2: triplets = 'm'; break; // mega
-    case 3: triplets = 'g'; break; // giga 
-    case 4: triplets = 't'; break; // tera 
-    case 5: triplets = 'p'; break; // peta
+    case 2: triplets = 'M'; break; // mega
+    case 3: triplets = 'G'; break; // giga 
+    case 4: triplets = 'T'; break; // tera 
+    case 5: triplets = 'P'; break; // peta
     default: triplets = '?'; break;
     }
       
@@ -198,7 +198,8 @@
 void 
 format_power(char * str, size_t size, long power)
 {
-  num_to_ansi_unit(str, size, power, 'w');
+  /* Lincity power unit is 1kW */
+  num_to_ansi_unit(str, size, power*1000, 'W');
 }
 
 int

Modified: branches/waterwell/src/lincity-ng/Dialog.cpp
===================================================================
--- branches/waterwell/src/lincity-ng/Dialog.cpp	2007-04-27 16:55:16 UTC (rev 1202)
+++ branches/waterwell/src/lincity-ng/Dialog.cpp	2007-04-27 17:23:43 UTC (rev 1203)
@@ -390,6 +390,7 @@
     results << outf << std::endl;
     setParagraphN( "statistic_text", line++, "" );
     results << "" << std::endl;
+
     //as long as Paragraph.cpp stripes leading spaces there has to
     //be something here ----------\ or the stats look strange.
     //                            |
@@ -405,16 +406,6 @@
 	     group_count[GROUP_ORGANIC_FARM]);
     setParagraphN( "statistic_text", line++, outf );
     results << outf << std::endl;
-    snprintf (outf, maxlength, _(".       Tracks %4d           Roads %4d             Rail %4d")
-	     ,group_count[GROUP_TRACK], group_count[GROUP_ROAD]
-	     ,group_count[GROUP_RAIL]);
-    setParagraphN( "statistic_text", line++, outf );
-    results << outf << std::endl;
-    snprintf (outf, maxlength, _(".    Potteries %4d     Blacksmiths %4d            Mills %4d")
-	     ,group_count[GROUP_POTTERY], group_count[GROUP_BLACKSMITH]
-	     ,group_count[GROUP_MILL]);
-    setParagraphN( "statistic_text", line++, outf );
-    results << outf << std::endl;
     snprintf (outf, maxlength, _(".    Monuments %4d         Schools %4d     Universities %4d")
 	     ,group_count[GROUP_MONUMENT], group_count[GROUP_SCHOOL]
 	     ,group_count[GROUP_UNIVERSITY]);
@@ -425,11 +416,14 @@
 	     ,group_count[GROUP_CRICKET]);
     setParagraphN( "statistic_text", line++, outf );
     results << outf << std::endl;
-    snprintf (outf, maxlength, _(".   Coal mines %4d       Ore mines %4d         Communes %4d")
-	     ,group_count[GROUP_COALMINE], group_count[GROUP_OREMINE]
-	     ,group_count[GROUP_COMMUNE]);
+    snprintf (outf, maxlength, _("Health centres %4d            Tips %4d         Shanties %4d"),
+	     group_count[GROUP_HEALTH], group_count[GROUP_TIP],
+	     group_count[GROUP_SHANTY]);
     setParagraphN( "statistic_text", line++, outf );
     results << outf << std::endl;
+    setParagraphN( "statistic_text", line++, "" );
+    results << "" << std::endl;
+
     snprintf (outf, maxlength, _(".    Windmills %4d     Coal powers %4d     Solar powers %4d"),
 	     group_count[GROUP_WINDMILL],
 	     group_count[GROUP_COAL_POWER],
@@ -441,16 +435,30 @@
 	     ,group_count[GROUP_PORT]);
     setParagraphN( "statistic_text", line++, outf );
     results << outf << std::endl;
+    snprintf (outf, maxlength, _(".       Tracks %4d           Roads %4d             Rail %4d")
+	     ,group_count[GROUP_TRACK], group_count[GROUP_ROAD]
+	     ,group_count[GROUP_RAIL]);
+    setParagraphN( "statistic_text", line++, outf );
+    results << outf << std::endl;
+    setParagraphN( "statistic_text", line++, "" );
+    results << "" << std::endl;
+
+    snprintf (outf, maxlength, _(".    Potteries %4d     Blacksmiths %4d            Mills %4d")
+	     ,group_count[GROUP_POTTERY], group_count[GROUP_BLACKSMITH]
+	     ,group_count[GROUP_MILL]);
+    setParagraphN( "statistic_text", line++, outf );
+    results << outf << std::endl;
     snprintf (outf, maxlength, _(".   Light inds %4d      Heavy inds %4d        Recyclers %4d")
 	     ,group_count[GROUP_INDUSTRY_L], group_count[GROUP_INDUSTRY_H]
 	     ,group_count[GROUP_RECYCLE]);
     setParagraphN( "statistic_text", line++, outf );
     results << outf << std::endl;
-    snprintf (outf, maxlength, _("Health centres %4d            Tips %4d         Shanties %4d"),
-	     group_count[GROUP_HEALTH], group_count[GROUP_TIP],
-	     group_count[GROUP_SHANTY]);
+    snprintf (outf, maxlength, _(".   Coal mines %4d       Ore mines %4d         Communes %4d")
+	     ,group_count[GROUP_COALMINE], group_count[GROUP_OREMINE]
+	     ,group_count[GROUP_COMMUNE]);
     setParagraphN( "statistic_text", line++, outf );
     results << outf << std::endl;
+   
     while( line <= 23 ){ //clear remaining lines
         setParagraphN( "statistic_text", line++, "" );
         results << "" << std::endl;

Modified: branches/waterwell/src/lincity-ng/Game.cpp
===================================================================
--- branches/waterwell/src/lincity-ng/Game.cpp	2007-04-27 16:55:16 UTC (rev 1202)
+++ branches/waterwell/src/lincity-ng/Game.cpp	2007-04-27 17:23:43 UTC (rev 1203)
@@ -236,14 +236,20 @@
         if(desktop->needsRedraw()) {
             desktop->draw(*painter);
             flipScreenBuffer();
+            // Should we give the CPU some time to relax ?
+            // SDL_Delay(10); 
         } else {
             // give the CPU time to relax...
             SDL_Delay(10);
+            // On athlon-xp 2200+ (1600MHz) this is the limiting factor for max_speed
+            // Removing it gives approximately the same speed as old-ng = 4.0 s/year
+            // instead of 24s/year with delay 10.
+            // SDL doc says to rely on at least 10 ms granurality.
         }
         frame++;
 
         if(ticks - fpsTicks > 1000) {
-#ifdef DEBUG
+#ifdef DEBUG_FPS
             printf("FPS: %d.\n", (frame*1000) / (ticks - fpsTicks));
 #endif
             getEconomyGraph()->newFPS( frame );

Modified: branches/waterwell/src/lincity-ng/GameView.hpp
===================================================================
--- branches/waterwell/src/lincity-ng/GameView.hpp	2007-04-27 16:55:16 UTC (rev 1202)
+++ branches/waterwell/src/lincity-ng/GameView.hpp	2007-04-27 17:23:43 UTC (rev 1203)
@@ -31,6 +31,8 @@
 #include "MapPoint.hpp"
 #include "MiniMap.hpp"
 
+#undef DEBUG_FPS
+
 class GameView : public Component
 {
 public:

Modified: branches/waterwell/src/lincity-ng/MainMenu.cpp
===================================================================
--- branches/waterwell/src/lincity-ng/MainMenu.cpp	2007-04-27 16:55:16 UTC (rev 1202)
+++ branches/waterwell/src/lincity-ng/MainMenu.cpp	2007-04-27 17:23:43 UTC (rev 1203)
@@ -137,15 +137,17 @@
     //read savegames from lc_save_dir so we can use the original save_city()
     DIR* lincityDir = opendir( lc_save_dir );
     if(!lincityDir) {
-#ifdef DEBUG
         std::cerr << "Warning directory " << lc_save_dir << " doesn't exist.\n";
-#endif
         return;
     }
 
     dirent* curfile;
     CheckButton *button;
+
     for(int i=0;i<6;i++) {
+    	dirent* recentfile;
+        PHYSFS_sint64 t = 0;
+
         std::stringstream filestart;
         filestart << i+1 << "_";
         if( save ){
@@ -161,15 +163,31 @@
             button->clicked.connect(makeCallback(*this,&MainMenu::selectLoadGameButtonClicked));
         }
         while( ( curfile = readdir( lincityDir ) ) ) { 
-            if(std::string( curfile->d_name ).find( filestart.str() ) == 0 )
+            if(std::string( curfile->d_name ).find( filestart.str() ) == 0 ) {
                 // && !( curfile->d_type & DT_DIR  ) ) is not portable. So
                 // don't create a directoy named 2_ in a savegame-directory or
                 // you can no longer load from slot 2.
-                break;
+	        if (t == 0) {
+                    recentfile = curfile;
+                    t = PHYSFS_getLastModTime(recentfile->d_name);
+                } else {
+                    if (PHYSFS_getLastModTime(curfile->d_name) > t) {
+#ifdef DEBUG
+                       	fprintf(stderr," %s is more recent than previous %s\n",
+                                                curfile->d_name, recentfile->d_name);
+#endif
+                        recentfile = curfile;
+                        t = PHYSFS_getLastModTime(recentfile->d_name);
+                    }
+                }
+            }
         }
-        
-        if(curfile)  {
-            std::string f= curfile->d_name;
+#ifdef DEBUG
+        fprintf(stderr,"Most recent file: %s\n\n",recentfile->d_name);
+#endif
+
+        if(t != 0) {
+            std::string f= recentfile->d_name;
             button->setCaptionText(f);
         } else {
             button->setCaptionText(_("empty"));
@@ -664,9 +682,6 @@
 void
 MainMenu::loadGameSaveButtonClicked(Button *)
 {
-    time_t now = time(NULL);
-    struct tm* datetime = localtime(&now);
-
     getSound()->playSound( "Click" );
     if( file_exists( const_cast<char*>(mFilename.c_str()) ) ){
         std::cout << "remove( " << mFilename << ")\n";
@@ -674,15 +689,10 @@
     }
     /* Build filename */
     std::stringstream newStart;
-    newStart << slotNr << "_";
-    newStart << std::setfill('0') << std::setw(2);
-    newStart << ( -100 + datetime->tm_year);
-    newStart << std::setfill('0') << std::setw(2);
-    newStart << datetime->tm_mon+1 << datetime->tm_mday << "-";
-    newStart << std::setfill('0') << std::setw(2);
-    newStart << datetime->tm_hour;
-    newStart << std::setfill('0') << std::setw(2);
-    newStart << datetime->tm_min;
+    newStart << slotNr << "_Y";
+    newStart << std::setfill('0') << std::setw(5);
+    fprintf(stderr,"total_time %i\n",total_time);
+    newStart << total_time/1200;
     newStart << "_Tech";
     newStart << std::setfill('0') << std::setw(3);
     newStart << tech_level/10000;
@@ -693,13 +703,15 @@
     	newStart << "-";
     newStart << std::setfill('0') << std::setw(3);
     int money = abs(total_money);
-    if (money > 1000000) {
-	newStart << money/1000000 << "M";  
-    } else  if(money > 1000){
-	newStart << money/1000 << "K"; 
-    } else {
-	newStart << money/1 << "_";
-    }
+    if (money > 1000000000)
+        newStart << money/1000000000 << "G";  
+    else if (money > 1000000)
+        newStart << money/1000000 << "M";  
+    else  if(money > 1000)
+        newStart << money/1000 << "K"; 
+    else
+        newStart << money/1 << "_";
+ 
     newStart << "_P";
     newStart << std::setfill('0') << std::setw(5);
     newStart << housed_population + people_pool;
@@ -763,17 +775,17 @@
             }
         }
 
+        // give the CPU time to relax... (we are in main menu)
+        SDL_Delay(10);
+
         if(currentMenu->needsRedraw()) {
             currentMenu->draw(*painter);
             flipScreenBuffer();
-        } else {
-            // give the CPU time to relax...
-            SDL_Delay(25);
-        }
+        } 
 
         frame++;
         if(SDL_GetTicks() - ticks > 1000) {
-#ifdef DEBUG
+#ifdef DEBUG_FPS
             printf("FPS: %d.\n", frame);
 #endif
             frame = 0;

Modified: branches/waterwell/src/lincity-ng/Util.cpp
===================================================================
--- branches/waterwell/src/lincity-ng/Util.cpp	2007-04-27 16:55:16 UTC (rev 1202)
+++ branches/waterwell/src/lincity-ng/Util.cpp	2007-04-27 17:23:43 UTC (rev 1203)
@@ -33,13 +33,16 @@
 void findComponent(T** result, Component& tree, const std::string& name)
 {
     Component* component = tree.findComponent(name);
+#ifdef DEBUG
     if(!component) {
         std::stringstream msg;
         msg << "GUI file didn't define '" << name << "' (type "
             << typeid(T).name() << ")";
         throw std::runtime_error(msg.str());
     }
+#endif
     T* casted_component = dynamic_cast<T*> (component);
+#ifdef DEBUG
     if(!casted_component) {
         std::stringstream msg;
         msg << "Component '" << name << "' is of type "
@@ -47,6 +50,7 @@
             << typeid(T).name() << " is expected.";
         throw std::runtime_error(msg.str());
     }
+#endif
     *result = casted_component;
 }
 



From alainb at mail.berlios.de  Sat Apr 28 01:06:06 2007
From: alainb at mail.berlios.de (alainb at BerliOS)
Date: Sat, 28 Apr 2007 01:06:06 +0200
Subject: [Lincity-ng-commit] r1204 - in branches/waterwell: . data/gui
	data/opening src/lincity src/lincity/modules src/lincity-ng
Message-ID: <200704272306.l3RN66xx010830@sheep.berlios.de>

Author: alainb
Date: 2007-04-28 01:06:03 +0200 (Sat, 28 Apr 2007)
New Revision: 1204

Added:
   branches/waterwell/data/opening/extreme_arid.scn
   branches/waterwell/data/opening/extreme_wetland.scn
Modified:
   branches/waterwell/README-TODO-WaterWell
   branches/waterwell/data/gui/newgame.xml
   branches/waterwell/src/lincity-ng/MainMenu.cpp
   branches/waterwell/src/lincity/engglobs.h
   branches/waterwell/src/lincity/engine.cpp
   branches/waterwell/src/lincity/lin-city.h
   branches/waterwell/src/lincity/modules/market.cpp
   branches/waterwell/src/lincity/modules/organic_farm.cpp
   branches/waterwell/src/lincity/modules/residence.cpp
   branches/waterwell/src/lincity/shrtypes.cpp
   branches/waterwell/src/lincity/simulate.cpp
   branches/waterwell/src/lincity/simulate.h
Log:
-farms production depends on underground water
-2 scenario added: extreme_arid and extreme_wetland  (random village is in between)
-some fixes

Modified: branches/waterwell/README-TODO-WaterWell
===================================================================
--- branches/waterwell/README-TODO-WaterWell	2007-04-27 17:23:43 UTC (rev 1203)
+++ branches/waterwell/README-TODO-WaterWell	2007-04-27 23:06:03 UTC (rev 1204)
@@ -9,14 +9,13 @@
 
 WIP:
 ----
-1170: basic water management implemented:
+basic water management implemented:
  -icon, tile (hmmm, must be redrawn by someone competent)
  -help (en), info with query tool and in residences.
  -residence need water like food. Lack of water has the same consequences as lack of food.
  -random village has a water well.
-1174:
- -not-so-random terrain depending on distance to water (instead of uniform empty green land.)
- -Aridity parameter => wetland --> desert
+ -farm output depend of underground water: initial desert tile have no underground water
+ -2 scenarios: extreme_arid and extreme_wetland    (random village is in between)
 
 TODO: 
 -----

Modified: branches/waterwell/data/gui/newgame.xml
===================================================================
--- branches/waterwell/data/gui/newgame.xml	2007-04-27 17:23:43 UTC (rev 1203)
+++ branches/waterwell/data/gui/newgame.xml	2007-04-27 23:06:03 UTC (rev 1204)
@@ -37,7 +37,7 @@
 			-->
 			<cell row="2" col="2">
 			<CheckButton name="File0">
-			<text-caption style="button">Savegame 1</text-caption>
+			<text-caption style="button">Savegame 1234567890</text-caption>
 			<image src="images/gui/buttons/savebutton.png"/>
 			<image-hover src="images/gui/buttons/savebutton-hover.png"/>
 			<image-clicked src="images/gui/buttons/savebutton-clicked.png"/>
@@ -46,7 +46,7 @@
 			</cell>
 			<cell row="3" col="2">
 			<CheckButton name="File1">
-			<text-caption style="button">Savegame 2</text-caption>
+			<text-caption style="button">Savegame 1234567890</text-caption>
 			<image src="images/gui/buttons/savebutton.png"/>
 			<image-hover src="images/gui/buttons/savebutton-hover.png"/>
 			<image-clicked src="images/gui/buttons/savebutton-clicked.png"/>
@@ -55,7 +55,7 @@
 			</cell>
 			<cell row="4" col="2">
 			<CheckButton name="File2">
-			<text-caption style="button">Savegame 3</text-caption>
+			<text-caption style="button">Savegame 1234567890</text-caption>
 			<image src="images/gui/buttons/savebutton.png"/>
 			<image-hover src="images/gui/buttons/savebutton-hover.png"/>
 			<image-clicked src="images/gui/buttons/savebutton-clicked.png"/>
@@ -64,7 +64,7 @@
 			</cell>
 			<cell row="5" col="2">
 			<CheckButton name="File3">
-			<text-caption style="button">Savegame 4</text-caption>
+			<text-caption style="button">Savegame 1234567890</text-caption>
 			<image src="images/gui/buttons/savebutton.png"/>
 			<image-hover src="images/gui/buttons/savebutton-hover.png"/>
 			<image-clicked src="images/gui/buttons/savebutton-clicked.png"/>
@@ -73,7 +73,7 @@
 			</cell>
 			<cell row="6" col="2">
 			<CheckButton name="File4">
-			<text-caption style="button">Savegame 5</text-caption>
+			<text-caption style="button">Savegame 1234567890</text-caption>
 			<image src="images/gui/buttons/savebutton.png"/>
 			<image-hover src="images/gui/buttons/savebutton-hover.png"/>
 			<image-clicked src="images/gui/buttons/savebutton-clicked.png"/>
@@ -82,7 +82,7 @@
 			</cell>
 			<cell row="7" col="2">
 			<CheckButton name="File5">
-			<text-caption style="button">Savegame 6</text-caption>
+			<text-caption style="button">Savegame 1234567890</text-caption>
 			<image src="images/gui/buttons/savebutton.png"/>
 			<image-hover src="images/gui/buttons/savebutton-hover.png"/>
 			<image-clicked src="images/gui/buttons/savebutton-clicked.png"/>

Added: branches/waterwell/data/opening/extreme_arid.scn
===================================================================
(Binary files differ)


Property changes on: branches/waterwell/data/opening/extreme_arid.scn
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: branches/waterwell/data/opening/extreme_wetland.scn
===================================================================
(Binary files differ)


Property changes on: branches/waterwell/data/opening/extreme_wetland.scn
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Modified: branches/waterwell/src/lincity/engglobs.h
===================================================================
--- branches/waterwell/src/lincity/engglobs.h	2007-04-27 17:23:43 UTC (rev 1203)
+++ branches/waterwell/src/lincity/engglobs.h	2007-04-27 23:06:03 UTC (rev 1204)
@@ -32,9 +32,8 @@
 #define MP_SIZE(x,y)   main_groups[MP_GROUP(x,y)].size
 #define MP_COLOR(x,y)  main_groups[MP_GROUP(x,y)].colour
 #define MP_GROUP_IS_RESIDENCE(x,y)  (GROUP_IS_RESIDENCE(MP_GROUP(x,y)))
+#define HAS_UGWATER(x,y) (MP_INFO(x,y).flags & FLAG_HAS_UNDERGROUND_WATER) 
 
-
-
 extern int mappoint_array_x[WORLD_SIDE_LEN], mappoint_array_y[WORLD_SIDE_LEN];
 extern int numof_shanties, numof_communes;
 extern int last_built_x, last_built_y;

Modified: branches/waterwell/src/lincity/engine.cpp
===================================================================
--- branches/waterwell/src/lincity/engine.cpp	2007-04-27 17:23:43 UTC (rev 1203)
+++ branches/waterwell/src/lincity/engine.cpp	2007-04-27 23:06:03 UTC (rev 1204)
@@ -26,6 +26,7 @@
 #include "gui_interface/shared_globals.h"
 
 extern int selected_type_cost;
+static void bulldoze_mappoint (short fill, int x, int y);
 
 void
 fire_area (int x, int y)
@@ -264,6 +265,7 @@
 
     size = MP_SIZE(x,y);
     g = MP_GROUP(x,y);
+    people_pool += MP_INFO(x,y).population;
 
     if (g == GROUP_DESERT) {
 	/* Nothing to do. */
@@ -272,6 +274,7 @@
     else if (g == GROUP_SHANTY) {
 	fire_area (x, y);
 	adjust_money(-GROUP_SHANTY_BUL_COST);
+        numof_shanties--;
     }
     else if (g == GROUP_FIRE) {
 	if (MP_INFO(x,y).int_2 >= FIRE_LENGTH)
@@ -291,8 +294,16 @@
 	else
 		do_bulldoze_area (CST_GREEN, x, y);
 
-	if (g == GROUP_OREMINE)
-	{
+        if (g == GROUP_COMMUNE)
+            numof_communes--;
+
+        if (g == GROUP_MARKET)
+            remove_a_market (x, y);
+
+        if (g == GROUP_SUBSTATION || g == GROUP_WINDMILL)
+            remove_a_substation (x, y);
+
+	if (g == GROUP_OREMINE) {
 	    int i, j;
 	    for (j = 0; j < 4; j++)
 		for (i = 0; i < 4; i++)
@@ -306,7 +317,44 @@
     return size;  /* No longer used... */
 }
 
+void
+do_bulldoze_area (short fill, int xx, int yy)
+{
+  int size, x, y;
+  if (MP_TYPE(xx,yy) == CST_USED)
+    {
+      x = MP_INFO(xx,yy).int_1;
+      y = MP_INFO(xx,yy).int_2;
+    }
+  else
+    {
+      x = xx;
+      y = yy;
+    }
+  size = MP_SIZE(x,y);
+  for (int i = 0; i < size; i++)
+      for (int j = 0; j < size; j++)  
+          bulldoze_mappoint (fill, x+i, y+j);
+}
 
+static void 
+bulldoze_mappoint (short fill, int x, int y)
+{
+    /* bulldoze preserve underground resources */
+    MP_TYPE(x,y) = fill;
+    MP_GROUP(x,y) = get_group_of_type(fill);
+    if (MP_GROUP(x,y) < 0) MP_GROUP(x,y) = GROUP_BARE;
+    MP_INFO(x,y).population = 0;
+    MP_INFO(x,y).flags &= FLAG_HAS_UNDERGROUND_WATER;
+    MP_INFO(x,y).int_1 = 0;
+    MP_INFO(x,y).int_2 = 0;
+    MP_INFO(x,y).int_3 = 0;
+    MP_INFO(x,y).int_4 = 0;
+    MP_INFO(x,y).int_5 = 0;
+    MP_INFO(x,y).int_6 = 0;
+    MP_INFO(x,y).int_7 = 0;
+}
+
 /** Mappoint array shuffles mappoint in order to stop linear simulation effects */
 
 /** this is called on startup */
@@ -877,60 +925,6 @@
 
 
 void
-do_bulldoze_area (short fill, int xx, int yy)
-{
-  int size, x, y;
-  if (MP_TYPE(xx,yy) == CST_USED)
-    {
-      x = MP_INFO(xx,yy).int_1;
-      y = MP_INFO(xx,yy).int_2;
-    }
-  else
-    {
-      x = xx;
-      y = yy;
-    }
-  size = MP_SIZE(x,y);
-  if (MP_GROUP(x,y) == GROUP_SUBSTATION
-      || MP_GROUP(x,y) == GROUP_WINDMILL)
-    remove_a_substation (x, y);
-  else if (MP_GROUP(x,y) == GROUP_MARKET)
-    remove_a_market (x, y);
-  else if (MP_GROUP(x,y) == GROUP_SHANTY)
-    numof_shanties--;
-  else if (MP_GROUP(x,y) == GROUP_COMMUNE)
-    numof_communes--;
-
-  people_pool += MP_INFO(x,y).population;
-  clear_mappoint (fill, x, y);
-  if (size > 1)			/* do size 2 */
-    {
-      clear_mappoint (fill, x + 1, y);
-      clear_mappoint (fill, x, y + 1);
-      clear_mappoint (fill, x + 1, y + 1);
-    }
-  if (size > 2)			/* do size 3 */
-    {
-      clear_mappoint (fill, x + 2, y);
-      clear_mappoint (fill, x + 2, y + 1);
-      clear_mappoint (fill, x + 2, y + 2);
-      clear_mappoint (fill, x, y + 2);
-      clear_mappoint (fill, x + 1, y + 2);
-    }
-  if (size > 3)			/* do size 4 */
-    {
-      clear_mappoint (fill, x + 3, y);
-      clear_mappoint (fill, x + 3, y + 1);
-      clear_mappoint (fill, x + 3, y + 2);
-      clear_mappoint (fill, x + 3, y + 3);
-      clear_mappoint (fill, x, y + 3);
-      clear_mappoint (fill, x + 1, y + 3);
-      clear_mappoint (fill, x + 2, y + 3);
-    }
-}
-
-
-void
 update_tech_dep (int x, int y)
 {
   switch (MP_GROUP(x,y))

Modified: branches/waterwell/src/lincity/lin-city.h
===================================================================
--- branches/waterwell/src/lincity/lin-city.h	2007-04-27 17:23:43 UTC (rev 1203)
+++ branches/waterwell/src/lincity/lin-city.h	2007-04-27 23:06:03 UTC (rev 1204)
@@ -174,9 +174,10 @@
 #define FLAG_IS_RIVER           (0x800000)
 #define FLAG_HAD_POWER          (0x1000000)
 #define FLAG_MULTI_TRANSPORT    (0x2000000)   /* Is it a multitransport? */ /* AL1: unused in NG 1.1 */
-#define FLAG_MULTI_TRANS_PREV   (0x4000000)	/* AL1: unused in NG 1.1 */
+#define FLAG_MULTI_TRANS_PREV   (0x4000000)	  /* AL1: unused in NG 1.1 */
 #define FLAG_POWER_LINE         (0x8000000)
 #define FLAG_WATERWELL_COVER    (0x10000000)
+#define FLAG_HAS_UNDERGROUND_WATER (0x20000000)
 
 /* XXX: It would appear that the following T_ are used exactly two times each,
    in market.c.  */

Modified: branches/waterwell/src/lincity/modules/market.cpp
===================================================================
--- branches/waterwell/src/lincity/modules/market.cpp	2007-04-27 17:23:43 UTC (rev 1203)
+++ branches/waterwell/src/lincity/modules/market.cpp	2007-04-27 23:06:03 UTC (rev 1204)
@@ -377,6 +377,7 @@
 void
 remove_a_market (int x, int y)
 {
+  /* Should try to use jobs to put everything on transport or other markets ?*/
   int q;
   for (q = 0; q < numof_markets; q++)
     if (marketx[q] == x && markety[q] == y)

Modified: branches/waterwell/src/lincity/modules/organic_farm.cpp
===================================================================
--- branches/waterwell/src/lincity/modules/organic_farm.cpp	2007-04-27 17:23:43 UTC (rev 1203)
+++ branches/waterwell/src/lincity/modules/organic_farm.cpp	2007-04-27 23:06:03 UTC (rev 1204)
@@ -15,9 +15,10 @@
 void
 do_organic_farm (int x, int y)
 {
-  /* 
+  /* // MP_INFO(x,y)
      // int_1 is the tech level of the farm when built
      // int_2 is a flag so we don't create a farm with nearly ripe crops.
+      *      unused in NG1.1	
      // int_3 is the food sold count so far this year.
      // int_4 is the food made last year.
      // int_5 is the random crop rotation key.
@@ -25,13 +26,20 @@
      // int_7 is the jobs stored at the farm 
      // 	up to NG-1.1.0 int_7 was the tech-level dependent output of a
      // 	 powered farm with full workforce. 
-     // 	= duplicate with int_1.  see below TECH_BONUS.
+     // 	= duplicate with int_1.  see below tech_bonus.
+      * 
+      * MP_INFO(x+1,y) stores additional info
+      *    int_1 reserved (=x)
+      *    int_2 reserved (=y)
+      *    int_3 max possible production (assuming 100% water and power)
+      *    int_4 number of 1x1 tiles with underground water inside the farm
+      *    int_5 current production
   */
   int i;
   int has_power = false;
-  int TECH_BONUS = (int)(((double) MP_INFO(x,y).int_1
+  int tech_bonus = (int)(((double) MP_INFO(x,y).int_1
 			      * ORGANIC_FARM_FOOD_OUTPUT) / MAX_TECH_LEVEL);
-
+  MP_INFO(x+1,y).int_3 = ORGANIC_FARM_FOOD_OUTPUT + tech_bonus;
   /* Animation */
   if (MP_INFO(x,y).int_5 == 0) {
       /* this should be done when we create the area! */
@@ -64,56 +72,63 @@
   }
 
   /* Produce some food */
+  int prod = 0;
   if (MP_INFO(x,y).int_7 >= FARM_JOBS_USED) {
       if (has_power) {
-	  if (put_food (x, y, (ORGANIC_FARM_FOOD_OUTPUT	+ TECH_BONUS)) != 0) {
-		MP_INFO(x,y).int_3++;
-		MP_INFO(x,y).int_7 -= FARM_JOBS_USED;
-	  }
+	      	 prod = ORGANIC_FARM_FOOD_OUTPUT + tech_bonus;
       } else {
-	  if (put_food (x, y, (ORGANIC_FARM_FOOD_OUTPUT / 4)) != 0) {
-		MP_INFO(x,y).int_3++;
-		MP_INFO(x,y).int_7 -= FARM_JOBS_USED;
-	  }
+	      	 prod = ORGANIC_FARM_FOOD_OUTPUT / 4;
       }
   } else if (MP_INFO(x,y).int_7 >= FARM_JOBS_USED / 4) {
       if (has_power) {
-	  if (put_food (x, y, (ORGANIC_FARM_FOOD_OUTPUT + TECH_BONUS / 4)) != 0) {
-		MP_INFO(x,y).int_3++;
-		MP_INFO(x,y).int_7 -= FARM_JOBS_USED / 4;
-	  }
+	      	 prod = ORGANIC_FARM_FOOD_OUTPUT + tech_bonus / 4;
       } else {
-	  if (put_food (x, y, (ORGANIC_FARM_FOOD_OUTPUT / (4 * 4))) != 0) {
-		MP_INFO(x,y).int_3++;
-		MP_INFO(x,y).int_7 -= FARM_JOBS_USED / 4;
-	  }
+	      	 prod = ORGANIC_FARM_FOOD_OUTPUT / (4 * 4);
       }
   } else if (MP_INFO(x,y).int_7 >= 1) {
       /* got 1 job */
       if (has_power) {
-	  if (put_food (x, y, (ORGANIC_FARM_FOOD_OUTPUT + (TECH_BONUS / 8))) != 0) {
-	    	MP_INFO(x,y).int_3++;
-		MP_INFO(x,y).int_7 -= 1;
-	  }
-      } else if (put_food (x, y, 30
-			 + (ORGANIC_FARM_FOOD_OUTPUT / (4 * 8))) != 0) {
-	  /* AL1 "small ouch":
-	   * without power output with 1 job is bigger than output with 3 !
-	   * 3 = FARMS_JOBS_USED / 4 
-	   * ORGANIC_FARM_FOOD_OUTPUT = 550 currently (ng_1.1)
-	   */
-	   MP_INFO(x,y).int_3++;
-	   MP_INFO(x,y).int_7 -= 1;
+	     	prod = ORGANIC_FARM_FOOD_OUTPUT + tech_bonus / 8;
+      } else {
+	        /* AL1 "small ouch":
+	         * without power output with 1 job is bigger than output with 3 !
+	         * 3 = FARMS_JOBS_USED / 4 
+	         * ORGANIC_FARM_FOOD_OUTPUT = 550 currently (ng_1.1)
+	         */
+	         prod = 30 + ORGANIC_FARM_FOOD_OUTPUT / (4 * 8);
       }
   } else {
-      /* AL1 : the farm gives very small amount of food without job. 
-       *  ? Probably needed for start ?
-       *  ? Useful to prevent starvation when no jobs ? 
-       *  The various modules are done in random order, so it should be ok without this.
-       */
-      put_food (x, y, 30);
-      /* note that this does not generate revenu int_3) */
+            /* AL1 : the farm gives very small amount of food without job. 
+             *  ? Probably needed for start ?
+             *  ? Useful to prevent starvation when no jobs ? 
+             *  The various buildings are "done" in random order,
+             *  so it should be ok without this.
+             */
+             put_food (x, y, 30);
+             /* note that this does not generate revenu int_3) */
   }
+  /* Check underground water, and reduce production accordingly */
+  if (use_waterwell) {
+      int w = 0;
+      int n = 0;
+      for (int i = 0; i < MP_SIZE(x,y); i++) {
+          for (int j = 0; j < MP_SIZE(x,y); j++) {
+              n++;
+              if (HAS_UGWATER(x+i,y+j))
+                  w++;
+          }
+      }
+      prod = (prod * w)/n;
+      MP_INFO(x + 1, y).int_4 = w;
+  }
+  MP_INFO(x + 1, y).int_5 = prod;
+                 	 
+  if (prod != 0) {
+     if (put_food (x, y, prod) != 0) {
+	    	MP_INFO(x,y).int_3++;
+		    MP_INFO(x,y).int_7 -= 1;
+     }
+  }
 
   if ((total_time & 0x7f) == 0)
     if ((MP_INFO(x,y).flags & FLAG_POWERED) != 0)
@@ -229,6 +244,13 @@
 	   MP_INFO(x,y).int_4 * 100.0 / 1200.0);
   mps_store_title(i++,text);
 
+  if (use_waterwell) {
+      i++;
+      mps_store_title(i++,_("Debug info"));
+      mps_store_sd(i++,_(" max with power & water"), MP_INFO(x + 1, y).int_3);
+      mps_store_sd(i++,_(" number of tile with water"), MP_INFO(x + 1, y).int_4);
+      mps_store_sd(i++,_(" current production"), MP_INFO(x + 1, y).int_5);
+  }
 
   /*
   char * p;

Modified: branches/waterwell/src/lincity/modules/residence.cpp
===================================================================
--- branches/waterwell/src/lincity/modules/residence.cpp	2007-04-27 17:23:43 UTC (rev 1203)
+++ branches/waterwell/src/lincity/modules/residence.cpp	2007-04-27 23:06:03 UTC (rev 1204)
@@ -286,8 +286,11 @@
 
     mps_store_sd(i++,_("People"), MP_INFO(x,y).population);
 
-    p = ((MP_INFO(x,y).flags & FLAG_WATERWELL_COVER) != 0) ? _("YES") : _("NO");
-    mps_store_ss(i++, _("Water"), p);
+    if (use_waterwell) {
+        p = ((MP_INFO(x,y).flags & FLAG_WATERWELL_COVER) != 0) 
+                 ? _("YES") : _("NO");
+        mps_store_ss(i++, _("Water"), p);
+    }
 
     p = ((MP_INFO(x,y).flags & FLAG_FED) != 0) ? _("YES") : _("NO");
     mps_store_ss(i++, _("Fed"), p);

Modified: branches/waterwell/src/lincity/shrtypes.cpp
===================================================================
--- branches/waterwell/src/lincity/shrtypes.cpp	2007-04-27 17:23:43 UTC (rev 1203)
+++ branches/waterwell/src/lincity/shrtypes.cpp	2007-04-27 23:06:03 UTC (rev 1204)
@@ -14,7 +14,6 @@
 //#include "cliglobs.h"
 #include "engglobs.h"
 
-
 void
 set_mappoint_used (int fromx, int fromy, int x, int y)
 {

Modified: branches/waterwell/src/lincity/simulate.cpp
===================================================================
--- branches/waterwell/src/lincity/simulate.cpp	2007-04-27 17:23:43 UTC (rev 1203)
+++ branches/waterwell/src/lincity/simulate.cpp	2007-04-27 23:06:03 UTC (rev 1204)
@@ -52,7 +52,10 @@
 static void simulate_mappoints (void);
 static void quick_start_add (int x, int y, short type, int size);
 static void setup_land (void);
+static void nullify_mappoint (int x, int y);
 
+#define IS_RIVER(x,y) (MP_INFO(x,y).flags & FLAG_IS_RIVER)
+
 /* ---------------------------------------------------------------------- *
  * Public Functions
  * ---------------------------------------------------------------------- */
@@ -88,14 +91,17 @@
     do_periodic_events ();
 }
 
-void 
-clear_mappoint (short fill, int x, int y)
+static void 
+nullify_mappoint (int x, int y)
 {
-    MP_TYPE(x,y) = fill;
-    MP_GROUP(x,y) = get_group_of_type(fill);
-    if (MP_GROUP(x,y) < 0) MP_GROUP(x,y) = GROUP_BARE;
+    MP_TYPE(x,y) = CST_GREEN;
+    MP_GROUP(x,y) = GROUP_BARE;
+    MP_SIZE(x,y) = 1;
+    MP_POL(x,y) = 0;
     MP_INFO(x,y).population = 0;
     MP_INFO(x,y).flags = 0;
+    MP_INFO(x,y).coal_reserve = 0;
+    MP_INFO(x,y).ore_reserve = 0;
     MP_INFO(x,y).int_1 = 0;
     MP_INFO(x,y).int_2 = 0;
     MP_INFO(x,y).int_3 = 0;
@@ -427,8 +433,7 @@
     int x, y;
     for (y = 0; y < WORLD_SIDE_LEN; y++) {
 	for (x = 0; x < WORLD_SIDE_LEN; x++) {
-	    clear_mappoint (CST_GREEN, x, y);
-	    MP_POL(x,y) = 0;
+	    nullify_mappoint (x, y);
 	}
     }
     total_time = 0;
@@ -443,10 +448,15 @@
     total_births = 0;
     total_money = 0;
     tech_level = 0;
+    highest_tech_level = 0;
+    rockets_launched = 0;
+    rockets_launched_success = 0;
     init_inventory();
     update_avail_modules(0);
     use_waterwell = true;
     ldsv_version = MIN_WATERWELL_VERSION;
+    /* Al1. NG 1.1 is this enough ? Are all global variables reseted ? */
+    /* TODO reset screen, sustain info */
 }
 
 void
@@ -455,6 +465,7 @@
     clear_game ();
     coal_reserve_setup ();
     setup_river ();
+    setup_land ();
     ore_reserve_setup ();
     init_pbars ();
 
@@ -469,8 +480,6 @@
 	*originx = *originy = WORLD_SIDE_LEN/2 ;
 	update_pbar(PPOP,100,1);
     }
-    /* setup_land after putting village to prevent trouble when too much water */
-    setup_land ();
     connect_transport (1,1,WORLD_SIDE_LEN-2,WORLD_SIDE_LEN-2);
     refresh_pbars ();
 }
@@ -584,26 +593,25 @@
 {
   int x, y, xw, yw;
   int aridity = rand () %400 -150;
-
   for (y = 0; y < WORLD_SIDE_LEN; y++) {
 	for (x = 0; x < WORLD_SIDE_LEN; x++) {
 	    int d2w_min = 2 * WORLD_SIDE_LEN * WORLD_SIDE_LEN;
 	    int r;
 	    int arid=aridity;
 
-	    /* test against GROUP_WATER which is added after the loop for new water tiles */
-	    if ((MP_GROUP(x,y) == GROUP_WATER) || !GROUP_IS_BARE(MP_GROUP(x,y)))
+	    /* test against IS_RIVER to prevent terrible recursion */
+	    if ( IS_RIVER(x,y) || !GROUP_IS_BARE(MP_GROUP(x,y)))
 		continue;
 
   	    for (yw = 0; yw < WORLD_SIDE_LEN; yw++) {
-		for (xw = 0; xw < WORLD_SIDE_LEN; xw++) {
+		  for (xw = 0; xw < WORLD_SIDE_LEN; xw++) {
 			int d2w;
-			if (MP_GROUP(xw,yw) != GROUP_WATER)
+			if (!IS_RIVER(xw,yw))
 				continue;
 			d2w = (xw-x)*(xw-x) + (yw-y)*(yw-y);
 			if (d2w < d2w_min)
 				d2w_min = d2w;
-		}
+		  }
 	    }
 
 	    /* near river lower aridity */
@@ -618,121 +626,116 @@
 	        /* very dry land */
 	    	int r2 = rand() % 10;
 	    	if (r2 <= 6)
-		    clear_mappoint (CST_DESERT, x, y);
+		        set_mappoint(x, y, CST_DESERT);
 	    	else if (r2 <= 8)
-		    clear_mappoint (CST_GREEN, x, y);
+		        set_mappoint(x, y, CST_GREEN);
 	    	else 
-		    clear_mappoint (CST_TREE, x, y);
-
+		        set_mappoint(x, y, CST_TREE);
 	    } else if (r >= 160) {
 	    	int r2 = rand() % 10;
-		if (r2 <= 2)
-	    		clear_mappoint (CST_DESERT, x, y);
+	        if (r2 <= 2)
+	    	    set_mappoint(x, y, CST_DESERT);
 		else if (r2 <= 6)
-	    		clear_mappoint (CST_GREEN, x, y);
+	    	    set_mappoint(x, y, CST_GREEN);
 		else 
-	    		clear_mappoint (CST_TREE, x, y);
-
+	    	    set_mappoint(x, y, CST_TREE);
 	    } else if (r >= 80) {
 	    	int r2 = rand() % 10;
 		if (r2 <= 1)
-	    		clear_mappoint (CST_DESERT, x, y);
-		else if (r2 <= 4)
-	    		clear_mappoint (CST_GREEN, x, y);
-		else if (r2 <= 6)
-	    		clear_mappoint (CST_TREE, x, y);
-		else
-	    		clear_mappoint (CST_TREE2, x, y);
-
-	    } else if (r >= 40) {
+	    		set_mappoint(x, y, CST_DESERT);
+                else if (r2 <= 4)
+	    		set_mappoint(x, y, CST_GREEN);
+                else if (r2 <= 6)
+                        set_mappoint(x, y, CST_TREE);
+                else
+	    		set_mappoint(x, y, CST_TREE2);
+            } else if (r >= 40) {
 	    	int r2 = rand() % 40;
-		if (r2 == 0)
-	    		clear_mappoint (CST_DESERT, x, y);
-		else if (r2 <= 12)
-	    		clear_mappoint (CST_GREEN, x, y);
-		else if (r2 <= 24)
-	    		clear_mappoint (CST_TREE, x, y);
-		else if (r2 <= 36)
-			clear_mappoint (CST_TREE2, x, y);
-		else
-			clear_mappoint (CST_TREE3, x, y);
+		    if (r2 == 0)
+	    		set_mappoint(x, y, CST_DESERT);
+		    else if (r2 <= 12)
+	    		set_mappoint(x, y, CST_GREEN);
+		    else if (r2 <= 24)
+	    		set_mappoint(x, y, CST_TREE);
+		    else if (r2 <= 36)
+			    set_mappoint(x, y, CST_TREE2);
+		    else
+			    set_mappoint(x, y, CST_TREE3);
 	    }  else if (r >= 0) {
-	    	/* normal land */
-	    	int r2 = rand() % 40;
-		if (r2 <= 10)
-	    		clear_mappoint (CST_GREEN, x, y);
-		else if (r2 <= 20)
-	    		clear_mappoint (CST_TREE, x, y);
-		else if (r2 <= 30)
-			clear_mappoint (CST_TREE2, x, y);
-		else
-			clear_mappoint (CST_TREE3, x, y);
+	    	    /* normal land */
+	    	    int r2 = rand() % 40;
+		    if (r2 <= 10)
+	    		set_mappoint(x, y, CST_GREEN);
+		    else if (r2 <= 20)
+	    		set_mappoint(x, y, CST_TREE);
+		    else if (r2 <= 30)
+			    set_mappoint(x, y, CST_TREE2);
+		    else
+			    set_mappoint(x, y, CST_TREE3);
 	    } else if (r >= -40) {
-	    	/* forest */
-	    	int r2 = rand() % 40;
-		if (r2 <= 5)
-	    		clear_mappoint (CST_GREEN, x, y);
-		else if (r2 <= 10)
-	    		clear_mappoint (CST_TREE, x, y);
-		else if (r2 <= 25)
-			clear_mappoint (CST_TREE2, x, y);
-		else
-			clear_mappoint (CST_TREE3, x, y);
+	    	    /* forest */
+	    	    int r2 = rand() % 40;
+		    if (r2 <= 5)
+	    		set_mappoint(x, y, CST_GREEN);
+		    else if (r2 <= 10)
+	    		set_mappoint(x, y, CST_TREE);
+		    else if (r2 <= 25)
+			    set_mappoint(x, y, CST_TREE2);
+		    else
+			    set_mappoint(x, y, CST_TREE3);
 	    } else if (r >= -80) {
-	    	int r2 = rand() % 40;
-		if (r2 <= 0)
-			MP_TYPE(x, y) = CST_WATER;
-		else if (r2 <= 6)
-	    		clear_mappoint (CST_GREEN, x, y);
-		else if (r2 <= 15)
-	    		clear_mappoint (CST_TREE, x, y);
-		else if (r2 <= 28)
-			clear_mappoint (CST_TREE2, x, y);
-		else
-			clear_mappoint (CST_TREE3, x, y);
+	    	    int r2 = rand() % 40;
+		    if (r2 <= 0)
+			    MP_TYPE(x, y) = CST_WATER;
+		    else if (r2 <= 6)
+	    		set_mappoint(x, y, CST_GREEN);
+		    else if (r2 <= 15)
+	    		set_mappoint(x, y, CST_TREE);
+		    else if (r2 <= 28)
+			    set_mappoint(x, y, CST_TREE2);
+		    else
+			    set_mappoint(x, y, CST_TREE3);
 	    } else if (r >= -120) {
-	    	int r2 = rand() % 40;
-		if (r2 <= 1)
-			MP_TYPE(x, y) = CST_WATER;
-		else if (r2 <= 6)
-	    		clear_mappoint (CST_GREEN, x, y);
-		else if (r2 <= 16)
-	    		clear_mappoint (CST_TREE, x, y);
-		else if (r2 <= 30)
-			clear_mappoint (CST_TREE2, x, y);
-		else
-			clear_mappoint (CST_TREE3, x, y);
+	    	    int r2 = rand() % 40;
+		    if (r2 <= 1)
+			    MP_TYPE(x, y) = CST_WATER;
+		    else if (r2 <= 6)
+	    		set_mappoint(x, y, CST_GREEN);
+		    else if (r2 <= 16)
+	    		set_mappoint(x, y, CST_TREE);
+		    else if (r2 <= 30)
+			    set_mappoint(x, y, CST_TREE2);
+		    else
+			    set_mappoint(x, y, CST_TREE3);
 	    } else {
 	    	/* wetland */
 	    	int r2 = rand() % 40;
-		if (r2 <= 3 )
-			MP_TYPE(x, y) = CST_WATER;
-		else if (r2 <= 8)
-	    		clear_mappoint (CST_GREEN, x, y);
-		else if (r2 <= 20)
-	    		clear_mappoint (CST_TREE, x, y);
-		else if (r2 <= 35)
-			clear_mappoint (CST_TREE2, x, y);
-		else
-			clear_mappoint (CST_TREE3, x, y);
+		    if (r2 <= 3 )
+			    MP_TYPE(x, y) = CST_WATER;
+		    else if (r2 <= 8)
+	    		set_mappoint(x, y, CST_GREEN);
+		    else if (r2 <= 20)
+	    		set_mappoint(x, y, CST_TREE);
+		    else if (r2 <= 35)
+			    set_mappoint(x, y, CST_TREE2);
+		    else
+			    set_mappoint(x, y, CST_TREE3);
 	    }
-
 	    MP_POL(x,y) = 0;
-	}
-    }
-    /* setup group now to prevent terrible recursion */
-    for (y = 0; y < WORLD_SIDE_LEN; y++) {
-	    for (x = 0; x < WORLD_SIDE_LEN; x++) {
-		    if (MP_TYPE(x,y) == CST_WATER){
+            /* preserve rivers, so that we can connect port later */
+            if (MP_TYPE(x,y) == CST_WATER){
                 int navigable = MP_INFO(x,y).flags & FLAG_IS_RIVER;
-		        clear_mappoint (CST_WATER, x, y);
+                set_mappoint(x, y, CST_WATER);
                 MP_INFO(x,y).flags |= navigable;
-            }
-	    }
-    }
-    connect_rivers ();
+                MP_INFO(x,y).flags |= FLAG_HAS_UNDERGROUND_WATER;            
+            } else if (MP_TYPE(x,y) != CST_DESERT) {
+            	MP_INFO(x,y).flags |= FLAG_HAS_UNDERGROUND_WATER;
+            }	
   	    /* TODO Store square of distance to river for each tile */
 	    /* MP_DIST2RIVER(x,y) = d2w_min; */
+        }
+    }
+    connect_rivers();
 }
 
 int
@@ -779,21 +782,26 @@
 	    flag = 0;
 	    for (y = yy + 2; y < yy + 23; y++)
 		for (x = xx + 2; x < xx + 23; x++)
-		    if (MP_GROUP(x,y) == GROUP_WATER)
-		    {
+		    if (IS_RIVER(x,y)) {
 			flag = 1;
 			x = xx + 23;   /* break out of loop */
 			y = yy + 23;   /* break out of loop */
 		    }
-	} while (flag == 0 || (--watchdog) < 1);
+	} while (flag == 0 && (--watchdog) > 1);
 	for (y = yy + 4; y < yy + 22; y++)
 	    for (x = xx + 4; x < xx + 22; x++)
-		if ( !GROUP_IS_BARE(MP_GROUP(x,y)) ) {
-		    flag = 0;
-		    x = xx + 22;   /* break out of loop */
-		    y = yy + 22;   /* break out of loop */
-		}
-    } while (flag == 0 || (--watchdog) < 1);
+                /* Don't put the village on a river, but don't care of
+                 * isolated random water tiles putted by setup_land
+                 */
+		if (IS_RIVER(x,y)) {
+                    flag = 0;
+                    x = xx + 22;   /* break out of loop */
+                    y = yy + 22;   /* break out of loop */
+                }
+    } while (flag == 0 && (--watchdog) > 1);
+#ifdef DEBUG
+    fprintf(stderr,"random village watchdog = %i\n", watchdog);
+#endif
 
     /* These are going to be the main_screen_origin? vars */
     *originx = xx;
@@ -801,16 +809,31 @@
 
     /*  Draw the start scene. */
     quick_start_add (xx + 5, yy + 5, CST_FARM_O0, 4);
+    /* The first two farms have more underground water */
+    for (int i = 0; i < MP_SIZE(xx + 5, yy + 5); i++)
+        for (int j = 0; j < MP_SIZE(xx + 5, yy + 5); j++)
+            if (!HAS_UGWATER(xx + 5 + i, yy + 5 + j) && (rand() % 2))
+               MP_INFO(xx + 5 + i, yy + 5 + j).flags
+                              |= FLAG_HAS_UNDERGROUND_WATER;
+ 
     quick_start_add (xx + 9, yy + 6, CST_RESIDENCE_ML, 3);
     MP_INFO(xx + 9,yy + 6).population = 50;
-    MP_INFO(xx + 9,yy + 6).flags |= (FLAG_FED + FLAG_EMPLOYED + FLAG_WATERWELL_COVER);
+    MP_INFO(xx + 9,yy + 6).flags 
+                |= (FLAG_FED + FLAG_EMPLOYED + FLAG_WATERWELL_COVER);
     quick_start_add (xx + 9, yy + 9, CST_POTTERY_0, 2);
     quick_start_add (xx + 16, yy + 9, CST_WATERWELL, 2);
 
     quick_start_add (xx + 14, yy + 6, CST_RESIDENCE_ML, 3);
     MP_INFO(xx + 14,yy + 6).population = 50;
-    MP_INFO(xx + 14,yy + 6).flags |= (FLAG_FED + FLAG_EMPLOYED + FLAG_WATERWELL_COVER);
+    MP_INFO(xx + 14,yy + 6).flags 
+                |= (FLAG_FED + FLAG_EMPLOYED + FLAG_WATERWELL_COVER);
     quick_start_add (xx + 17, yy + 5, CST_FARM_O0, 4);
+    for (int i = 0; i < MP_SIZE(xx + 17, yy + 5); i++)
+        for (int j = 0; j < MP_SIZE(xx + 17, yy + 5); j++)
+            if (!HAS_UGWATER(xx + 17 + i, yy + 5 + j) && (rand() % 2))
+                MP_INFO(xx + 17 + i, yy + 5 + j).flags 
+                              |= FLAG_HAS_UNDERGROUND_WATER; 
+
     quick_start_add (xx + 14, yy + 9, CST_MARKET_EMPTY, 2);
     marketx[numof_markets] = xx + 14;
     markety[numof_markets] = yy + 9;

Modified: branches/waterwell/src/lincity/simulate.h
===================================================================
--- branches/waterwell/src/lincity/simulate.h	2007-04-27 17:23:43 UTC (rev 1203)
+++ branches/waterwell/src/lincity/simulate.h	2007-04-27 23:06:03 UTC (rev 1204)
@@ -6,7 +6,6 @@
 #ifndef __simulate_h__
 #define __simulate_h__
 
-void clear_mappoint (short fill, int x, int y);
 void new_city (int* originx, int* originy, int random_village);
 void count_all_groups (int* group_count);
 void do_time_step (void);

Modified: branches/waterwell/src/lincity-ng/MainMenu.cpp
===================================================================
--- branches/waterwell/src/lincity-ng/MainMenu.cpp	2007-04-27 17:23:43 UTC (rev 1203)
+++ branches/waterwell/src/lincity-ng/MainMenu.cpp	2007-04-27 23:06:03 UTC (rev 1204)
@@ -570,6 +570,10 @@
 void
 MainMenu::loadGameButtonClicked(Button* )
 {
+    /* FIXME: NG 1.1 initialisation/clear is not enough yet
+     * This should be done in the engine.cpp or simulate.cpp not here:
+     * see clear_game
+     */
     getSound()->playSound( "Click" );
     loadLoadGameMenu();
     switchMenu(loadGameMenu.get());
@@ -594,6 +598,10 @@
 void
 MainMenu::newGameStartButtonClicked(Button* )
 {
+    /* FIXME: NG 1.1 initialisation/clear is not enough yet
+     * This should be done in the engine.cpp or simulate.cpp not here:
+     * see clear_game
+     */
     getSound()->playSound( "Click" );
     if( loadCityNG( mFilename ) ){
     	strcpy (given_scene, baseName.c_str());
@@ -607,6 +615,10 @@
 MainMenu::newGameStartBareButtonClicked(Button* )
 {
     getSound()->playSound( "Click" );
+    /* FIXME: NG 1.1 initialisation/clear is not enough yet
+     * This should be done in the engine.cpp or simulate.cpp not here:
+     * see clear_game
+     */
     resetGameStats();
     new_city( &main_screen_originx, &main_screen_originy, 0 );
     GameView* gv = getGameView();
@@ -617,6 +629,10 @@
 
 //looks like not everything es reseted by new_city()
 void MainMenu::resetGameStats(){
+    /* FIXME: NG 1.1 initialisation/clear is not enough yet
+     * This should be done in the engine.cpp or simulate.cpp not here
+     * see clear_game
+     */
     given_scene[0] = 0;
     for( int i = 0; i < monthgraph_size; i++ ){
         monthgraph_pop[i] = 0;
@@ -637,6 +653,10 @@
 MainMenu::newGameStartVillageClicked(Button* )
 {
     getSound()->playSound( "Click" );
+    /* FIXME: NG 1.1 initialisation/clear is not enough yet
+     * This should be done in the engine.cpp or simulate.cpp not here
+     * see clear_game
+     */
     resetGameStats();
     new_city( &main_screen_originx, &main_screen_originy, 1 );
     GameView* gv = getGameView();
@@ -672,6 +692,10 @@
 void
 MainMenu::loadGameLoadButtonClicked(Button *)
 {
+    /* FIXME: NG 1.1 initialisation/clear is not enough yet
+     * This should be done in the engine.cpp or simulate.cpp not here:
+     * see clear_game
+     */
     getSound()->playSound( "Click" );
     if( loadCityNG( mFilename ) ){
         quitState = INGAME;



From alainb at mail.berlios.de  Sun Apr 29 10:46:37 2007
From: alainb at mail.berlios.de (alainb at BerliOS)
Date: Sun, 29 Apr 2007 10:46:37 +0200
Subject: [Lincity-ng-commit] r1205 - in trunk/src: lincity lincity-ng
Message-ID: <200704290846.l3T8kb1x016585@sheep.berlios.de>

Author: alainb
Date: 2007-04-29 10:46:37 +0200 (Sun, 29 Apr 2007)
New Revision: 1205

Modified:
   trunk/src/lincity-ng/MainMenu.cpp
   trunk/src/lincity/engine.cpp
   trunk/src/lincity/simulate.cpp
   trunk/src/lincity/simulate.h
Log:
small fix in initialisation

Modified: trunk/src/lincity/engine.cpp
===================================================================
--- trunk/src/lincity/engine.cpp	2007-04-27 23:06:03 UTC (rev 1204)
+++ trunk/src/lincity/engine.cpp	2007-04-29 08:46:37 UTC (rev 1205)
@@ -26,6 +26,7 @@
 #include "gui_interface/shared_globals.h"
 
 extern int selected_type_cost;
+static void bulldoze_mappoint (short fill, int x, int y);
 
 void
 fire_area (int x, int y)
@@ -258,6 +259,7 @@
 
     size = MP_SIZE(x,y);
     g = MP_GROUP(x,y);
+    people_pool += MP_INFO(x,y).population;
 
     if (g == GROUP_BARE) {
 	/* Nothing to do. */
@@ -266,6 +268,7 @@
     else if (g == GROUP_SHANTY) {
 	fire_area (x, y);
 	adjust_money(-GROUP_SHANTY_BUL_COST);
+        numof_shanties--;
     }
     else if (g == GROUP_FIRE) {
 	if (MP_INFO(x,y).int_2 >= FIRE_LENGTH)
@@ -277,15 +280,25 @@
     }
     else {
 	adjust_money(-main_groups[g].bul_cost);
-	do_bulldoze_area (CST_GREEN, x, y);
-	if (g == GROUP_OREMINE)
-	{
+         
+        if (g == GROUP_COMMUNE)
+             numof_communes--;
+
+        if (g == GROUP_MARKET)
+            remove_a_market (x, y);
+ 
+        if (g == GROUP_SUBSTATION || g == GROUP_WINDMILL)
+             remove_a_substation (x, y);
+ 
+	if (g == GROUP_OREMINE)	{
 	    int i, j;
 	    for (j = 0; j < 4; j++)
 		for (i = 0; i < 4; i++)
 		    if (MP_INFO(x + i,y + j).ore_reserve < ORE_RESERVE / 2)
 			do_bulldoze_area (CST_WATER, x + i, y + j);
-	}
+	} else {
+            do_bulldoze_area (CST_GREEN, x, y);
+        }
     }
 
     /* Tell mps about it, in case its selected */
@@ -293,7 +306,44 @@
     return size;  /* No longer used... */
 }
 
+void
+do_bulldoze_area (short fill, int xx, int yy)
+{
+  int size, x, y;
+  if (MP_TYPE(xx,yy) == CST_USED)
+    {
+      x = MP_INFO(xx,yy).int_1;
+      y = MP_INFO(xx,yy).int_2;
+    }
+  else
+    {
+      x = xx;
+      y = yy;
+    }
+  size = MP_SIZE(x,y);
+  for (int i = 0; i < size; i++)
+      for (int j = 0; j < size; j++)  
+          bulldoze_mappoint (fill, x+i, y+j);
+}
 
+static void 
+bulldoze_mappoint (short fill, int x, int y)
+{
+    /* bulldoze preserve underground resources */
+    MP_TYPE(x,y) = fill;
+    MP_GROUP(x,y) = get_group_of_type(fill);
+    if (MP_GROUP(x,y) < 0) MP_GROUP(x,y) = GROUP_BARE;
+    MP_INFO(x,y).population = 0;
+    MP_INFO(x,y).flags = 0;
+    MP_INFO(x,y).int_1 = 0;
+    MP_INFO(x,y).int_2 = 0;
+    MP_INFO(x,y).int_3 = 0;
+    MP_INFO(x,y).int_4 = 0;
+    MP_INFO(x,y).int_5 = 0;
+    MP_INFO(x,y).int_6 = 0;
+    MP_INFO(x,y).int_7 = 0;
+}
+
 /** Mappoint array shuffles mappoint in order to stop linear simulation effects */
 
 /** this is called on startup */
@@ -862,60 +912,6 @@
 
 
 void
-do_bulldoze_area (short fill, int xx, int yy)
-{
-  int size, x, y;
-  if (MP_TYPE(xx,yy) == CST_USED)
-    {
-      x = MP_INFO(xx,yy).int_1;
-      y = MP_INFO(xx,yy).int_2;
-    }
-  else
-    {
-      x = xx;
-      y = yy;
-    }
-  size = MP_SIZE(x,y);
-  if (MP_GROUP(x,y) == GROUP_SUBSTATION
-      || MP_GROUP(x,y) == GROUP_WINDMILL)
-    remove_a_substation (x, y);
-  else if (MP_GROUP(x,y) == GROUP_MARKET)
-    remove_a_market (x, y);
-  else if (MP_GROUP(x,y) == GROUP_SHANTY)
-    numof_shanties--;
-  else if (MP_GROUP(x,y) == GROUP_COMMUNE)
-    numof_communes--;
-
-  people_pool += MP_INFO(x,y).population;
-  clear_mappoint (fill, x, y);
-  if (size > 1)			/* do size 2 */
-    {
-      clear_mappoint (fill, x + 1, y);
-      clear_mappoint (fill, x, y + 1);
-      clear_mappoint (fill, x + 1, y + 1);
-    }
-  if (size > 2)			/* do size 3 */
-    {
-      clear_mappoint (fill, x + 2, y);
-      clear_mappoint (fill, x + 2, y + 1);
-      clear_mappoint (fill, x + 2, y + 2);
-      clear_mappoint (fill, x, y + 2);
-      clear_mappoint (fill, x + 1, y + 2);
-    }
-  if (size > 3)			/* do size 4 */
-    {
-      clear_mappoint (fill, x + 3, y);
-      clear_mappoint (fill, x + 3, y + 1);
-      clear_mappoint (fill, x + 3, y + 2);
-      clear_mappoint (fill, x + 3, y + 3);
-      clear_mappoint (fill, x, y + 3);
-      clear_mappoint (fill, x + 1, y + 3);
-      clear_mappoint (fill, x + 2, y + 3);
-    }
-}
-
-
-void
 update_tech_dep (int x, int y)
 {
   switch (MP_GROUP(x,y))

Modified: trunk/src/lincity/simulate.cpp
===================================================================
--- trunk/src/lincity/simulate.cpp	2007-04-27 23:06:03 UTC (rev 1204)
+++ trunk/src/lincity/simulate.cpp	2007-04-29 08:46:37 UTC (rev 1205)
@@ -49,6 +49,7 @@
 static void random_start (int* originx, int* originy);
 static void simulate_mappoints (void);
 static void quick_start_add (int x, int y, short type, int size);
+static void nullify_mappoint (int x, int y);
 
 /* ---------------------------------------------------------------------- *
  * Public Functions
@@ -85,14 +86,17 @@
     do_periodic_events ();
 }
 
-void 
-clear_mappoint (short fill, int x, int y)
+static void 
+nullify_mappoint (int x, int y)
 {
-    MP_TYPE(x,y) = fill;
-    MP_GROUP(x,y) = get_group_of_type(fill);
-    if (MP_GROUP(x,y) < 0) MP_GROUP(x,y) = GROUP_BARE;
+    MP_TYPE(x,y) = CST_GREEN;
+    MP_GROUP(x,y) = GROUP_BARE;
+    MP_SIZE(x,y) = 1;
+    MP_POL(x,y) = 0;
     MP_INFO(x,y).population = 0;
     MP_INFO(x,y).flags = 0;
+    MP_INFO(x,y).coal_reserve = 0;
+    MP_INFO(x,y).ore_reserve = 0;
     MP_INFO(x,y).int_1 = 0;
     MP_INFO(x,y).int_2 = 0;
     MP_INFO(x,y).int_3 = 0;
@@ -424,8 +428,7 @@
     int x, y;
     for (y = 0; y < WORLD_SIDE_LEN; y++) {
 	for (x = 0; x < WORLD_SIDE_LEN; x++) {
-	    clear_mappoint (CST_GREEN, x, y);
-	    MP_POL(x,y) = 0;
+	    nullify_mappoint (x, y);
 	}
     }
     total_time = 0;
@@ -440,8 +443,13 @@
     total_births = 0;
     total_money = 0;
     tech_level = 0;
+    highest_tech_level = 0;
+    rockets_launched = 0;
+    rockets_launched_success = 0;
     init_inventory();
     update_avail_modules(0);
+    /* Al1. NG 1.1 is this enough ? Are all global variables reseted ? */
+    /* TODO reset screen, sustain info */
 }
 
 void

Modified: trunk/src/lincity/simulate.h
===================================================================
--- trunk/src/lincity/simulate.h	2007-04-27 23:06:03 UTC (rev 1204)
+++ trunk/src/lincity/simulate.h	2007-04-29 08:46:37 UTC (rev 1205)
@@ -6,7 +6,6 @@
 #ifndef __simulate_h__
 #define __simulate_h__
 
-void clear_mappoint (short fill, int x, int y);
 void new_city (int* originx, int* originy, int random_village);
 void count_all_groups (int* group_count);
 void do_time_step (void);

Modified: trunk/src/lincity-ng/MainMenu.cpp
===================================================================
--- trunk/src/lincity-ng/MainMenu.cpp	2007-04-27 23:06:03 UTC (rev 1204)
+++ trunk/src/lincity-ng/MainMenu.cpp	2007-04-29 08:46:37 UTC (rev 1205)
@@ -570,6 +570,10 @@
 void
 MainMenu::loadGameButtonClicked(Button* )
 {
+    /* FIXME: NG 1.1 initialisation/clear is not enough yet
+     * This should be done in the engine.cpp or simulate.cpp not here:
+     * see clear_game
+     */
     getSound()->playSound( "Click" );
     loadLoadGameMenu();
     switchMenu(loadGameMenu.get());
@@ -594,6 +598,10 @@
 void
 MainMenu::newGameStartButtonClicked(Button* )
 {
+    /* FIXME: NG 1.1 initialisation/clear is not enough yet
+     * This should be done in the engine.cpp or simulate.cpp not here:
+     * see clear_game
+     */
     getSound()->playSound( "Click" );
     if( loadCityNG( mFilename ) ){
     	strcpy (given_scene, baseName.c_str());
@@ -607,6 +615,10 @@
 MainMenu::newGameStartBareButtonClicked(Button* )
 {
     getSound()->playSound( "Click" );
+    /* FIXME: NG 1.1 initialisation/clear is not enough yet
+     * This should be done in the engine.cpp or simulate.cpp not here:
+     * see clear_game
+     */
     resetGameStats();
     new_city( &main_screen_originx, &main_screen_originy, 0 );
     GameView* gv = getGameView();
@@ -617,6 +629,10 @@
 
 //looks like not everything es reseted by new_city()
 void MainMenu::resetGameStats(){
+    /* FIXME: NG 1.1 initialisation/clear is not enough yet
+     * This should be done in the engine.cpp or simulate.cpp not here
+     * see clear_game
+     */
     given_scene[0] = 0;
     for( int i = 0; i < monthgraph_size; i++ ){
         monthgraph_pop[i] = 0;
@@ -637,6 +653,10 @@
 MainMenu::newGameStartVillageClicked(Button* )
 {
     getSound()->playSound( "Click" );
+    /* FIXME: NG 1.1 initialisation/clear is not enough yet
+     * This should be done in the engine.cpp or simulate.cpp not here
+     * see clear_game
+     */
     resetGameStats();
     new_city( &main_screen_originx, &main_screen_originy, 1 );
     GameView* gv = getGameView();
@@ -672,6 +692,10 @@
 void
 MainMenu::loadGameLoadButtonClicked(Button *)
 {
+    /* FIXME: NG 1.1 initialisation/clear is not enough yet
+     * This should be done in the engine.cpp or simulate.cpp not here:
+     * see clear_game
+     */
     getSound()->playSound( "Click" );
     if( loadCityNG( mFilename ) ){
         quitState = INGAME;



From alainb at mail.berlios.de  Sun Apr 29 15:17:51 2007
From: alainb at mail.berlios.de (alainb at BerliOS)
Date: Sun, 29 Apr 2007 15:17:51 +0200
Subject: [Lincity-ng-commit] r1206 - in trunk/src: lincity lincity/modules
	lincity-ng
Message-ID: <200704291317.l3TDHpuv023907@sheep.berlios.de>

Author: alainb
Date: 2007-04-29 15:17:50 +0200 (Sun, 29 Apr 2007)
New Revision: 1206

Modified:
   trunk/src/lincity-ng/MainLincity.cpp
   trunk/src/lincity/engine.cpp
   trunk/src/lincity/lin-city.h
   trunk/src/lincity/modules/shanty.cpp
   trunk/src/lincity/modules/shanty.h
Log:
small shanty rewrite. Add SDL_delay for pause or low speed

Modified: trunk/src/lincity/engine.cpp
===================================================================
--- trunk/src/lincity/engine.cpp	2007-04-29 08:46:37 UTC (rev 1205)
+++ trunk/src/lincity/engine.cpp	2007-04-29 13:17:50 UTC (rev 1206)
@@ -254,6 +254,9 @@
 
     if (MP_TYPE(x,y) == CST_USED) {
 	/* This is considered "improper" input.  Silently ignore. */
+#ifdef DEBUG
+        fprintf(stderr," try to improperly bulldoze_item CST_USED\n");
+#endif
 	return -1;
     }
 
@@ -266,9 +269,8 @@
 	return -1;
     }
     else if (g == GROUP_SHANTY) {
-	fire_area (x, y);
+	remove_a_shanty(x, y);
 	adjust_money(-GROUP_SHANTY_BUL_COST);
-        numof_shanties--;
     }
     else if (g == GROUP_FIRE) {
 	if (MP_INFO(x,y).int_2 >= FIRE_LENGTH)

Modified: trunk/src/lincity/lin-city.h
===================================================================
--- trunk/src/lincity/lin-city.h	2007-04-29 08:46:37 UTC (rev 1205)
+++ trunk/src/lincity/lin-city.h	2007-04-29 13:17:50 UTC (rev 1206)
@@ -1347,7 +1347,7 @@
 extern int spiral_find_group (int, int, int);
 extern int spiral_find_2x2 (int, int);
 extern void add_a_shanty (void);
-extern void remove_a_shanty (void);
+extern void remove_a_shanty (int, int);
 extern void update_shanty (void);
 extern void do_shanty (int, int);
 extern void do_tip (int, int);

Modified: trunk/src/lincity/modules/shanty.cpp
===================================================================
--- trunk/src/lincity/modules/shanty.cpp	2007-04-29 08:46:37 UTC (rev 1205)
+++ trunk/src/lincity/modules/shanty.cpp	2007-04-29 13:17:50 UTC (rev 1206)
@@ -61,28 +61,9 @@
   numof_shanties++;
 }
 
-void
-remove_a_shanty (void)
-{
-  int x, y, r;
-  if (numof_shanties <= 0)
-    return;
-  x = rand () % WORLD_SIDE_LEN;
-  y = rand () % WORLD_SIDE_LEN;
-  r = spiral_find_group (x, y, GROUP_SHANTY);
-  if (r == -1) {
-      printf ("Can't find a shanty to remove! ?\n");
-      return;
-  }
-  y = r / WORLD_SIDE_LEN;
-  x = r % WORLD_SIDE_LEN;
-  /* decrement of numof_shanties is done in fire area() */
-  fire_area (x, y);
-  /* now put the fire out */
-  MP_INFO(x,y).int_2 = FIRE_LENGTH + 1;
-  MP_INFO(x + 1,y).int_2 = FIRE_LENGTH + 1;
-  MP_INFO(x,y + 1).int_2 = FIRE_LENGTH + 1;
-  MP_INFO(x + 1,y + 1).int_2 = FIRE_LENGTH + 1;
+void remove_a_shanty (int x, int y) {
+    numof_shanties--;
+    fire_area (x, y);
 }
 
 void
@@ -91,14 +72,27 @@
   int i, pp;
   pp = people_pool - (COMMUNE_POP * numof_communes);
   i = (pp - SHANTY_MIN_PP) / SHANTY_POP;
-  if (i > numof_shanties)
-    add_a_shanty ();		/*                   vv-- schmitt trigger */
-
-  else if (numof_shanties > 0 && i < (numof_shanties - 1))
-    remove_a_shanty ();
-  else if (numof_shanties > 0 && rand () % 100 == 10)
-    remove_a_shanty ();		/* randomly close some down. */
-
+  if (i > numof_shanties) {
+      add_a_shanty ();
+  } else if ( numof_shanties > 0 && 
+                    ( i < (numof_shanties - 1) || rand () % 100 == 1) ) {
+        int x, y, r;
+        x = rand () % WORLD_SIDE_LEN;
+        y = rand () % WORLD_SIDE_LEN;
+        r = spiral_find_group (x, y, GROUP_SHANTY);
+        if (r == -1) {
+            fprintf (stderr,"Can't find a shanty to remove!\n");
+            return;
+        }
+        y = r / WORLD_SIDE_LEN;
+        x = r % WORLD_SIDE_LEN;
+        remove_a_shanty(x,y);  /* this will fire_area */
+        /* now put the fire out: it becomes impossible to bulldoze */
+        MP_INFO(x,y).int_2 = FIRE_LENGTH + 1;
+        MP_INFO(x + 1,y).int_2 = FIRE_LENGTH + 1;
+        MP_INFO(x,y + 1).int_2 = FIRE_LENGTH + 1;
+        MP_INFO(x + 1,y + 1).int_2 = FIRE_LENGTH + 1;
+  }
 }
 
 void

Modified: trunk/src/lincity/modules/shanty.h
===================================================================
--- trunk/src/lincity/modules/shanty.h	2007-04-29 08:46:37 UTC (rev 1205)
+++ trunk/src/lincity/modules/shanty.h	2007-04-29 13:17:50 UTC (rev 1206)
@@ -9,7 +9,7 @@
 #define __shanty_h__
 
 void add_a_shanty(void);
-void remove_a_shanty(void);
+void remove_a_shanty(int x, int y);
 void update_shanty(void);
 void do_shanty(int x, int y);
 

Modified: trunk/src/lincity-ng/MainLincity.cpp
===================================================================
--- trunk/src/lincity-ng/MainLincity.cpp	2007-04-29 08:46:37 UTC (rev 1205)
+++ trunk/src/lincity-ng/MainLincity.cpp	2007-04-29 13:17:50 UTC (rev 1206)
@@ -55,9 +55,11 @@
   Uint32 now=SDL_GetTicks();
   Uint32 mStepTime=( lincitySpeed *1000/NUMOF_DAYS_IN_YEAR); 
 
-  if( lincitySpeed == 0 || blockingDialogIsOpen )
+  if( lincitySpeed == 0 || blockingDialogIsOpen
+        || ( (now - oldTime < (mStepTime-10)) && (lincitySpeed != FAST_TIME_FOR_YEAR)) ) {
+      SDL_Delay(10); //don't burn cpu in active loop
       return;
-
+  }
   if ( (now - oldTime < mStepTime) && lincitySpeed != FAST_TIME_FOR_YEAR  )
     return; // skip frame
   oldTime = now;



From alainb at mail.berlios.de  Sun Apr 29 18:34:52 2007
From: alainb at mail.berlios.de (alainb at BerliOS)
Date: Sun, 29 Apr 2007 18:34:52 +0200
Subject: [Lincity-ng-commit] r1207 - in trunk: . src/lincity
	src/lincity/modules src/lincity-ng
Message-ID: <200704291634.l3TGYqjs015255@sheep.berlios.de>

Author: alainb
Date: 2007-04-29 18:34:47 +0200 (Sun, 29 Apr 2007)
New Revision: 1207

Modified:
   trunk/runoldgui
   trunk/src/lincity-ng/MapEdit.cpp
   trunk/src/lincity/engine.cpp
   trunk/src/lincity/ldsvguts.cpp
   trunk/src/lincity/lin-city.h
   trunk/src/lincity/modules/market.cpp
   trunk/src/lincity/modules/oremine.cpp
   trunk/src/lincity/modules/port.cpp
   trunk/src/lincity/modules/rocket_pad.cpp
Log:
move some small part of code, to gather things

Modified: trunk/runoldgui
===================================================================
--- trunk/runoldgui	2007-04-29 13:17:50 UTC (rev 1206)
+++ trunk/runoldgui	2007-04-29 16:34:47 UTC (rev 1207)
@@ -1,4 +1,5 @@
 #!/bin/bash
 export LINCITY_HOME=./data
-./lincity_oldgui
+#set dummy default language, and let oldgui manage it correctly
+LANG=zz ./lincity_oldgui
 

Modified: trunk/src/lincity/engine.cpp
===================================================================
--- trunk/src/lincity/engine.cpp	2007-04-29 13:17:50 UTC (rev 1206)
+++ trunk/src/lincity/engine.cpp	2007-04-29 16:34:47 UTC (rev 1207)
@@ -93,6 +93,8 @@
 int 
 place_item (int x, int y, short type)
 {
+    int i,j;
+    int prev_tip = 0;
     int group;
     int size;
 
@@ -106,30 +108,55 @@
 	return -1;
     }
 
-    /* Not enough slots in the substation array */
-
     switch (group) {
+    case GROUP_ORGANIC_FARM:
+	MP_INFO(x,y).int_1 = tech_level;
+        break;
+    case GROUP_TRACK:
+    case GROUP_ROAD:
+    case GROUP_RAIL:
+	MP_INFO(x,y).flags |= FLAG_IS_TRANSPORT;
+        break;
     case GROUP_SUBSTATION:
     case GROUP_WINDMILL:
-    {
-	if (add_a_substation (x, y) == 0)
+	if (add_a_substation (x, y) == 0) {
+            /* Not enough slots in the substation array */
+            fprintf(stderr," Too much windmill+substations. Can't build any more.\n");
 	    return -3;
-    } break;
+        }
+        MP_INFO(x,y).int_2 = tech_level;
+        MP_INFO(x,y).int_1 = (int)(WINDMILL_POWER
+	        + (((double) MP_INFO(x,y).int_2 * WINDMILL_POWER) / MAX_TECH_LEVEL));
+        /* Make sure that the correct windmill graphic shows up */
+	if (tech_level > MODERN_WINDMILL_TECH)
+	    type = CST_WINDMILL_1_R;
+	else 
+	    type = CST_WINDMILL_1_W;
+        break;
+    case (GROUP_COAL_POWER):
+        MP_INFO(x,y).int_4 = tech_level;
+        MP_INFO(x,y).int_1 = (int)(POWERS_COAL_OUTPUT
+	        + (((double) MP_INFO(x,y).int_4 * POWERS_COAL_OUTPUT)
+	                / MAX_TECH_LEVEL));
+        break;
+    case (GROUP_SOLAR_POWER):
+ 	MP_INFO(x,y).int_2 = tech_level;
+        MP_INFO(x,y).int_3 = (int)(POWERS_SOLAR_OUTPUT
+	        + (((double) MP_INFO(x,y).int_2 * POWERS_SOLAR_OUTPUT)
+	                / MAX_TECH_LEVEL));
+        break;
     case GROUP_PORT:
-    {
 	if (is_real_river (x + 4, y) != 1 
 	    || is_real_river (x + 4, y + 1) != 1
 	    || is_real_river (x + 4, y + 2) != 1 
 	    || is_real_river (x + 4, y + 3) != 1) {
 	    return -2;
 	}
-    } break;
+        break;
     case GROUP_COMMUNE:
-    {
 	numof_communes++;
-    } break;
+        break;
     case GROUP_MARKET:
-    {
 	/* Test for enough slots in the market array */
 	if (add_a_market (x, y) == 0)
 	    return -3;
@@ -138,21 +165,20 @@
 			       | FLAG_MB_GOODS | FLAG_MS_FOOD | FLAG_MS_JOBS
 			       | FLAG_MS_COAL | FLAG_MS_GOODS | FLAG_MS_ORE
 			       | FLAG_MS_STEEL);
-    } break;
+        break;
+    case GROUP_RECYCLE:
+        MP_INFO(x,y).int_4 = tech_level;
+        break;
     case GROUP_TIP:
-    {
 	/* Don't build a tip if there has already been one.  If we succeed,
 	   mark the spot permanently by "doubling" the ore reserve */
-	int i,j;
-	int prev_tip = 0;
-	for (i=0;i<3;i++) {
-	    for (j=0;j<3;j++) {
+	prev_tip = 0;
+	for (i=0; i < size; i++)
+	    for (j=0; j < size; j++)
 		if (MP_INFO(x+i,y+j).ore_reserve > ORE_RESERVE) {
 		    prev_tip = 1;
 		    break;
 		}
-	    }
-	}
 	if (prev_tip) {
 	    dialog_box(red(12),3,
 		       0,0,_("You can't build a tip here"),
@@ -160,23 +186,18 @@
 		       2,' ',_("OK"));
 	    return -4;
 	} else {
-	    for (i=0;i<3;i++) {
-		for (j=0;j<3;j++) {
+	    for (i=0; i < size; i++)
+		for (j=0; j < size; j++)
 		    MP_INFO(x+i,y+j).ore_reserve = ORE_RESERVE * 2;
-		}
-	    }
 	}
-    } break;
+        break;
     case GROUP_OREMINE:
-    {
 	/* Don't allow new mines on old mines or old tips */
 	/* GCS: mines over old mines is OK if there is enough remaining 
 	        ore, as is the case when there is partial overlap. */
-	int i,j;
-	int prev_tip = 0;
 	int total_ore = 0;
-	for (i=0;i<3;i++) {
-	    for (j=0;j<3;j++) {
+	for (i=0;i<size;i++) {
+	    for (j=0;j<size;j++) {
 		total_ore += MP_INFO(x+i,y+j).ore_reserve;
 		if (MP_INFO(x+i,y+j).ore_reserve > ORE_RESERVE) {
 		    prev_tip = 1;
@@ -198,45 +219,14 @@
 		       2,' ',_("OK"));
 	    return -4;
 	}
-    }
     } /* end case */
 
     /* Store last_built for refund on "mistakes" */
     last_built_x = x;
     last_built_y = y;
 
-    /* Make sure that the correct windmill graphic shows up */
-    if (group == GROUP_WINDMILL) {
-	if (tech_level > MODERN_WINDMILL_TECH) {
-	    type = CST_WINDMILL_1_R;
-	} else {
-	    type = CST_WINDMILL_1_W;
-	}
-    }
-
-    if (group == GROUP_SOLAR_POWER || group == GROUP_WINDMILL) {
-	MP_INFO(x,y).int_2 = tech_level;
-	// FIXME: what is this for:	let_one_through = 1;
-    }
-    else if (group == GROUP_RECYCLE || group == GROUP_COAL_POWER)
-	MP_INFO(x,y).int_4 = tech_level;
-    else if (group == GROUP_ORGANIC_FARM)
-	MP_INFO(x,y).int_1 = tech_level;
-    else if (group == GROUP_TRACK
-	     || group == GROUP_ROAD
-	     || group == GROUP_RAIL)
-	MP_INFO(x,y).flags |= FLAG_IS_TRANSPORT;
-    else if (group == GROUP_COALMINE
-	     || group == GROUP_OREMINE)
-      {
-	// FIXME: what is this for:	let_one_through = 1;
-	//	let_one_through = 1;
-      }
-
     set_mappoint (x, y, type);
 
-    update_tech_dep (x, y);
-
     if (group == GROUP_RIVER)
 	connect_rivers ();
 
@@ -375,173 +365,6 @@
     }
 }
 
-
-int
-buy_food (int xt, int yt)
-{
-  int i = 0;
-  if (MP_GROUP(xt,yt) == GROUP_TRACK)
-    {
-      if (MP_INFO(xt,yt).int_1 < MAX_FOOD_ON_TRACK)
-	i = MAX_FOOD_ON_TRACK - MP_INFO(xt,yt).int_1;
-    }
-  else if (MP_GROUP(xt,yt) == GROUP_ROAD)
-    {
-      if (MP_INFO(xt,yt).int_1 < MAX_FOOD_ON_ROAD)
-	i = MAX_FOOD_ON_ROAD - MP_INFO(xt,yt).int_1;
-    }
-  else if (MP_GROUP(xt,yt) == GROUP_RAIL)
-    {
-      if (MP_INFO(xt,yt).int_1 < MAX_FOOD_ON_RAIL)
-	i = MAX_FOOD_ON_RAIL - MP_INFO(xt,yt).int_1;
-    }
-  i = (i * PORT_IMPORT_RATE) / 1000;
-  MP_INFO(xt,yt).int_1 += i;
-  return (i * PORT_FOOD_RATE);
-}
-
-int
-buy_coal (int xt, int yt)
-{
-  int i = 0;
-  if (MP_GROUP(xt,yt) == GROUP_TRACK)
-    {
-      if (MP_INFO(xt,yt).int_3 < MAX_COAL_ON_TRACK)
-	i = MAX_COAL_ON_TRACK - MP_INFO(xt,yt).int_3;
-    }
-  else if (MP_GROUP(xt,yt) == GROUP_ROAD)
-    {
-      if (MP_INFO(xt,yt).int_3 < MAX_COAL_ON_ROAD)
-	i = MAX_COAL_ON_ROAD - MP_INFO(xt,yt).int_3;
-    }
-  else if (MP_GROUP(xt,yt) == GROUP_RAIL)
-    {
-      if (MP_INFO(xt,yt).int_3 < MAX_COAL_ON_RAIL)
-	i = MAX_COAL_ON_RAIL - MP_INFO(xt,yt).int_3;
-    }
-  i = (i * PORT_IMPORT_RATE) / 1000;
-  MP_INFO(xt,yt).int_3 += i;
-  return (i * PORT_COAL_RATE);
-}
-
-int
-buy_ore (int xt, int yt)
-{
-  int i = 0;
-  if (MP_GROUP(xt,yt) == GROUP_TRACK)
-    {
-      if (MP_INFO(xt,yt).int_5 < MAX_ORE_ON_TRACK)
-	i = MAX_ORE_ON_TRACK - MP_INFO(xt,yt).int_5;
-    }
-  else if (MP_GROUP(xt,yt) == GROUP_ROAD)
-    {
-      if (MP_INFO(xt,yt).int_5 < MAX_ORE_ON_ROAD)
-	i = MAX_ORE_ON_ROAD - MP_INFO(xt,yt).int_5;
-    }
-  else if (MP_GROUP(xt,yt) == GROUP_RAIL)
-    {
-      if (MP_INFO(xt,yt).int_5 < MAX_ORE_ON_RAIL)
-	i = MAX_ORE_ON_RAIL - MP_INFO(xt,yt).int_5;
-    }
-  i = (i * PORT_IMPORT_RATE) / 1000;
-  MP_INFO(xt,yt).int_5 += i;
-  return (i * PORT_ORE_RATE);
-}
-
-int
-buy_goods (int xt, int yt)
-{
-  int i = 0;
-  if (MP_GROUP(xt,yt) == GROUP_TRACK)
-    {
-      if (MP_INFO(xt,yt).int_4 < MAX_GOODS_ON_TRACK)
-	i = MAX_GOODS_ON_TRACK - MP_INFO(xt,yt).int_4;
-    }
-  else if (MP_GROUP(xt,yt) == GROUP_ROAD)
-    {
-      if (MP_INFO(xt,yt).int_4 < MAX_GOODS_ON_ROAD)
-	i = MAX_GOODS_ON_ROAD - MP_INFO(xt,yt).int_4;
-    }
-  else if (MP_GROUP(xt,yt) == GROUP_RAIL)
-    {
-      if (MP_INFO(xt,yt).int_4 < MAX_GOODS_ON_RAIL)
-	i = MAX_GOODS_ON_RAIL - MP_INFO(xt,yt).int_4;
-    }
-  i = (i * PORT_IMPORT_RATE) / 1000;
-  MP_INFO(xt,yt).int_4 += i;
-  return (i * PORT_GOODS_RATE);
-}
-
-
-int
-buy_steel (int xt, int yt)
-{
-  int i = 0;
-  if (MP_GROUP(xt,yt) == GROUP_TRACK)
-    {
-      if (MP_INFO(xt,yt).int_6 < MAX_STEEL_ON_TRACK)
-	i = MAX_STEEL_ON_TRACK - MP_INFO(xt,yt).int_6;
-    }
-  else if (MP_GROUP(xt,yt) == GROUP_ROAD)
-    {
-      if (MP_INFO(xt,yt).int_6 < MAX_STEEL_ON_ROAD)
-	i = MAX_STEEL_ON_ROAD - MP_INFO(xt,yt).int_6;
-    }
-  else if (MP_GROUP(xt,yt) == GROUP_RAIL)
-    {
-      if (MP_INFO(xt,yt).int_6 < MAX_STEEL_ON_RAIL)
-	i = MAX_STEEL_ON_RAIL - MP_INFO(xt,yt).int_6;
-    }
-  i = (i * PORT_IMPORT_RATE) / 1000;
-  MP_INFO(xt,yt).int_6 += i;
-  return (i * PORT_STEEL_RATE);
-}
-
-int
-sell_food (int xt, int yt)
-{
-  int i = 0;
-  i = (MP_INFO(xt,yt).int_1 * PORT_EXPORT_RATE) / 1000;
-  MP_INFO(xt,yt).int_1 -= i;
-  return (i * PORT_FOOD_RATE);
-}
-
-int
-sell_coal (int xt, int yt)
-{
-  int i = 0;
-  i = (MP_INFO(xt,yt).int_3 * PORT_EXPORT_RATE) / 1000;
-  MP_INFO(xt,yt).int_3 -= i;
-  return (i * PORT_COAL_RATE);
-}
-
-int
-sell_ore (int xt, int yt)
-{
-  int i = 0;
-  i = (MP_INFO(xt,yt).int_5 * PORT_EXPORT_RATE) / 1000;
-  MP_INFO(xt,yt).int_5 -= i;
-  return (i * PORT_ORE_RATE);
-}
-
-int
-sell_goods (int xt, int yt)
-{
-  int i = 0;
-  i = (MP_INFO(xt,yt).int_4 * PORT_EXPORT_RATE) / 1000;
-  MP_INFO(xt,yt).int_4 -= i;
-  return (i * PORT_GOODS_RATE);
-}
-
-int
-sell_steel (int xt, int yt)
-{
-  int i = 0;
-  i = (MP_INFO(xt,yt).int_6 * PORT_EXPORT_RATE) / 1000;
-  MP_INFO(xt,yt).int_6 -= i;
-  return (i * PORT_STEEL_RATE);
-}
-
 void
 do_pollution ()
 {
@@ -605,80 +428,7 @@
   } while (++pol < &map.pollution[WORLD_SIDE_LEN][0]);
 }
 
-
-/* XXX: remove_people is only used by rocket_pad, perhaps it should go there */
-
 void
-remove_people (int num)
-{
-#if defined (commentout)
-  int x, y, f;
-  time_t t;
-  f = 1;
-  t = time (0);
-  while (f && (num > 0)) {
-      for (y = 0; y < WORLD_SIDE_LEN; y++)
-	for (x = 0; x < WORLD_SIDE_LEN; x++)
-	  if (MP_GROUP_IS_RESIDENCE(x,y) && MP_INFO(x,y).population > 0)
-	    {
-	      MP_INFO(x,y).population--;
-	      // f = 1;
-	      f |= (MP_INFO(x,y).population > 0);
-	      num--;
-	      total_evacuated++;
-	    }
-  }
-  while (num > 0 && people_pool > 0) {
-      num--;
-      total_evacuated++;
-      people_pool--;
-  }
-#endif
-
-  int x, y;
-  /* reset housed population so that we can display it correctly */
-  housed_population = 1;
-  while (housed_population && (num > 0)) {
-      housed_population = 0;
-      for (y = 0; y < WORLD_SIDE_LEN; y++)
-	for (x = 0; x < WORLD_SIDE_LEN; x++)
-	  if (MP_GROUP_IS_RESIDENCE(x,y) && MP_INFO(x,y).population > 0) {
-	      MP_INFO(x,y).population--;
-	      housed_population += MP_INFO(x,y).population;
-	      num--;
-	      total_evacuated++;
-	  }
-  }
-  while (num > 0 && people_pool > 0) {
-      num--;
-      total_evacuated++;
-      people_pool--;
-  }
-
-  refresh_population_text ();
-
-#if defined (commentout)
-/* last ship wasn't full so everyone has gone. */
-  if (num > 0)
-    {
-      if (t > HOF_START && t < HOF_STOP)
-	ok_dial_box ("launch-gone-mail.mes", GOOD, 0L);
-      else
-	ok_dial_box ("launch-gone.mes", GOOD, 0L);
-      housed_population = 0;
-    }
-#endif
-
-  /* Note that the previous test was inaccurate.  There could be 
-     exactly 1000 people left. */
-  if (!housed_population && !people_pool) {
-    ok_dial_box ("launch-gone.mes", GOOD, 0L);
-  }
-}
-
-
-
-void
 clear_fire_health_and_cricket_cover (void)
 {
   int x, y, m;
@@ -709,8 +459,6 @@
       }
 }
 
-
-
 void
 do_random_fire (int x, int y, int pwarning)	/* well random if x=y=-1 */
 {
@@ -911,39 +659,7 @@
   return (-1);
 }
 
-
-
 void
-update_tech_dep (int x, int y)
-{
-  switch (MP_GROUP(x,y))
-    {
-    case (GROUP_WINDMILL):
-#ifdef OLD_POWER_CODE
-      MP_INFO(x,y).int_5 = (int)(WINDMILL_POWER
-#else
-      MP_INFO(x,y).int_1 = (int)(WINDMILL_POWER
-#endif
-	+ (((double) MP_INFO(x,y).int_2 * WINDMILL_POWER) / MAX_TECH_LEVEL));
-      break;
-    case (GROUP_COAL_POWER):
-#ifdef OLD_POWER_CODE
-      MP_INFO(x,y).int_5 = (int)(POWERS_COAL_OUTPUT
-#else
-      MP_INFO(x,y).int_1 = (int)(POWERS_COAL_OUTPUT
-#endif
-	+ (((double) MP_INFO(x,y).int_4 * POWERS_COAL_OUTPUT)
-	   / MAX_TECH_LEVEL));
-      break;
-    case (GROUP_SOLAR_POWER):
-      MP_INFO(x,y).int_3 = (int)(POWERS_SOLAR_OUTPUT
-	+ (((double) MP_INFO(x,y).int_2 * POWERS_SOLAR_OUTPUT)
-	   / MAX_TECH_LEVEL));
-      break;
-    }
-}
-
-void
 connect_rivers (void)
 {
   int x, y, count;

Modified: trunk/src/lincity/ldsvguts.cpp
===================================================================
--- trunk/src/lincity/ldsvguts.cpp	2007-04-29 13:17:50 UTC (rev 1206)
+++ trunk/src/lincity/ldsvguts.cpp	2007-04-29 16:34:47 UTC (rev 1207)
@@ -596,14 +596,13 @@
     }
     else
 	university_intake_rate = 50;
-    for (x = 0; x < WORLD_SIDE_LEN; x++)
-    {
-	for (y = 0; y < WORLD_SIDE_LEN; y++)
-	{
-	    update_tech_dep (x, y);
-	}
-    }
 
+    /*Al1 : What is this ? This does nothing, the value are saved in MP_INFO.int_ 
+     * for (x = 0; x < WORLD_SIDE_LEN; x++)
+     *   for (y = 0; y < WORLD_SIDE_LEN; y++)
+     *     update_tech_dep (x, y);
+     */
+
     unhighlight_module_button (selected_module);
     selected_module = sbut[7];	/* 7 is track.  Watch out though! */
     highlight_module_button (selected_module);

Modified: trunk/src/lincity/lin-city.h
===================================================================
--- trunk/src/lincity/lin-city.h	2007-04-29 13:17:50 UTC (rev 1206)
+++ trunk/src/lincity/lin-city.h	2007-04-29 16:34:47 UTC (rev 1207)
@@ -86,11 +86,6 @@
 #define FATAL   -1
 #define WARNING -2
 
-#ifndef M_PI
-#define M_PI        3.14159265358979323846
-#endif
-
-
 /* comment out the the next three lines for _slightly_ faster X drawing. */
 #if defined LC_X11 || defined WIN32
 #define ALLOW_PIX_DOUBLING
@@ -1308,18 +1303,6 @@
 extern void do_oremine (int, int);
 extern void do_commune (int, int);
 extern void do_port (int, int);
-extern int buy_food (int, int);
-extern int buy_jobs (int, int);
-extern int buy_coal (int, int);
-extern int buy_ore (int, int);
-extern int buy_goods (int, int);
-extern int buy_steel (int, int);
-extern int sell_food (int, int);
-extern int sell_jobs (int, int);
-extern int sell_coal (int, int);
-extern int sell_ore (int, int);
-extern int sell_goods (int, int);
-extern int sell_steel (int, int);
 
 extern void do_pollution (void);
 extern void do_parkland (int, int);
@@ -1328,7 +1311,6 @@
 extern void do_health_centre (int, int);
 extern void do_rocket_pad (int, int);
 extern void launch_rocket (int x, int y);
-extern void remove_people (int);
 extern void do_windmill (int, int);
 extern void do_monument (int, int);
 extern void do_school (int, int);

Modified: trunk/src/lincity/modules/market.cpp
===================================================================
--- trunk/src/lincity/modules/market.cpp	2007-04-29 13:17:50 UTC (rev 1206)
+++ trunk/src/lincity/modules/market.cpp	2007-04-29 16:34:47 UTC (rev 1207)
@@ -368,8 +368,11 @@
   marketx[numof_markets] = x;
   markety[numof_markets] = y;
   numof_markets++;
-  /* oh dear. Got to bootstap markets with jobs, otherwise power won't work */
-  /* GCS: Is this still true?  */
+  /* oh dear. Got to bootstap markets with jobs, otherwise power won't work
+   * GCS: Is this still true?
+   * AL1: FIXME it seems not :) it's just needed to wait for periodic event
+   */
+
   MP_INFO(x,y).int_2 = 2000;
   return (1);
 }
@@ -377,6 +380,9 @@
 void
 remove_a_market (int x, int y)
 {
+  /* AL1: Could use present jobs to try put_everything elsewhere
+   * at least half of the content
+   */
   int q;
   for (q = 0; q < numof_markets; q++)
     if (marketx[q] == x && markety[q] == y)
@@ -564,7 +570,10 @@
 	  MP_POL(x,y) += 3000;
 	  MP_INFO(x,y).int_7 -= (7 * MAX_WASTE_IN_MARKET) / 10;
 #if defined (commentout)
-	  /* this should fire up the pollution mini screen within a second. */
+	  /* this should fire up the pollution mini screen within a second.
+           * AL1: oh this is not implemented in NG :(
+           * This works only with oldgui
+           */
 	  mini_screen_flags = MINI_SCREEN_POL_FLAG;
 #endif
 	}

Modified: trunk/src/lincity/modules/oremine.cpp
===================================================================
--- trunk/src/lincity/modules/oremine.cpp	2007-04-29 13:17:50 UTC (rev 1206)
+++ trunk/src/lincity/modules/oremine.cpp	2007-04-29 16:34:47 UTC (rev 1207)
@@ -128,13 +128,11 @@
 
 
   /* choose a graphic */
-  if ((total_time & 0x7f) == 0)
-    {
+  if ((total_time & 0x7f) == 0) {
       xx = 7 * (MP_INFO(x,y).int_2 + (3 * ORE_RESERVE / 2))
 	/ (16 * ORE_RESERVE);
-      switch (xx)
-	{
-	case (0):
+      switch (xx) {
+        case (0):
 	  MP_TYPE(x,y) = CST_OREMINE_8;
 	  break;
 	case (1):
@@ -161,6 +159,7 @@
 	}
 	if (MP_INFO(x,y).int_2 <= 0) {
 #if defined (commentout)
+            /* AL1. It seems to be overwritten just below! */
 	    do_bulldoze_area (CST_GREEN, x, y);
 	    place_item(x,y,CST_TIP_0);
 #endif
@@ -173,7 +172,7 @@
 	    connect_rivers ();
 	    refresh_main_screen ();
 	}
-    }
+  }
 }
 
 void

Modified: trunk/src/lincity/modules/port.cpp
===================================================================
--- trunk/src/lincity/modules/port.cpp	2007-04-29 13:17:50 UTC (rev 1206)
+++ trunk/src/lincity/modules/port.cpp	2007-04-29 16:34:47 UTC (rev 1207)
@@ -8,9 +8,177 @@
 #include "modules.h"
 #include "port.h"
 
+static int
+buy_food (int xt, int yt)
+{
+  int i = 0;
+  if (MP_GROUP(xt,yt) == GROUP_TRACK)
+    {
+      if (MP_INFO(xt,yt).int_1 < MAX_FOOD_ON_TRACK)
+	i = MAX_FOOD_ON_TRACK - MP_INFO(xt,yt).int_1;
+    }
+  else if (MP_GROUP(xt,yt) == GROUP_ROAD)
+    {
+      if (MP_INFO(xt,yt).int_1 < MAX_FOOD_ON_ROAD)
+	i = MAX_FOOD_ON_ROAD - MP_INFO(xt,yt).int_1;
+    }
+  else if (MP_GROUP(xt,yt) == GROUP_RAIL)
+    {
+      if (MP_INFO(xt,yt).int_1 < MAX_FOOD_ON_RAIL)
+	i = MAX_FOOD_ON_RAIL - MP_INFO(xt,yt).int_1;
+    }
+  i = (i * PORT_IMPORT_RATE) / 1000;
+  MP_INFO(xt,yt).int_1 += i;
+  return (i * PORT_FOOD_RATE);
+}
+
+static int
+buy_coal (int xt, int yt)
+{
+  int i = 0;
+  if (MP_GROUP(xt,yt) == GROUP_TRACK)
+    {
+      if (MP_INFO(xt,yt).int_3 < MAX_COAL_ON_TRACK)
+	i = MAX_COAL_ON_TRACK - MP_INFO(xt,yt).int_3;
+    }
+  else if (MP_GROUP(xt,yt) == GROUP_ROAD)
+    {
+      if (MP_INFO(xt,yt).int_3 < MAX_COAL_ON_ROAD)
+	i = MAX_COAL_ON_ROAD - MP_INFO(xt,yt).int_3;
+    }
+  else if (MP_GROUP(xt,yt) == GROUP_RAIL)
+    {
+      if (MP_INFO(xt,yt).int_3 < MAX_COAL_ON_RAIL)
+	i = MAX_COAL_ON_RAIL - MP_INFO(xt,yt).int_3;
+    }
+  i = (i * PORT_IMPORT_RATE) / 1000;
+  MP_INFO(xt,yt).int_3 += i;
+  return (i * PORT_COAL_RATE);
+}
+
+static int
+buy_ore (int xt, int yt)
+{
+  int i = 0;
+  if (MP_GROUP(xt,yt) == GROUP_TRACK)
+    {
+      if (MP_INFO(xt,yt).int_5 < MAX_ORE_ON_TRACK)
+	i = MAX_ORE_ON_TRACK - MP_INFO(xt,yt).int_5;
+    }
+  else if (MP_GROUP(xt,yt) == GROUP_ROAD)
+    {
+      if (MP_INFO(xt,yt).int_5 < MAX_ORE_ON_ROAD)
+	i = MAX_ORE_ON_ROAD - MP_INFO(xt,yt).int_5;
+    }
+  else if (MP_GROUP(xt,yt) == GROUP_RAIL)
+    {
+      if (MP_INFO(xt,yt).int_5 < MAX_ORE_ON_RAIL)
+	i = MAX_ORE_ON_RAIL - MP_INFO(xt,yt).int_5;
+    }
+  i = (i * PORT_IMPORT_RATE) / 1000;
+  MP_INFO(xt,yt).int_5 += i;
+  return (i * PORT_ORE_RATE);
+}
+
+static int
+buy_goods (int xt, int yt)
+{
+  int i = 0;
+  if (MP_GROUP(xt,yt) == GROUP_TRACK)
+    {
+      if (MP_INFO(xt,yt).int_4 < MAX_GOODS_ON_TRACK)
+	i = MAX_GOODS_ON_TRACK - MP_INFO(xt,yt).int_4;
+    }
+  else if (MP_GROUP(xt,yt) == GROUP_ROAD)
+    {
+      if (MP_INFO(xt,yt).int_4 < MAX_GOODS_ON_ROAD)
+	i = MAX_GOODS_ON_ROAD - MP_INFO(xt,yt).int_4;
+    }
+  else if (MP_GROUP(xt,yt) == GROUP_RAIL)
+    {
+      if (MP_INFO(xt,yt).int_4 < MAX_GOODS_ON_RAIL)
+	i = MAX_GOODS_ON_RAIL - MP_INFO(xt,yt).int_4;
+    }
+  i = (i * PORT_IMPORT_RATE) / 1000;
+  MP_INFO(xt,yt).int_4 += i;
+  return (i * PORT_GOODS_RATE);
+}
+
+
+static int
+buy_steel (int xt, int yt)
+{
+  int i = 0;
+  if (MP_GROUP(xt,yt) == GROUP_TRACK)
+    {
+      if (MP_INFO(xt,yt).int_6 < MAX_STEEL_ON_TRACK)
+	i = MAX_STEEL_ON_TRACK - MP_INFO(xt,yt).int_6;
+    }
+  else if (MP_GROUP(xt,yt) == GROUP_ROAD)
+    {
+      if (MP_INFO(xt,yt).int_6 < MAX_STEEL_ON_ROAD)
+	i = MAX_STEEL_ON_ROAD - MP_INFO(xt,yt).int_6;
+    }
+  else if (MP_GROUP(xt,yt) == GROUP_RAIL)
+    {
+      if (MP_INFO(xt,yt).int_6 < MAX_STEEL_ON_RAIL)
+	i = MAX_STEEL_ON_RAIL - MP_INFO(xt,yt).int_6;
+    }
+  i = (i * PORT_IMPORT_RATE) / 1000;
+  MP_INFO(xt,yt).int_6 += i;
+  return (i * PORT_STEEL_RATE);
+}
+
+static int
+sell_food (int xt, int yt)
+{
+  int i = 0;
+  i = (MP_INFO(xt,yt).int_1 * PORT_EXPORT_RATE) / 1000;
+  MP_INFO(xt,yt).int_1 -= i;
+  return (i * PORT_FOOD_RATE);
+}
+
+static int
+sell_coal (int xt, int yt)
+{
+  int i = 0;
+  i = (MP_INFO(xt,yt).int_3 * PORT_EXPORT_RATE) / 1000;
+  MP_INFO(xt,yt).int_3 -= i;
+  return (i * PORT_COAL_RATE);
+}
+
+static int
+sell_ore (int xt, int yt)
+{
+  int i = 0;
+  i = (MP_INFO(xt,yt).int_5 * PORT_EXPORT_RATE) / 1000;
+  MP_INFO(xt,yt).int_5 -= i;
+  return (i * PORT_ORE_RATE);
+}
+
+static int
+sell_goods (int xt, int yt)
+{
+  int i = 0;
+  i = (MP_INFO(xt,yt).int_4 * PORT_EXPORT_RATE) / 1000;
+  MP_INFO(xt,yt).int_4 -= i;
+  return (i * PORT_GOODS_RATE);
+}
+
+static int
+sell_steel (int xt, int yt)
+{
+  int i = 0;
+  i = (MP_INFO(xt,yt).int_6 * PORT_EXPORT_RATE) / 1000;
+  MP_INFO(xt,yt).int_6 -= i;
+  return (i * PORT_STEEL_RATE);
+}
+
 /* Trade with a transport.
  * Port is at x/y, transport at u/v. */
-void trade_connection( const int x, const int y, const int u, const int v, int* ic_ptr, int* et_ptr ){
+static void
+trade_connection( const int x, const int y, const int u, const int v, int* ic_ptr, int* et_ptr )
+{
   if (u >= 0 && v>=0 && (MP_INFO( u, v).flags
               & FLAG_IS_TRANSPORT) != 0)
   {
@@ -84,7 +252,6 @@
   }
 }
 
-
 void
 do_port (int x, int y)
 {

Modified: trunk/src/lincity/modules/rocket_pad.cpp
===================================================================
--- trunk/src/lincity/modules/rocket_pad.cpp	2007-04-29 13:17:50 UTC (rev 1206)
+++ trunk/src/lincity/modules/rocket_pad.cpp	2007-04-29 16:34:47 UTC (rev 1207)
@@ -7,6 +7,7 @@
 
 #include "modules.h"
 #include "gui_interface/screen_interface.h"
+#include "gui_interface/pbar_interface.h"
 #include "fire.h"
 //mouse.h" /* XXX: for fire_area! */
 #include "rocket_pad.h"
@@ -118,6 +119,74 @@
 }
 
 void
+remove_people (int num)
+{
+#if defined (commentout)
+  int x, y, f;
+  time_t t;
+  f = 1;
+  t = time (0);
+  while (f && (num > 0)) {
+      for (y = 0; y < WORLD_SIDE_LEN; y++)
+	for (x = 0; x < WORLD_SIDE_LEN; x++)
+	  if (MP_GROUP_IS_RESIDENCE(x,y) && MP_INFO(x,y).population > 0)
+	    {
+	      MP_INFO(x,y).population--;
+	      // f = 1;
+	      f |= (MP_INFO(x,y).population > 0);
+	      num--;
+	      total_evacuated++;
+	    }
+  }
+  while (num > 0 && people_pool > 0) {
+      num--;
+      total_evacuated++;
+      people_pool--;
+  }
+#endif
+
+  int x, y;
+  /* reset housed population so that we can display it correctly */
+  housed_population = 1;
+  while (housed_population && (num > 0)) {
+      housed_population = 0;
+      for (y = 0; y < WORLD_SIDE_LEN; y++)
+	for (x = 0; x < WORLD_SIDE_LEN; x++)
+	  if (MP_GROUP_IS_RESIDENCE(x,y) && MP_INFO(x,y).population > 0) {
+	      MP_INFO(x,y).population--;
+	      housed_population += MP_INFO(x,y).population;
+	      num--;
+	      total_evacuated++;
+	  }
+  }
+  while (num > 0 && people_pool > 0) {
+      num--;
+      total_evacuated++;
+      people_pool--;
+  }
+
+  refresh_population_text ();
+
+#if defined (commentout)
+/* last ship wasn't full so everyone has gone. */
+  if (num > 0)
+    {
+      if (t > HOF_START && t < HOF_STOP)
+	ok_dial_box ("launch-gone-mail.mes", GOOD, 0L);
+      else
+	ok_dial_box ("launch-gone.mes", GOOD, 0L);
+      housed_population = 0;
+    }
+#endif
+
+  /* Note that the previous test was inaccurate.  There could be 
+     exactly 1000 people left. */
+  if (!housed_population && !people_pool) {
+    ok_dial_box ("launch-gone.mes", GOOD, 0L);
+  }
+}
+
+void
 launch_rocket (int x, int y)
 {
     int i, r, xx, yy, xxx, yyy;

Modified: trunk/src/lincity-ng/MapEdit.cpp
===================================================================
--- trunk/src/lincity-ng/MapEdit.cpp	2007-04-29 13:17:50 UTC (rev 1206)
+++ trunk/src/lincity-ng/MapEdit.cpp	2007-04-29 16:34:47 UTC (rev 1207)
@@ -314,5 +314,16 @@
             // a dialog here.
             last_message_group = 0;
             break;
+        case -3:
+            /* windmills/substations or market
+             * too much building of this kind, cannot build more ....
+             * the message for user was sent by place_item 
+             */
+        case -4:
+            /* previous tip here, cannot build oremine/tip here
+             * or not enough ore reserve for building a mine.
+             * the message for user was sent by place_item 
+             */
+            ;
     }
 }



From alainb at mail.berlios.de  Sun Apr 29 23:42:46 2007
From: alainb at mail.berlios.de (alainb at BerliOS)
Date: Sun, 29 Apr 2007 23:42:46 +0200
Subject: [Lincity-ng-commit] r1208 - in trunk/src: lincity lincity-ng
Message-ID: <200704292142.l3TLgkcA005872@sheep.berlios.de>

Author: alainb
Date: 2007-04-29 23:42:45 +0200 (Sun, 29 Apr 2007)
New Revision: 1208

Modified:
   trunk/src/lincity-ng/MapEdit.cpp
   trunk/src/lincity-ng/ScreenInterface.cpp
   trunk/src/lincity/engine.cpp
Log:
add comments and 'fixme' wrt dialog_box

Modified: trunk/src/lincity/engine.cpp
===================================================================
--- trunk/src/lincity/engine.cpp	2007-04-29 16:34:47 UTC (rev 1207)
+++ trunk/src/lincity/engine.cpp	2007-04-29 21:42:45 UTC (rev 1208)
@@ -93,6 +93,11 @@
 int 
 place_item (int x, int y, short type)
 {
+#ifdef DEBUG
+/* Al1: my ugly workaround. Debug should not be the same as oldgui */
+#define OLDGUI
+#endif
+
     int i,j;
     int prev_tip = 0;
     int group;
@@ -117,11 +122,25 @@
     case GROUP_RAIL:
 	MP_INFO(x,y).flags |= FLAG_IS_TRANSPORT;
         break;
+    case GROUP_PORT:
+	if (is_real_river (x + 4, y) != 1 
+	    || is_real_river (x + 4, y + 1) != 1
+	    || is_real_river (x + 4, y + 2) != 1 
+	    || is_real_river (x + 4, y + 3) != 1) {
+	    return -2;
+	}
+        break;
     case GROUP_SUBSTATION:
     case GROUP_WINDMILL:
 	if (add_a_substation (x, y) == 0) {
             /* Not enough slots in the substation array */
-            fprintf(stderr," Too much windmill+substations. Can't build any more.\n");
+#ifdef OLDGUI
+            dialog_box(red(12),3,
+		       0,0,_("Too many windmills + substations"),
+		       0,0,_("You cannot build one more"),
+		       2,' ',_("OK"));
+#endif
+            /* FIXME launch a message. dialog_box is broken in NG-1.1*/
 	    return -3;
         }
         MP_INFO(x,y).int_2 = tech_level;
@@ -145,21 +164,21 @@
 	        + (((double) MP_INFO(x,y).int_2 * POWERS_SOLAR_OUTPUT)
 	                / MAX_TECH_LEVEL));
         break;
-    case GROUP_PORT:
-	if (is_real_river (x + 4, y) != 1 
-	    || is_real_river (x + 4, y + 1) != 1
-	    || is_real_river (x + 4, y + 2) != 1 
-	    || is_real_river (x + 4, y + 3) != 1) {
-	    return -2;
-	}
-        break;
     case GROUP_COMMUNE:
 	numof_communes++;
         break;
     case GROUP_MARKET:
 	/* Test for enough slots in the market array */
-	if (add_a_market (x, y) == 0)
-	    return -3;
+	if (add_a_market (x, y) == 0) {
+#ifdef OLDGUI
+            dialog_box(red(12),3,
+		       0,0,_("Too many markets"),
+		       0,0,_("You cannot build one more"),
+		       2,' ',_("OK"));
+#endif
+            /* FIXME launch a message. dialog_box is broken in NG-1.1*/
+	    return -4;
+        }
 	MP_INFO(x,y).flags += (FLAG_MB_FOOD | FLAG_MB_JOBS
 			       | FLAG_MB_COAL | FLAG_MB_ORE | FLAG_MB_STEEL
 			       | FLAG_MB_GOODS | FLAG_MS_FOOD | FLAG_MS_JOBS
@@ -180,11 +199,14 @@
 		    break;
 		}
 	if (prev_tip) {
+#ifdef OLDGUI
 	    dialog_box(red(12),3,
 		       0,0,_("You can't build a tip here"),
 		       0,0,_("This area was once a landfill"),
 		       2,' ',_("OK"));
-	    return -4;
+#endif
+            /* FIXME launch a message. dialog_box is broken in NG-1.1*/
+	    return -5;
 	} else {
 	    for (i=0; i < size; i++)
 		for (j=0; j < size; j++)
@@ -196,6 +218,7 @@
 	/* GCS: mines over old mines is OK if there is enough remaining 
 	        ore, as is the case when there is partial overlap. */
 	int total_ore = 0;
+	prev_tip = 0;
 	for (i=0;i<size;i++) {
 	    for (j=0;j<size;j++) {
 		total_ore += MP_INFO(x+i,y+j).ore_reserve;
@@ -206,18 +229,24 @@
 	    }
 	}
 	if (prev_tip) {
+#ifdef OLDGUI
 	    dialog_box(red(12),3,
 		       0,0,_("You can't build a mine here"),
 		       0,0,_("This area was once a landfill"),
 		       2,' ',_("OK"));
-	    return -4;
+#endif
+            /* FIXME launch a message. dialog_box is broken in NG-1.1*/
+	    return -6;
 	}
 	if (total_ore < MIN_ORE_RESERVE_FOR_MINE) {
+#ifdef OLDGUI
 	    dialog_box(red(12),3,
 		       0,0,_("You can't build a mine here"),
 		       0,0,_("There is no ore left at this site"),
 		       2,' ',_("OK"));
-	    return -4;
+#endif
+            /* FIXME launch a message. dialog_box is broken in NG-1.1*/
+	    return -7;
 	}
     } /* end case */
 

Modified: trunk/src/lincity-ng/MapEdit.cpp
===================================================================
--- trunk/src/lincity-ng/MapEdit.cpp	2007-04-29 16:34:47 UTC (rev 1207)
+++ trunk/src/lincity-ng/MapEdit.cpp	2007-04-29 21:42:45 UTC (rev 1208)
@@ -315,14 +315,18 @@
             last_message_group = 0;
             break;
         case -3:
-            /* windmills/substations or market
-             * too much building of this kind, cannot build more ....
-             * the message for user was sent by place_item 
-             */
+            /* too many windmills/substations */
         case -4:
-            /* previous tip here, cannot build oremine/tip here
-             * or not enough ore reserve for building a mine.
-             * the message for user was sent by place_item 
+            /* too many market */
+        case -5:
+            /* previous tip here, cannot build tip here */
+        case -6:
+            /* previous tip here, cannot build oremine */
+        case -7:
+            /* no ore reserve. cannot build oremine here */
+            /* FIXME messages are supposed to be launched by place_item 
+             * FIXME but dialog_box is broken with NG 1.1
+             * FIXME no message appears 
              */
             ;
     }

Modified: trunk/src/lincity-ng/ScreenInterface.cpp
===================================================================
--- trunk/src/lincity-ng/ScreenInterface.cpp	2007-04-29 16:34:47 UTC (rev 1207)
+++ trunk/src/lincity-ng/ScreenInterface.cpp	2007-04-29 21:42:45 UTC (rev 1208)
@@ -294,6 +294,7 @@
  *  colour is the color of the Background of the Dialog
  *
  *  Do we use dialog_box at all? Unfortunately yes. There is a lot of legacy code...
+ *  Al1: in NG 1.1 only used in engine.cpp for 5 messages, and it is broken ;-)
  *  
  *  argc is the number of following argument triplets.
  *  Each triplet consists of
@@ -309,6 +310,7 @@
  *           
  *      string is the text
  */
+
 int dialog_box(int colour, int argc, ...)
 {
     (void) colour;



From wolfgangb at mail.berlios.de  Mon Apr 30 19:47:11 2007
From: wolfgangb at mail.berlios.de (wolfgangb at BerliOS)
Date: Mon, 30 Apr 2007 19:47:11 +0200
Subject: [Lincity-ng-commit] r1209 - trunk/data/help/nl
Message-ID: <200704301747.l3UHlBRL003601@sheep.berlios.de>

Author: wolfgangb
Date: 2007-04-30 19:47:10 +0200 (Mon, 30 Apr 2007)
New Revision: 1209

Modified:
   trunk/data/help/nl/blacksmith.xml
   trunk/data/help/nl/button-index.xml
   trunk/data/help/nl/coal.xml
   trunk/data/help/nl/commune.xml
   trunk/data/help/nl/cricket.xml
   trunk/data/help/nl/economy.xml
   trunk/data/help/nl/index.xml
   trunk/data/help/nl/market.xml
   trunk/data/help/nl/msb-coal.xml
   trunk/data/help/nl/ore.xml
   trunk/data/help/nl/park.xml
   trunk/data/help/nl/pbar.xml
   trunk/data/help/nl/pollution.xml
   trunk/data/help/nl/port.xml
   trunk/data/help/nl/pottery.xml
   trunk/data/help/nl/powerline.xml
   trunk/data/help/nl/powerscoal.xml
   trunk/data/help/nl/road.xml
   trunk/data/help/nl/rocket.xml
   trunk/data/help/nl/steel.xml
   trunk/data/help/nl/substation.xml
   trunk/data/help/nl/track.xml
   trunk/data/help/nl/tutorial-aim.xml
   trunk/data/help/nl/tutorial-basics.xml
   trunk/data/help/nl/tutorial.xml
Log:
Ronald Stroethoff: update of the dutch translations 


Modified: trunk/data/help/nl/blacksmith.xml
===================================================================
--- trunk/data/help/nl/blacksmith.xml	2007-04-29 21:42:45 UTC (rev 1208)
+++ trunk/data/help/nl/blacksmith.xml	2007-04-30 17:47:10 UTC (rev 1209)
@@ -13,7 +13,7 @@
 	<p style="hsubtitle">Lees ook:</p>
 	<li><a href="market">Markt</a></li>
 	<li><a href="ore">IJzererts</a></li>
-	<li><a href="commune">Communie</a></li>
+	<li><a href="commune">Houtskoolbranderij</a></li>
 	<li><a href="steel">Staal</a></li>
 	<li><a href="jobs">Werk</a></li>
 </Document>

Modified: trunk/data/help/nl/button-index.xml
===================================================================
--- trunk/data/help/nl/button-index.xml	2007-04-29 21:42:45 UTC (rev 1208)
+++ trunk/data/help/nl/button-index.xml	2007-04-30 17:47:10 UTC (rev 1209)
@@ -56,7 +56,7 @@
 
 	<!--<p style="subtitle">Mining</p>-->
 	<img src="images/gui/buttonpanel/mining/commune.png"/>
-	<p><a href="commune">Communie</a></p>
+	<p><a href="commune">Houtskoolbranderij</a></p>
 	<img src="images/gui/buttonpanel/mining/oremine.png"/>
 	<p><a href="oremine">IJzerertsmijn</a></p>
 

Modified: trunk/data/help/nl/coal.xml
===================================================================
--- trunk/data/help/nl/coal.xml	2007-04-29 21:42:45 UTC (rev 1208)
+++ trunk/data/help/nl/coal.xml	2007-04-30 17:47:10 UTC (rev 1209)
@@ -3,12 +3,12 @@
 	<p style="htitle">Steenkool</p>
 	<p style="hp">Steenkool wordt gebruikt door steenkoolcentrales om electriciteit te maken. Het wordt ook gebruikt door pottenbakkerijen, textielfabrieken en smidsen, bij het proces van goederen maken. Zware industrie (staalfabrieken) gebruiken steenkool als er geen electriciteit beschikbaar is.</p>
 	<p style="hp">Steenkool wordt opgegraven uit de grond door steenkoolmijnen. Er is een beperkte reserve, u kunt raadplegen door gebruik van de steenkoolreserve knop lees meer:(<a href="coalmine">steenkoolmijn</a>).</p>
-	<p style="hp">Communies leveren ook een kleine hoeveelheid steenkool. Eigenlijk is dit houtskool gemaakt van verbrand hout. Communies leveren alleen kleine hoeveelheden, genoeg voor een paar pottenbakkerijen en smidsen. </p>
+	<p style="hp">Houtskoolbranderijen leveren ook een kleine hoeveelheid steenkool. Eigenlijk is dit houtskool gemaakt van verbrand hout. Houtskoolbranderijen leveren alleen kleine hoeveelheden, genoeg voor een paar pottenbakkerijen en smidsen. </p>
 
 	<p style="hsubtitle">Lees ook:</p>
 	<li><a href="coalmine">Steenkoolmijn</a></li>
 	<li><a href="powerscoal">Steenkoolcentrale</a></li>
-	<li><a href="commune">Communie</a></li>
+	<li><a href="commune">Houtskoolbranderij</a></li>
 	<li><a href="pottery">Pottenbakkerij</a></li>
 	<li><a href="blacksmith">Smidse</a></li>
 	<li><a href="msb-coal">Steenkool gebieden</a></li>

Modified: trunk/data/help/nl/commune.xml
===================================================================
--- trunk/data/help/nl/commune.xml	2007-04-29 21:42:45 UTC (rev 1208)
+++ trunk/data/help/nl/commune.xml	2007-04-30 17:47:10 UTC (rev 1209)
@@ -1,12 +1,12 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <Document style="helpdocument">
-	<p style="htitle">Communie</p>
-	<p style="hp">Communies zijn gebieden waar houtskool (gelijk aan steenkool in dit spel) gemaakt wordt. Ze produceren ook kleine hoeveelheden ijzererts en staal.</p>
-	<p style="hp">U zult mogelijk een aantal communies nodig hebben om genoeg steenkool en staal te leveren voor pottenbakkerijen, smidsen en textielfabrieken.</p>
-	<p style="hp">Communies moeten verbonden zijn met transport.</p>
-	<p style="hp">Als een communie gedurende 10 jaar niets produceert, wordt het gesloten en omgevormd tot een park.</p>
+	<p style="htitle">Houtskoolbranderij</p>
+	<p style="hp">Houtskoolbranderijen zijn gebieden waar houtskool (gelijk aan steenkool in dit spel) gemaakt wordt. Ze produceren ook kleine hoeveelheden ijzererts en staal.</p>
+	<p style="hp">U zult mogelijk een aantal houtskoolbranderijen nodig hebben om genoeg steenkool en staal te leveren voor pottenbakkerijen, smidsen en textielfabrieken.</p>
+	<p style="hp">Houtskoolbranderijen moeten verbonden zijn met transport.</p>
+	<p style="hp">Als een houtskoolbranderij gedurende 10 jaar niets produceert, wordt het gesloten en omgevormd tot een park.</p>
 	
-	<p style="hp">Dit is een communie</p>
+	<p style="hp">Dit is een houtskoolbranderij</p>
 	<img src="images/tiles/commune1.png" halign="center"/>
 	<p style="hp">en dit is het icoontje</p>
 	<img src="images/gui/buttonpanel/mining/commune.png" halign="center"/>

Modified: trunk/data/help/nl/cricket.xml
===================================================================
--- trunk/data/help/nl/cricket.xml	2007-04-29 21:42:45 UTC (rev 1208)
+++ trunk/data/help/nl/cricket.xml	2007-04-30 17:47:10 UTC (rev 1209)
@@ -1,7 +1,7 @@
 <?xml version="1.0"?>
 <Document style="helpdocument">
 	<p style="htitle">Basketbalveld</p>
-	<p style="hp">Basketbalevelden leveren sport en vermaak aan de inwoners van uw stad. Ze hebben goederen en werk nodig om te werken. Er hoeft geen verbinding te zijn met verkeer, maar als het niet is verbonden met een weg, moet wel in de buurt liggen van een markt die werk en goederen kan leveren. Ze kosten ook geld om te onderhouden.</p>
+	<p style="hp">Basketbalvelden leveren sport en vermaak aan de inwoners van uw stad. Ze hebben goederen en werk nodig om te werken. Er hoeft geen verbinding te zijn met verkeer, maar als het niet is verbonden met een weg, moet wel in de buurt liggen van een markt die werk en goederen kan leveren. Ze kosten ook geld om te onderhouden.</p>
 	<p style="hp">Wanneer u een basketbalveld bouwt, kan deze niet meteen gebruikt worden, normaal duurt het 3 maanden voordat er gespeeld wordt.</p>
 	<p style="hp">Om te zien welk bereik uw basketbalvelden hebben, kunt u klikken op de sportbereik-knop onder de mini-kaart. Gebieden die in de buurt liggen, worden getoond als normaal, andere zijn donkergroen.</p>
 	<p style="hp">Basketbalvelden verhogen het welzijn van woonwijken in hun bereik.</p>

Modified: trunk/data/help/nl/economy.xml
===================================================================
--- trunk/data/help/nl/economy.xml	2007-04-29 21:42:45 UTC (rev 1208)
+++ trunk/data/help/nl/economy.xml	2007-04-30 17:47:10 UTC (rev 1209)
@@ -9,7 +9,7 @@
 	</li>
 	<li>
 		<span color="blue">Daklozen</span>
-        De blauwe lijn lijn toont de vraag naar huizen. De hoogte van de grafiek is komt overeen met de hoeveelheid daklozen.
+        De blauwe lijn toont de vraag naar huizen. De hoogte van de grafiek is komt overeen met de hoeveelheid daklozen.
 	</li>
 	<li>
 		<span color="yellow">Werkzoekende</span>

Modified: trunk/data/help/nl/index.xml
===================================================================
--- trunk/data/help/nl/index.xml	2007-04-29 21:42:45 UTC (rev 1208)
+++ trunk/data/help/nl/index.xml	2007-04-30 17:47:10 UTC (rev 1209)
@@ -7,7 +7,6 @@
 <li><a href="farm">Boerderij</a></li>
 <li><a href="msb-fire">Brand kaart</a></li>
 <li><a href="firestation">Brandweerkazerne</a></li>
-<li><a href="commune">Communie</a></li>
 <li><a href="dialogs">Dialogvenster</a></li>
 <li><a href="other-costs">Diverse kosten</a></li>
 <li><a href="tutorial-aim">Doel van het spel</a></li>
@@ -19,6 +18,7 @@
 <li><a href="goods">Goederen</a></li>
 <li><a href="port">Havens</a></li>
 <li><a href="fast">Hoge snelheid</a></li>
+<li><a href="commune">Houtskoolbranderij</a></li>
 <li><a href="button-index">Icoon index</a></li>
 <li><a href="export">Import en export gebieden</a></li>
 <li><a href="query">Informatie</a></li>

Modified: trunk/data/help/nl/market.xml
===================================================================
--- trunk/data/help/nl/market.xml	2007-04-29 21:42:45 UTC (rev 1208)
+++ trunk/data/help/nl/market.xml	2007-04-30 17:47:10 UTC (rev 1209)
@@ -13,7 +13,7 @@
 	<p style="hp">Als er geen markt in de buurt is, dan moeten deze gebouwen verbinding hebben met <a href="transport">verkeer</a>.</p>
 	<p style="hp">Rechtsonder, onder de tweede knop van het mini-venster is een overzicht zien van <b>alle marktvoorraden</b>,ook is te zien hoe dit verandert via een progres bar. Samen met de kleine kaartjes (kleine icoontjes onder het minivenster) zal het veel helpen inzicht te krijgen in de veranderingen van grondstoffen (voedsel, werk...).</p>
 		 
-	<p style="hp">Binnen het bereik van een markt of kan alles geruild worden <b>zonder gebruik te maken van verkeer</b>, behalve wanneer dat duidelijk is aangegeven. Rechtsonder is het kleine icoontje "verkeer kaart", op deze kaart is te zie  hoeveel verkeer er is en in het blauw wat het bereik van is van een markt. Controleer hier of een gebouw binnen het bereik van een markt is.Deze informatie kan ook op het grote scherm getoond worden door op het grote overlay icoon te klikken of door de "V"-toets in te drukken.</p>
+	<p style="hp">Binnen het bereik van een markt kan alles geruild worden <b>zonder gebruik te maken van verkeer</b>, behalve wanneer dat duidelijk is aangegeven. Rechtsonder is het kleine icoontje "verkeer kaart", op deze kaart is te zien  hoeveel verkeer er is en in het blauw wat het bereik van is van een markt. Controleer hier of een gebouw binnen het bereik van een markt is.Deze informatie kan ook op het grote scherm getoond worden door op het grote overlay icoon te klikken of door de "V"-toets in te drukken.</p>
 	
 	<p style="hsubtitle">Controleer wat markten kopen en verkopen</p>
 	<p style="hp">U kan de werking van de markt bepalen door selectie's te maken van wat kan worden gekocht en verkocht van het verkeer. Klik twee keer op een markt (niet de selecteer-knop) en linksboven komt een scherm zichtbaar waarmee bepaalt kan worden wat wordt verhandeld. Standaard wordt alles verhandeld.</p>

Modified: trunk/data/help/nl/msb-coal.xml
===================================================================
--- trunk/data/help/nl/msb-coal.xml	2007-04-29 21:42:45 UTC (rev 1208)
+++ trunk/data/help/nl/msb-coal.xml	2007-04-30 17:47:10 UTC (rev 1209)
@@ -3,7 +3,7 @@
 	<p style="htitle">Steenkoolkaart</p>
 	<img src="images/gui/mapview/roundbuttons/round_coal.png" halign="center"/>
 	<p style="hp">De steenkoolkaart laat u de steenkoolvooraad onder de grond zien. De steenkoolreserves zijn wit op een zwarte achtergrond. U kan een steenkoolmijn vlakbij een van deze steenkoolreserves bouwen.</p>
-	<p style="hp">De eerste keer dat u deze informatie opvraagt zal u gevraagd worden om een steenkoolonderzoek te houden wat u eenmalig 1 milloen zal kosten. Hierna is het gratis om deze informatie opnieuw op te roepen.</p>
+	<p style="hp">De eerste keer dat u deze informatie opvraagt zal u gevraagd worden om een steenkoolonderzoek te houden wat u eenmalig 1 miljoen zal kosten. Hierna is het gratis om deze informatie opnieuw op te roepen.</p>
 	<p style="hp">Links klikken op de minikaart om de kaart te centreren op de plek van uw muiscursor. U kunt wisselen tussen verschillende kaartmodi door de knop 'v' in te drukken.</p>
 
 	<p style="hsubtitle">Lees ook:</p>

Modified: trunk/data/help/nl/ore.xml
===================================================================
--- trunk/data/help/nl/ore.xml	2007-04-29 21:42:45 UTC (rev 1208)
+++ trunk/data/help/nl/ore.xml	2007-04-30 17:47:10 UTC (rev 1209)
@@ -1,11 +1,11 @@
 <?xml version="1.0"?>
 <Document style="helpdocument">
 	<p style="htitle">IJzererts</p>
-	<p style="hp">IJzererts is een van de basis ruwe materialen. Communies, ijzerertsmijnen en recycleercentra prodceren ijzererts.</p>
+	<p style="hp">IJzererts is een van de basis ruwe materialen. Houtskoolbranderijen, ijzerertsmijnen en recycleercentra prodceren ijzererts.</p>
 	<p style="hp">Pottenbakkerijen, lichte industrie en zware industrie verbruiken ijzererts.</p>
 
 	<p style="hsubtitle">Lees ook:</p>
-	<li><a href="commune">Communie</a></li>
+	<li><a href="commune">Houtskoolbranderij</a></li>
 	<li><a href="oremine">IJzerertsmijn</a></li>
 	<li><a href="recycle">Recycleren</a></li>
 	<li><a href="pottery">Pottenbakkerij</a></li>

Modified: trunk/data/help/nl/park.xml
===================================================================
--- trunk/data/help/nl/park.xml	2007-04-29 21:42:45 UTC (rev 1208)
+++ trunk/data/help/nl/park.xml	2007-04-30 17:47:10 UTC (rev 1209)
@@ -4,7 +4,7 @@
 	<p style="hp">Het idee van parken is simpel: het vermindert de vervuiling</p>
 	<p style="hp">Een aantal gebouwen verhogen de vervuiling. Dit zijn straten, spoorwegen, steenkoolmijnen en lichte en zware industrie. Sommige soorten gebouwen vervuilen meer dan andere.</p>
 	<p style="hp">U kunt parken gebruiken als schild voor woonwijken of om de vervuiling te beletten te ontsnappen van de bron.</p>
-	<p style="hp">De wind komt <b>van</b> het zuidwesten dus bouw u parken ook op een zo effectieve manier.</p>
+	<p style="hp">De wind komt <b>van</b> het zuidwesten dus bouw uw parken ook op een zo effectieve manier.</p>
 	
 	<p style="hp">Dit is een park</p>
 	<img src="images/tiles/parkland-plane.png" halign="center"/>

Modified: trunk/data/help/nl/pbar.xml
===================================================================
--- trunk/data/help/nl/pbar.xml	2007-04-29 21:42:45 UTC (rev 1208)
+++ trunk/data/help/nl/pbar.xml	2007-04-30 17:47:10 UTC (rev 1209)
@@ -1,7 +1,7 @@
 <?xml version="1.0"?>
 <Document style="helpdocument">
 	<p style="htitle">PBar</p>
-	<p style="hp">Dit is de tweede tab van het minivensterThis is the second tab of the miniwindow</p>
-	<p style="hp">Het toont de totale voorrad op alle markten samen zien, en hoe dat verandert.</p>
+	<p style="hp">Dit is de tweede tab van het minivenster</p>
+	<p style="hp">Het laat de totale voorraad op alle markten samen zien, en hoe dat verandert.</p>
 	<p style="hp">Het getal rechts duidt de totale hoeveelheid aan.</p>
 </Document>

Modified: trunk/data/help/nl/pollution.xml
===================================================================
--- trunk/data/help/nl/pollution.xml	2007-04-29 21:42:45 UTC (rev 1208)
+++ trunk/data/help/nl/pollution.xml	2007-04-30 17:47:10 UTC (rev 1209)
@@ -9,7 +9,7 @@
 	<li>Markten die veel verspilling hebben.</li>
 	<li>Straten/Spoorwegen, zeker diegenen die veel verspilling hebben..</li>
 	<p style="hp">Mensen houden er niet van om in vervuilde gebieden te leven. Ze zullen verhuizen, of worden ziek en sterven.</p>
-	<p style="hp">De overheersende wind komt uit het zuidwesten (de linker benedenhoek). Daardoor wordt de vervuiling naar het noordoosten geblazen (de linkerbovenhoek).</p>
+	<p style="hp">De overheersende wind komt uit het zuidwesten (de linker benedenhoek). Daardoor wordt de vervuiling naar het noordoosten geblazen (de rechterbovenhoek).</p>
 	<p style="hp">In het algemeen wilt u woonwijken bouwen zodat die geen last hebben van vervuiling. Dit is spijtig genoeg niet altijd mogelijk, u zal dan parken moeten bouwen om een schild te vormen. Hoe meer parken hoe groter de bescherming.</p>
 
 	<p style="hsubtitle">Lees ook:</p>

Modified: trunk/data/help/nl/port.xml
===================================================================
--- trunk/data/help/nl/port.xml	2007-04-29 21:42:45 UTC (rev 1208)
+++ trunk/data/help/nl/port.xml	2007-04-30 17:47:10 UTC (rev 1209)
@@ -6,7 +6,7 @@
 	<p style="hp">Een haven <b>moet</b> zo met een rivier verbonden zijn dat rechts van de haven water is.</p>
 	<p style="hp">Er wordt niets ge?mporteerd totdat u dat heeft gekozen in de checkbox.</p>
 	<p style="hp">De haven probeert om zoveel mogelijk te exporteren. Als u moet exporteren (om geld te verdienen), maar de export-hoeveelheid wilt beperken, zult u een slechter verbindingsweggetje moeten bouwen, een lange verbindingsweg gebruiken of langs een markt moeten gaan. U zult een beetje moeten experimenteren om het juiste resultaat te krijgen.</p>
-	<p style="hp">Letop: Exporters discount large exports.</p>
+	<p style="hp">Letop: Exporterbedrijven willen veel exporteren.</p>
 
 	<p style="hp">Dit is een haven</p>
 	<img src="images/tiles/ex_port.png" halign="center"/>

Modified: trunk/data/help/nl/pottery.xml
===================================================================
--- trunk/data/help/nl/pottery.xml	2007-04-29 21:42:45 UTC (rev 1208)
+++ trunk/data/help/nl/pottery.xml	2007-04-30 17:47:10 UTC (rev 1209)
@@ -1,7 +1,7 @@
 <?xml version="1.0"?>
 <Document style="helpdocument">
 	<p style="htitle">Pottenbakkerij</p>
-	<p style="hp">Pottenbakkerijen gebruiken ijzererts, steenkool en werk om goederen te produceren. Ze hoeven niet verbonden te zijn met transport, maar ze moeten wel in de buurt van een markt liggen, om ijzererts steenkool en werk te kunnen ontvangen.</p>
+	<p style="hp">Pottenbakkerijen gebruiken ijzererts, steenkool en werk om goederen te produceren. Ze hoeven niet verbonden te zijn met transport, maar ze moeten wel in de buurt van een markt liggen, om ijzererts, steenkool en werk te kunnen ontvangen.</p>
 	<p style="hp">U kunt zien of dat pottenbakkerijen werken door te kijken naar de ovens. Als de onderste oven geen rook produceert dan produceert de pottenbakkerij minder dan 100% van zijn mogelijke output.</p>
 	
 	<p style="hp">Dit is een pottenbakkerij</p>

Modified: trunk/data/help/nl/powerline.xml
===================================================================
--- trunk/data/help/nl/powerline.xml	2007-04-29 21:42:45 UTC (rev 1208)
+++ trunk/data/help/nl/powerline.xml	2007-04-30 17:47:10 UTC (rev 1209)
@@ -1,8 +1,8 @@
 <?xml version="1.0"?>
 <Document style="helpdocument">
 	<p style="htitle">Electriciteitsdraad</p>
-	<p style="hp">Electriciteitsdraden vervoeren electriciteit van energiecentrales (zonne-energiecentrales en steenkoolcentrales) naar transformatorhuisjes. <!-- outdated Power lines carry power from solar and coal power stations to substations. Power lines connect to the top left corner of each of the three types of icons, solar and coal power stations and substations..--></p>
-	<p style="hp">Electriciteitsdraden kruisen <b>onder</b> wegen, straten, spoorwegen en rivieren, als deze maar 1 breed zijn. Als een elctriciteitsdraad geplaatst wordt aan beide zijden van een verkeersweg of een riviergebied zijn deze draden verbonden. Vaak zult u een stuk rivier moeten afbreken, spijtig genoeg is dit duur. De electriciteitsdraden zijn verbonden als ze in een rechte lijn liggen.</p>
+	<p style="hp">Electriciteitsdraden vervoeren electriciteit van energiecentrales (zonne-energiecentrales en steenkoolcentrales) naar transformatorhuisjes. </p>
+	<p style="hp">Electriciteitsdraden kruisen <b>onder</b> wegen, straten, spoorwegen en rivieren, als deze maar 1 breed zijn. Als een electriciteitsdraad geplaatst wordt aan beide zijden van een verkeersweg of een riviergebied zijn deze draden verbonden. Vaak zult u een stuk rivier moeten afbreken, spijtig genoeg is dit duur. De electriciteitsdraden zijn verbonden als ze in een rechte lijn liggen.</p>
 
 	<p style="hp">Dit is een electriciteitsdraad</p>
 	<img src="images/tiles/powerlvd.png" halign="center"/>

Modified: trunk/data/help/nl/powerscoal.xml
===================================================================
--- trunk/data/help/nl/powerscoal.xml	2007-04-29 21:42:45 UTC (rev 1208)
+++ trunk/data/help/nl/powerscoal.xml	2007-04-30 17:47:10 UTC (rev 1209)
@@ -2,7 +2,6 @@
 <Document style="helpdocument">
 	<p style="htitle">Steenkoolcentrale</p>
 	<p style="hp">Steenkoolcentrales produceren van steenkool electriciteit die geplaatst worden op electriciteitsdraden.</p>
-	<!--Outdated<p style="hp">Power lines connect at the top left corner of the station, transport connects to the next possition in. See the example.</p>-->
 	<p style="hp">De effectiviteit van de productie gebruikt de technologie nivo <b>van de bouwdatum</b>. U kunt, wanneer uw technologie nivo veel gestegen is, een oude steenkoolcentrale afbreken en die herbouwen met een nieuwere, meer efficientere.</p>
 	
 	<p style="hp">Dit is Steenkoolcentrale</p>

Modified: trunk/data/help/nl/road.xml
===================================================================
--- trunk/data/help/nl/road.xml	2007-04-29 21:42:45 UTC (rev 1208)
+++ trunk/data/help/nl/road.xml	2007-04-30 17:47:10 UTC (rev 1209)
@@ -10,6 +10,6 @@
 	
 	<p style="hsubtitle">Lees ook:</p>
 	<li><a href="transport">Verkeer</a></li>
-	<li><a href="commune">Communie</a></li>
+	<li><a href="commune">Houtskoolbranderij</a></li>
 	<li><a href="pollution">Vervuiling</a></li>
 </Document>

Modified: trunk/data/help/nl/rocket.xml
===================================================================
--- trunk/data/help/nl/rocket.xml	2007-04-29 21:42:45 UTC (rev 1208)
+++ trunk/data/help/nl/rocket.xml	2007-04-30 17:47:10 UTC (rev 1209)
@@ -15,7 +15,7 @@
 	<p style="hsubtitle">Lees ook:</p>
 	<li><a href="market">Markt</a></li>
 	<li><a href="ore">IJzererts</a></li>
-	<li><a href="commune">Communie</a></li>
+	<li><a href="commune">Houtkoolbranderij</a></li>
 	<li><a href="steel">Staal</a></li>
 	<li><a href="jobs">Werk</a></li>
 </Document>

Modified: trunk/data/help/nl/steel.xml
===================================================================
--- trunk/data/help/nl/steel.xml	2007-04-29 21:42:45 UTC (rev 1208)
+++ trunk/data/help/nl/steel.xml	2007-04-30 17:47:10 UTC (rev 1209)
@@ -1,14 +1,14 @@
 <?xml version="1.0"?>
 <Document style="helpdocument">
 	<p style="htitle">Staal</p>
-	<p style="hp">Het meeste staal wordt gemaakt door zware industrie (staalfabriek). U moet een voldoende technische ontwikkeling bereikt hebben (er moeten voldoende nieuwe ontdekkingen gedaan zijn) om een staalfabriek te kunnen bouwen. Daarvoor kunnen alleen communies een klein beetje staal van ijzererts maken, meestal heeft u daarom een aantal communies nodig om voldoende staal te maken.</p>
-	<p style="hp">Staal wordt door smiderijen gebruikt om goederen te maken. Staal wordt ook gebruikt door lichte industrie voor gereedschap en producten (goederen). Lichte industrie kan ook zonder staal werken, maar produceert dan veel minder.</p>
+	<p style="hp">Het meeste staal wordt gemaakt door zware industrie (staalfabriek). U moet een voldoende technische ontwikkeling bereikt hebben (er moeten voldoende nieuwe ontdekkingen gedaan zijn) om een staalfabriek te kunnen bouwen. Daarvoor kunnen alleen houtskoolbranderijen een klein beetje staal van ijzererts maken, meestal heeft u daarom een aantal houtskoolbranderijen nodig om voldoende staal te maken.</p>
+	<p style="hp">Staal wordt door smederijen gebruikt om goederen te maken. Staal wordt ook gebruikt door lichte industrie voor gereedschap en producten (goederen). Lichte industrie kan ook zonder staal werken, maar produceert dan veel minder.</p>
 	<p style="hp">Raketten gebruiken veel staal, voornamelijk voor het lanceerplatform, (het lijkt erop dat er geen aluminium of titanium bestaat, 'staal' wordt ook gebruikt voor om de raketten te maken - maakt u daarover geen zorgen, dat doe ik ook niet).</p>
 	<p style="hp">Voor de onderhoud en reparatie van spoorwegen is ook staal nodig.</p>
 	<p style="hp">Op staal zit belasting.</p>
 
 	<p style="hsubtitle">Lees ook:</p>
-	<li><a href="commune">Communie</a></li>
+	<li><a href="commune">Houtskoolbranderij</a></li>
 	<li><a href="blacksmith">Smidse</a></li>
 	<li><a href="goods">Goederen</a></li>
 	<li><a href="industryh">Zware Industrie</a></li>

Modified: trunk/data/help/nl/substation.xml
===================================================================
--- trunk/data/help/nl/substation.xml	2007-04-29 21:42:45 UTC (rev 1208)
+++ trunk/data/help/nl/substation.xml	2007-04-30 17:47:10 UTC (rev 1209)
@@ -11,7 +11,7 @@
 	<p style="hsubtitle">Lees ook:</p>
 	<li><a href="powerline">Electriciteitsdraden</a></li>
 	<li><a href="powerssolar">Zonne-energiecentrale</a></li>
-	<li><a href="commune">Communie</a></li>
+	<li><a href="commune">Houtskoolbranderij</a></li>
 	<li><a href="steel">Staal</a></li>
 	<li><a href="jobs">Werk</a></li>
 </Document>

Modified: trunk/data/help/nl/track.xml
===================================================================
--- trunk/data/help/nl/track.xml	2007-04-29 21:42:45 UTC (rev 1208)
+++ trunk/data/help/nl/track.xml	2007-04-30 17:47:10 UTC (rev 1209)
@@ -10,5 +10,5 @@
 	
 	<p style="hsubtitle">Lees ook:</p>
 	<li><a href="transport">Verkeer</a></li>
-	<li><a href="commune">Communie</a></li>
+	<li><a href="commune">Houtskoolbranderij</a></li>
 </Document>

Modified: trunk/data/help/nl/tutorial-aim.xml
===================================================================
--- trunk/data/help/nl/tutorial-aim.xml	2007-04-29 21:42:45 UTC (rev 1208)
+++ trunk/data/help/nl/tutorial-aim.xml	2007-04-30 17:47:10 UTC (rev 1209)
@@ -2,7 +2,7 @@
 <Document style="helpdocument">
 <p style="htitle">Doel van het spel </p>
 <p style="hp">Er zijn 2 manieren om het spel te "winnen":</p>
-<li>Het bereiken van een Reach <a href="sustain">duurzame economie </a> (er kan daarna gewoon verder gespeeld worden) </li>
+<li>Het bereiken van een <a href="sustain">duurzame economie </a> (er kan daarna gewoon verder gespeeld worden) </li>
 <li>Evacueer alle inwoners met <a href="rocket">raketten </a> naar een andere planeet, het spel stopt dan. </li>
 <p style="hp"/>
 

Modified: trunk/data/help/nl/tutorial-basics.xml
===================================================================
--- trunk/data/help/nl/tutorial-basics.xml	2007-04-29 21:42:45 UTC (rev 1208)
+++ trunk/data/help/nl/tutorial-basics.xml	2007-04-30 17:47:10 UTC (rev 1209)
@@ -4,7 +4,7 @@
 	<p style="hp">Kies "new game " &gt; "willekeurig dorp". Andere scenario's zijn voor min of meer ervaren spelers. </p>
 	<p style="hp">Merk op dat het willekeurige dorp basis-benodigheden heeft:</p>
 	<li><a href="farm">Boerderijen</a> maken voedsel voor markten</li>
-	<li><a href="commune">Communies</a> die houtskool en kleine hoeveelheden ijzererts en staal maken </li>
+	<li><a href="commune">Hoyskoolbranderijen</a> die houtskool en kleine hoeveelheden ijzererts en staal maken </li>
 	<li><a href="residential">Woonwijken</a></li>
 	<li><a href="pottery">Pottebakkerijen</a></li>
 	<li><a href="track">Landweggetjes</a></li>
@@ -12,22 +12,22 @@
 	<p style="hp">Klik op een gebouw (in het hoofdvenster) en er wordt informatie getoond in het kleine venstertje rechtsonder.</p>
 
 	<p style="hsubtitle">Markt </p>
-	<p style="hp">De markt is een belangrijk gebouw in Lincity. Ze zijn noodzakelijk voor bijna alle plaatselijke in- en verkopen. De help-pagina's op <a href="market">markt </a> <b>moeten</b> gelezen worden :-). <i>, wanneer iets niet op een markt aanwezig is, dan kan het ook niet niet verhandeld worden, en wanneer een markt vol met een soort product is, dan zal dat ook niet meer ingekocht worden. Dit kan mischien een beetje helpen om te begrijpen waarom sommige gebouwen niet werken (waarschijnlijk kan iets war dringend nodig is niet gekocht worden, of ze kunnen de spulletjes die ze gemaakt hebben niet verkopen)</i> </p>
+	<p style="hp">De markt is een belangrijk gebouw in Lincity. Ze zijn noodzakelijk voor bijna alle plaatselijke in- en verkopen. De help-pagina's op <a href="market">markt </a> <b>moeten</b> gelezen worden :-). <i>, wanneer iets niet op een markt aanwezig is, dan kan het ook niet niet verhandeld worden, en wanneer een markt vol met een soort product is, dan zal dat ook niet meer ingekocht worden. Dit kan mischien een beetje helpen om te begrijpen waarom sommige gebouwen niet werken (waarschijnlijk kan iets wat dringend nodig is niet gekocht worden, of ze kunnen de spulletjes die ze gemaakt hebben niet verkopen)</i> </p>
 
 	<p style="hsubtitle">Verkeer </p>
 	<p style="hp"><a href="transport">Verkeer </a> is nodig voor lange afstand vervoer van goederen, en voor sommige met name genoemde activiteiten (het wordt dan beschreven in het bijbehorende help-pagina, zoals lichte industrie). Net zoals markten hebben ook wegen een beperkte capaciteit en kunnen vol raken.</p>
 
 	<p style="hp">Wanneer een "normaal" gebouw niet in het bereik van een markt is, moet het verbonden worden met verkeer. Vergeet niet dat wegen en spoorwegen ieder jaar geld kosten, daarom is het handiger (en goedkoper) om wanneer nodig markten te gebruiken (tenzij een gebouw zoals een monument werkelijk apart moet staan). </p>
 
-	<p style="hp">Als een dorp net is gestart, zijn landweggetjes alleen nodig voor de produktie van communes. Alle andere aktiviteiten hebben alleen een markt nodig. </p>
+	<p style="hp">Als een dorp net is gestart, zijn landweggetjes alleen nodig voor de produktie van houtskoolbranderijen. Alle andere aktiviteiten hebben alleen een markt nodig. </p>
 
 	<p style="hsubtitle">Geld </p>
 	<p style="hp">Er zit belasting op produktie en daarmee verdien je geld. In de minikaart is de derde tab <a href="finance">het financi?le kaartje</a>. Zorg ervoor dat er niet te snel, te veel geld wordt uitgegeven: wanneer er een geldtekoort is, kan er niets gebouwd worden en moet er rente betaald worden. Dit kan leiden tot een faillisement (lees ook <a href="tutorial-scenario"> Moeilijke scenario </a>). </p>
 
 	<p style="hsubtitle">De stad ontwikkelen </p>
 	<p style="hp">Vergeet niet dat mensen sterven als ze niet eten. Om controle te houden over de groei van de stad, moet er een balans gevonden in de soort gebouwde huizen  (Er worden meer of minder kinderen geboren en er sterven meer of minder mensen in verschillende soorten huizen) . De nieuwe bevolking kan meer werk verrichten, maar eten ook meer, en gebruiken meer goederen en hebben meer banen nodig...</p>
-	<p style="hp">De produktie moet vergroot worden (voeg pottebakkerijen en smederijen toe) en er moet voor gezorgd worden dat deze ook materialen krijgen. Er moet daarom ook communes bijgemaakt worden. </p>
-	<p style="hp">Om nieuwe soorten gebouwen te kunnen bouwen moet het <a href="tech-level"> Technologie nivo </a> verhoogt worden.</p>
+	<p style="hp">De produktie moet vergroot worden (voeg pottebakkerijen en smederijen toe) en er moet voor gezorgd worden dat deze ook materialen krijgen. Er moet daarom ook houtskoolbranderijen bijgemaakt worden. </p>
+	<p style="hp">Om nieuwe soorten gebouwen te kunnen bouwen moet het <a href="tech-level"> technologie nivo </a> verhoogt worden.</p>
 	<p style="hp">Op een gegeven moment moet er een speeldoel gekozen worden:of een <a href="sustain"> duurzame economie </a> of evacuatie met <a href="rocket"> raketten</a>.</p>
 
 	<p style="hp">Het statistieken venstertje toont de totale hoeveelheid voorraden beschikbaar in markten, en hoe dit zich ontwikkelt. Dit moet vaak gecontroleerd worden. De minikaartjes geven een beter inzicht de economie van dit spel.</p>

Modified: trunk/data/help/nl/tutorial.xml
===================================================================
--- trunk/data/help/nl/tutorial.xml	2007-04-29 21:42:45 UTC (rev 1208)
+++ trunk/data/help/nl/tutorial.xml	2007-04-30 17:47:10 UTC (rev 1209)
@@ -33,7 +33,7 @@
 <p style="hp">Merk op dat het willekeurige dorp de basis-benodigheden heeft: </p>
 <li><a href="farm">Boerderijen</a> maken voedsel voor markten</li>
 <li><a href="market">Markten</a>zijn plaatsen waar alles gevonden kan worden wat mensen nodig zoals eten en werk, en ze kunnen hun afval erheen sturen. </li>
-<li><a href="commune">Communies</a> die houtskool en kleine hoeveelheden ijzererts en staal maken </li>
+<li><a href="commune">Houtskoolbranderijen</a> die houtskool en kleine hoeveelheden ijzererts en staal maken </li>
 <li><a href="residential">Woonwijken</a></li>
 <li><a href="pottery">Pottebakkerijen</a></li>
 <li><a href="track">Landweggetjes</a></li>



From alainb at mail.berlios.de  Fri Apr 20 17:37:28 2007
From: alainb at mail.berlios.de (alainb at BerliOS)
Date: Fri, 20 Apr 2007 15:37:28 -0000
Subject: [Lincity-ng-commit] r1195 - in branches/waterwell: . data/gui
	data/help/nl data/help/sv data/locale data/locale/gui src/gui
	src/gui/PainterGL src/gui/PainterSDL src/lincity
	src/lincity/modules src/lincity-ng src/tinygettext
Message-ID: <200704201535.l3KFZTNU013437@sheep.berlios.de>

Author: alainb
Date: 2007-04-20 17:35:09 +0200 (Fri, 20 Apr 2007)
New Revision: 1195

Added:
   branches/waterwell/data/help/nl/tutorial-advanced.xml
   branches/waterwell/data/help/nl/tutorial-aim.xml
   branches/waterwell/data/help/nl/tutorial-basics.xml
   branches/waterwell/data/help/nl/tutorial-overview.xml
   branches/waterwell/data/help/nl/tutorial-scenario.xml
   branches/waterwell/data/help/nl/tutorial.xml
   branches/waterwell/data/locale/gui/pt_BR.po
   branches/waterwell/data/locale/pt_BR.po
Removed:
   branches/waterwell/data/locale/gui/pt.po
   branches/waterwell/data/locale/pt.po
Modified:
   branches/waterwell/RELNOTES
   branches/waterwell/data/gui/creditslist.xml
   branches/waterwell/data/gui/loadgame.xml
   branches/waterwell/data/gui/mainmenu.xml
   branches/waterwell/data/gui/savegame.xml
   branches/waterwell/data/help/nl/commune.xml
   branches/waterwell/data/help/nl/dialogs.xml
   branches/waterwell/data/help/nl/finance.xml
   branches/waterwell/data/help/nl/help.xml
   branches/waterwell/data/help/nl/housing.xml
   branches/waterwell/data/help/nl/index.xml
   branches/waterwell/data/help/nl/market.xml
   branches/waterwell/data/help/nl/mini-screen.xml
   branches/waterwell/data/help/nl/msb-transport.xml
   branches/waterwell/data/help/nl/pbar.xml
   branches/waterwell/data/help/nl/river.xml
   branches/waterwell/data/help/nl/sustain.xml
   branches/waterwell/data/help/nl/tech-level.xml
   branches/waterwell/data/help/sv/blacksmith.xml
   branches/waterwell/data/help/sv/button-index.xml
   branches/waterwell/data/help/sv/coal.xml
   branches/waterwell/data/help/sv/commune.xml
   branches/waterwell/data/help/sv/farm.xml
   branches/waterwell/data/help/sv/food.xml
   branches/waterwell/data/help/sv/goods.xml
   branches/waterwell/data/help/sv/mill.xml
   branches/waterwell/data/help/sv/recycle.xml
   branches/waterwell/data/help/sv/transport.xml
   branches/waterwell/data/locale/ca.po
   branches/waterwell/data/locale/gui/ca.po
   branches/waterwell/data/locale/gui/nl.po
   branches/waterwell/data/locale/gui/sv.po
   branches/waterwell/data/locale/nl.po
   branches/waterwell/data/locale/sv.po
   branches/waterwell/src/gui/Painter.hpp
   branches/waterwell/src/gui/PainterGL/PainterGL.cpp
   branches/waterwell/src/gui/PainterGL/PainterGL.hpp
   branches/waterwell/src/gui/PainterSDL/PainterSDL.cpp
   branches/waterwell/src/gui/PainterSDL/PainterSDL.hpp
   branches/waterwell/src/gui/PainterSDL/TextureSDL.cpp
   branches/waterwell/src/gui/PainterSDL/TextureSDL.hpp
   branches/waterwell/src/lincity-ng/Game.cpp
   branches/waterwell/src/lincity-ng/HelpWindow.cpp
   branches/waterwell/src/lincity-ng/MainMenu.cpp
   branches/waterwell/src/lincity-ng/MainMenu.hpp
   branches/waterwell/src/lincity-ng/MiniMap.hpp
   branches/waterwell/src/lincity-ng/PBar.cpp
   branches/waterwell/src/lincity/engine.cpp
   branches/waterwell/src/lincity/modules/blacksmith.cpp
   branches/waterwell/src/lincity/modules/organic_farm.cpp
   branches/waterwell/src/lincity/power.cpp
   branches/waterwell/src/tinygettext/TinyGetText.cpp
   branches/waterwell/src/tinygettext/TinyGetText.hpp
   branches/waterwell/src/tinygettext/findlocale.cpp
Log:
MERGED trunk -r1165:1194

Modified: branches/waterwell/RELNOTES
===================================================================
--- branches/waterwell/RELNOTES	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/RELNOTES	2007-04-20 15:35:09 UTC (rev 1195)
@@ -4,8 +4,10 @@
 * Heavy industry no longer storing too much coal.
 * Sustainability progress is reload from saved games.
 * Draw range for selected building around cursor 
+* Online help includes a tutorial
+* Russian online help
 
-*** LincityNG 1.1.0 *** [r1139 in svn]
+*** LincityNG 1.1.0 *** [r1139 in svn] 2007-02-19
 
 * Display correct values for unemployment rate.
 * Port connects on all land parts.
@@ -14,7 +16,7 @@
 * French online help
 * German online help
 
-*** LincityNG 1.0.3 *** [r1089 in svn]
+*** LincityNG 1.0.3 *** [r1089 in svn] 2006-04-14
 
 * Show correct demolition costs for powerlines, substations and farms.
 * Quantizing tile-images saves about 12MB.
@@ -22,7 +24,7 @@
 * Tool-Menu now opens on left mousebutton.
 * Separate menus for loading and saving games. 
 
-*** LincityNG 1.0.2 *** [r1063 in svn]
+*** LincityNG 1.0.2 *** [r1063 in svn] 2005-11-09 
 
 * Catalan translation
 * Spanish translation
@@ -30,17 +32,17 @@
 * Swedish translation 
 * Fixed: unwanted double-clicks in file menu
 
-*** LincityNG 1.0.1 *** [r1038 in svn]
+*** LincityNG 1.0.1 *** [r1038 in svn] 2005-07-13
 
 * Adjust volume in options
 * Load game on doubleclick 
 * Fixed: Endgame evacuation causes termination of game.
 * Fixed: Hightech houses require tech 30, but the tooltip says 20.
-* Fixed: Suppressed doublicated tech-messages.
-* Fixed: Doublicated command line arguments.
+* Fixed: Suppressed duplicated tech-messages.
+* Fixed: Duplicated command line arguments.
 * Fixed: Crash when empty scenario is selected.
 
-*** LincityNG 1.0 *** [r1026 in svn]
+*** LincityNG 1.0 *** [r1026 in svn] 2005-06-20
 
 * The first release of LincityNG features everything from classic lincity
   but with brand new graphics and modern user interface.

Modified: branches/waterwell/data/gui/creditslist.xml
===================================================================
--- branches/waterwell/data/gui/creditslist.xml	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/data/gui/creditslist.xml	2007-04-20 15:35:09 UTC (rev 1195)
@@ -46,7 +46,7 @@
     <p style="person">nl - Ronald Stroethoff</p>
     <p style="person">pl - Micha?? Drza??</p>
     <p style="person">pl - Piotr Pacholak</p>
-    <p style="person">pt - Jose Carlos Medeiros</p>
+    <p style="person">pt_BR - Jose Carlos Medeiros</p>
     <p style="person">ru - Myravyev Leonid
 	    <span style="email">&lt;asm at asm.pp.ru&gt;</span></p>
     <p style="person">sv - Daniel Nylander</p>

Modified: branches/waterwell/data/gui/loadgame.xml
===================================================================
--- branches/waterwell/data/gui/loadgame.xml	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/data/gui/loadgame.xml	2007-04-20 15:35:09 UTC (rev 1195)
@@ -22,7 +22,7 @@
 			-->
 			<cell row="2" col="2">
 			<CheckButton name="File0">
-				<text-caption style="button">Savegame 123456789</text-caption>
+				<text-caption style="boxtext">Savegame 123456789012345678901234567890</text-caption>
 				<image src="images/gui/buttons/savebutton.png"/>
 				<image-hover src="images/gui/buttons/savebutton-hover.png"/>
 				<image-clicked src="images/gui/buttons/savebutton-clicked.png"/>
@@ -31,7 +31,7 @@
 			</cell>
 			<cell row="3" col="2">
 			<CheckButton name="File1">
-				<text-caption style="button">Savegame 123456789</text-caption>
+				<text-caption style="boxtext">Savegame 123456789012345678901234567890</text-caption>
 				<image src="images/gui/buttons/savebutton.png"/>
 				<image-hover src="images/gui/buttons/savebutton-hover.png"/>
 				<image-clicked src="images/gui/buttons/savebutton-clicked.png"/>
@@ -40,7 +40,7 @@
 			</cell>
 			<cell row="4" col="2">
 			<CheckButton name="File2">
-				<text-caption style="button">Savegame 123456789</text-caption>
+				<text-caption style="boxtext">Savegame 123456789012345678901234567890</text-caption>
 				<image src="images/gui/buttons/savebutton.png"/>
 				<image-hover src="images/gui/buttons/savebutton-hover.png"/>
 				<image-clicked src="images/gui/buttons/savebutton-clicked.png"/>
@@ -49,7 +49,7 @@
 			</cell>
 			<cell row="5" col="2">
 			<CheckButton name="File3">
-			<text-caption style="button">Savegame 123456789</text-caption>
+				<text-caption style="boxtext">Savegame 123456789012345678901234567890</text-caption>
 				<image src="images/gui/buttons/savebutton.png"/>
 				<image-hover src="images/gui/buttons/savebutton-hover.png"/>
 				<image-clicked src="images/gui/buttons/savebutton-clicked.png"/>
@@ -58,7 +58,7 @@
 			</cell>
 			<cell row="6" col="2">
 			<CheckButton name="File4">
-				<text-caption style="button">Savegame 123456789</text-caption>
+				<text-caption style="boxtext">Savegame 123456789012345678901234567890</text-caption>
 				<image src="images/gui/buttons/savebutton.png"/>
 				<image-hover src="images/gui/buttons/savebutton-hover.png"/>
 				<image-clicked src="images/gui/buttons/savebutton-clicked.png"/>
@@ -67,7 +67,7 @@
 			</cell>
 			<cell row="7" col="2">
 			<CheckButton name="File5">
-				<text-caption style="button">Savegame 123456789</text-caption>
+				<text-caption style="boxtext">Savegame 123456789012345678901234567890</text-caption>
 				<image src="images/gui/buttons/savebutton.png"/>
 				<image-hover src="images/gui/buttons/savebutton-hover.png"/>
 				<image-clicked src="images/gui/buttons/savebutton-clicked.png"/>

Modified: branches/waterwell/data/gui/mainmenu.xml
===================================================================
--- branches/waterwell/data/gui/mainmenu.xml	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/data/gui/mainmenu.xml	2007-04-20 15:35:09 UTC (rev 1195)
@@ -7,6 +7,7 @@
 	<!-- Menus -->
 	<DefineStyle name="menutitle" color="black" font-size="50" halign="center"/>
 	<DefineStyle name="listtitle" color="black" font-size="30"/>		
+	<DefineStyle name="boxtext" color="blue" font-size="16" margin-left="10"/>
 	<DefineStyle name="button" color="blue" font-size="30" margin-left="20" margin-right="20"/>
 	<DefineStyle name="dialogbutton" color="white" font-size="20" margin-left="20" margin-right="20"/>
 	<DefineStyle name="button-hover" color="red" font-size="30" margin-left="20" margin-right="20"/>

Modified: branches/waterwell/data/gui/savegame.xml
===================================================================
--- branches/waterwell/data/gui/savegame.xml	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/data/gui/savegame.xml	2007-04-20 15:35:09 UTC (rev 1195)
@@ -24,7 +24,7 @@
 			-->
 			<cell row="2" col="2">
 			<CheckButton name="File0">
-				<text-caption style="button">Savegame 123456789</text-caption>
+				<text-caption style="boxtext">Savegame 123456789012345678901234567890</text-caption>
 				<image src="images/gui/buttons/savebutton.png"/>
 				<image-hover src="images/gui/buttons/savebutton-hover.png"/>
 				<image-clicked src="images/gui/buttons/savebutton-clicked.png"/>
@@ -33,7 +33,7 @@
 			</cell>
 			<cell row="3" col="2">
 			<CheckButton name="File1">
-				<text-caption style="button">Savegame 123456789</text-caption>
+				<text-caption style="boxtext">Savegame 123456789012345678901234567890</text-caption>
 				<image src="images/gui/buttons/savebutton.png"/>
 				<image-hover src="images/gui/buttons/savebutton-hover.png"/>
 				<image-clicked src="images/gui/buttons/savebutton-clicked.png"/>
@@ -42,7 +42,7 @@
 			</cell>
 			<cell row="4" col="2">
 			<CheckButton name="File2">
-				<text-caption style="button">Savegame 123456789</text-caption>
+				<text-caption style="boxtext">Savegame 123456789012345678901234567890</text-caption>
 				<image src="images/gui/buttons/savebutton.png"/>
 				<image-hover src="images/gui/buttons/savebutton-hover.png"/>
 				<image-clicked src="images/gui/buttons/savebutton-clicked.png"/>
@@ -51,7 +51,7 @@
 			</cell>
 			<cell row="5" col="2">
 			<CheckButton name="File3">
-			<text-caption style="button">Savegame 123456789</text-caption>
+			<text-caption style="boxtext">Savegame 123456789012345678901234567890</text-caption>
 				<image src="images/gui/buttons/savebutton.png"/>
 				<image-hover src="images/gui/buttons/savebutton-hover.png"/>
 				<image-clicked src="images/gui/buttons/savebutton-clicked.png"/>
@@ -60,7 +60,7 @@
 			</cell>
 			<cell row="6" col="2">
 			<CheckButton name="File4">
-				<text-caption style="button">Savegame 123456789</text-caption>
+				<text-caption style="boxtext">Savegame 123456789012345678901234567890</text-caption>
 				<image src="images/gui/buttons/savebutton.png"/>
 				<image-hover src="images/gui/buttons/savebutton-hover.png"/>
 				<image-clicked src="images/gui/buttons/savebutton-clicked.png"/>
@@ -69,7 +69,7 @@
 			</cell>
 			<cell row="7" col="2">
 			<CheckButton name="File5">
-				<text-caption style="button">Savegame 123456789</text-caption>
+				<text-caption style="boxtext">Savegame 123456789012345678901234567890</text-caption>
 				<image src="images/gui/buttons/savebutton.png"/>
 				<image-hover src="images/gui/buttons/savebutton-hover.png"/>
 				<image-clicked src="images/gui/buttons/savebutton-clicked.png"/>

Modified: branches/waterwell/data/help/nl/commune.xml
===================================================================
--- branches/waterwell/data/help/nl/commune.xml	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/data/help/nl/commune.xml	2007-04-20 15:35:09 UTC (rev 1195)
@@ -15,6 +15,6 @@
 	<li><a href="pottery">Pottenbakkerij</a></li>
 	<li><a href="blacksmith">Smidse</a></li>
 	<li><a href="mill">Textielfabriek</a></li>
-	<li><a href="oremine">IJzerertsmijn<a></li>
-	<li><a href="steel">Staal<a></li>
+	<li><a href="oremine">IJzerertsmijn</a></li>
+	<li><a href="steel">Staal</a></li>
 </Document>

Modified: branches/waterwell/data/help/nl/dialogs.xml
===================================================================
--- branches/waterwell/data/help/nl/dialogs.xml	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/data/help/nl/dialogs.xml	2007-04-20 15:35:09 UTC (rev 1195)
@@ -1,14 +1,15 @@
 <?xml version="1.0" encoding="utf-8"?>
 <Document style="helpdocument">
-	<p style="htitle">Dialogvenster help</p>
-	   <p>Map-Tab</p>
-    <li><a href="mini-screen">Minikaart</a></li>
-<p>Stats-Tab</p>	
-    <li><a href="pbar">PBar</a></li>
- <p>$-Tab</p>
-	<li><a href="finance">Financi??le venster</a></li>
-	<li><a href="housing">Bevolkingskosten venster</a></li>
-<p>Eco-Tab</p>
-	<li><a href="economy">Economische grafieken</a></li>
-	<li><a href="sustain">Duurzaamheid voortgansvenster</a></li>
-</Document>
+	<p style="htitle">Informatie Tabs help</p>
+	<p>Map-Tab</p>
+		<li><a href="mini-screen">Minikaart</a></li>
+	<p>Stats-Tab</p>	
+		<li><a href="pbar">PBar</a></li>
+ 	<p>$-Tab</p>
+		<li><a href="finance">Financi??le venster</a></li>
+		<li><a href="other-costs">Overige kosten venster</a></li>
+		<li><a href="housing">Bevolkingskosten venster</a></li>
+	<p>Eco-Tab</p>
+		<li><a href="economy">Economische grafieken</a></li>
+		<li><a href="sustain">Duurzaamheid voortgansvenster</a></li>
+</Document>
\ No newline at end of file

Modified: branches/waterwell/data/help/nl/finance.xml
===================================================================
--- branches/waterwell/data/help/nl/finance.xml	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/data/help/nl/finance.xml	2007-04-20 15:35:09 UTC (rev 1195)
@@ -3,7 +3,7 @@
 	<p style="htitle">Financi??le venster</p>
 	<p style="hp">Dit is het financi??le venster</p>
 	<p style="hp">Dit venster wordt elk jaar op 1 januari ge??pdated. De grafieken onder 'inkomsten' en 'uitgaven' laten uw inkomsten en uitgaven zien voor het afgelopen jaar.</p>
-	<p style="hp">De 'Tot' grafiek is de hoevelheid geld op uw bankrekening. <!--Waarom staat dit hier?-->Er zijn verschillende zaken die u kunt doen als u in het rood staat.</p>
+	<p style="hp">De 'Tot' grafiek is de hoevelheid geld op uw bankrekening.</p>
 	<p style="hp">De betekenissen van de afkortingen:</p>
 	<p style="hp">Inkomsten:</p>
 	<li>IT = Inkomstenbelasting.</li>

Modified: branches/waterwell/data/help/nl/help.xml
===================================================================
--- branches/waterwell/data/help/nl/help.xml	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/data/help/nl/help.xml	2007-04-20 15:35:09 UTC (rev 1195)
@@ -1,16 +1,15 @@
 <?xml version="1.0" encoding="utf-8"?>
 <Document style="helpdocument">
 	<p style="htitle">Lincity Help</p>
-	<p style="hp">Dit is het lincity-help systeem. Kies een onderwerp door te klikken op een van de blauwe woorden hieronder.</p>
-
+	<p style="hp">Dit is het lincity-help systeem. Kies een onderwerp door te klikken op een van de blauwe woorden hieronder.Gebruik de pijl linksboven om terug tegaan naar de vorige help-pagina</p>
+	<p style="hp">Terwijl het spel wordt gespeeld, kan er context-gekoppelde help worden gekregen via de help-knop, of door rechtsklikken op een icoon in de lijst linksboven.</p>
+	
 	<li><a href="keys">Toetsenbord commandos</a></li>
 	<li><a href="button-index">Lijst van alle gebouwen</a></li>
 	<li><a href="mini-screen">Help over de minikaart</a></li>
 	<li><a href="dialogs">Help over de informatie kaartjes</a></li>
-	<p style="hp">Terwijl het spel wordt gespeeld, kan er kontext-gekoppelde help worden gekregen via de help-knop.</p>
 	<li><a href="index">Index</a></li>
 	
 	<p style="htitle">Doel van het spel</p>
-	<p style="hp">U heeft in Lincity gewonnen door een <a href="sustain">duurzame economie </a> te bouwen of door alle inwoners te evacueren met <a href="rocket">raketten</a>.</p>
-    <li><a href="index">Index</a></li>
+	<p style="hp">U heeft in Lincity gewonnen door een <a href="sustain">duurzame economie </a> te bouwen of door alle inwoners te evacueren met <a href="rocket">raketten</a></p>
 </Document>
\ No newline at end of file

Modified: branches/waterwell/data/help/nl/housing.xml
===================================================================
--- branches/waterwell/data/help/nl/housing.xml	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/data/help/nl/housing.xml	2007-04-20 15:35:09 UTC (rev 1195)
@@ -4,7 +4,7 @@
 	<p style="hp">Dit is het bevolkingskosten venster.</p>
 	<p style="hp">Dit venster laat 9 statistieken zien:</p>
 	<li>1.  Pop - dit laat Uw totaal aantal inwoners zien. Dit houdt geen rekening met daklozen</li>
-	<li>2.  Gehuisd - dit toont het totaal aantal mensen die in de woonwijken van Uw stad leven.</li>
+	<li>2.  Behuist - dit toont het totaal aantal mensen die in de woonwijken van Uw stad leven.</li>
 	<li>3.  Daklozen - dit toont het aantal mensen die dakloos zijn.</li>
 	<li>4.  Krottenwijken - dit laat het aantal krottenwijken in uw stad zien</li>
 	<li>5.  Onnatuurlijke doden - dit laat het aantal onnatuurlijke doden van de laatste maand zien die verhongerd zijn of gestorven aan de vervuiling</li>

Modified: branches/waterwell/data/help/nl/index.xml
===================================================================
--- branches/waterwell/data/help/nl/index.xml	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/data/help/nl/index.xml	2007-04-20 15:35:09 UTC (rev 1195)
@@ -10,6 +10,7 @@
 <li><a href="commune">Communie</a></li>
 <li><a href="dialogs">Dialogvenster</a></li>
 <li><a href="other-costs">Diverse kosten</a></li>
+<li><a href="tutorial-aim">Doel van het spel</a></li>
 <li><a href="sustain">Duurzaamheid venster</a></li>
 <li><a href="economy">Economische grafieken</a></li>
 <li><a href="powerline">Electriciteitsdraad</a></li>
@@ -32,6 +33,7 @@
 <li><a href="keys">Muis</a></li>
 <li><a href="msb-normal">Normale landkaart</a></li>
 <li><a href="medium">Normale snelheid</a></li>
+<li><a href="tutorial-overview">Overzicht van het scherm</a></li>
 <li><a href="park">Park</a></li>
 <li><a href="pause">Pauzeknop</a></li>
 <li><a href="pbar">PBar</a></li>
@@ -53,12 +55,16 @@
 <li><a href="mill">Textielfabriek</a></li>
 <li><a href="keys">Toetsenbord</a></li>
 <li><a href="substation">Transformatorhuisje</a></li>
+<li><a href="tutorial">Tutorial</a></li>
+<li><a href="tutorial-basics">Tutorial voor beginners</a></li>
+<li><a href="tutorial-advanced">Tutorial voor gevorderden</a></li>
 <li><a href="university">Universiteit</a></li>
 <li><a href="transport">Verkeer</a></li>
 <li><a href="msb-transport">Verkeerskaart</a></li>
 <li><a href="pollution">Vervuiling</a></li>
 <li><a href="msb-pol">Vervuilings kaart</a></li>
 <li><a href="food">Voedsel</a></li>
+<li><a href="tutorial-scenario">Voor gedefineerde landschappen</a></li>
 <li><a href="tip">Vuilstort (vuilnis)</a></li>
 <li><a href="msb-health">Welzijns kaart</a></li>
 <li><a href="jobs">Werk</a></li>

Modified: branches/waterwell/data/help/nl/market.xml
===================================================================
--- branches/waterwell/data/help/nl/market.xml	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/data/help/nl/market.xml	2007-04-20 15:35:09 UTC (rev 1195)
@@ -1,9 +1,23 @@
 <?xml version="1.0"?>
 <Document style="helpdocument">
 	<p style="htitle">Markt</p>
-	<p style="hp">Markt is mogelijk een slechte naam voor deze gebieden. Ze zijn meer zoals uitzendburo's, winkels, warenhuizen en markten ineens. Ze kopen en verkopen voedsel, werk, steenkool, goederen, ijzererts, en staal aan de omliggende gebieden en aan het verkeer. Voorbeeld: een woonwijk levert goederen aan een markt, en die markt verkoopt het werk aan een monument in aanbouw. <b>Opgelet!</b>, de woonwijken worden niet gevoed als de markten op de grens van het bereik ligt. <!-- Klopt dit wel?<b>NOTE</b>, the residents are not being fe if the areas are more or less at the extent of their range.--></p>
-	<p style="hsubtitle">Controlleer wat markten kopen en verkopen</p>
+	
+	<p style="hp">De markt is een belangrijk gebouw in Lincity.</p>
+	<p style="hp">Markt is mogelijk een slechte naam voor deze gebieden. Ze zijn meer zoals uitzendburo's, winkels, warenhuizen en markten ineens. Ze kopen en verkopen voedsel, werk, steenkool, goederen, ijzererts, en staal aan de omliggende gebieden en aan het verkeer.</p>
+ 
+	<p style="hp">Binnen het bereik van een markt kan alles geruild worden <b>zonder gebruik te maken van verkeer</b>, behalve wanneer dat duidelijk is aangegeven. Gebruik de <a href="msb-transport">Verkeer en markt overlay </a> om te controleren of een gebouw binnen het bereik van een markt is.</p>
+	<li>Mensen kunnen voedsel, goederen en werk krijgen op markten binnen loopafstand van hun woonwijk.</li>
+	<li>Alle gebieden die werk (werknemers) nodig hebben, krijgen die van markten.</li>
+	<li>Boerderijen kunnen hun geproduceerde voedsel direkt op de markt verkopen.</li>
+	<li>Textielfabrieken, pottenbakkerijen en smederijen verkopen hun spullen direct op de dichtsbijzijnde markt, ze krijgen ook hun grondstoffen van dezelfde markt.</li>
+	<p style="hp">Als er geen markt in de buurt is, dan moeten deze gebouwen verbinding hebben met <a href="transport">verkeer</a>.</p>
+	<p style="hp">Rechtsonder, onder de tweede knop van het mini-venster is een overzicht zien van <b>alle marktvoorraden</b>,ook is te zien hoe dit verandert via een progres bar. Samen met de kleine kaartjes (kleine icoontjes onder het minivenster) zal het veel helpen inzicht te krijgen in de veranderingen van grondstoffen (voedsel, werk...).</p>
+		 
+	<p style="hp">Binnen het bereik van een markt of kan alles geruild worden <b>zonder gebruik te maken van verkeer</b>, behalve wanneer dat duidelijk is aangegeven. Rechtsonder is het kleine icoontje "verkeer kaart", op deze kaart is te zie  hoeveel verkeer er is en in het blauw wat het bereik van is van een markt. Controleer hier of een gebouw binnen het bereik van een markt is.Deze informatie kan ook op het grote scherm getoond worden door op het grote overlay icoon te klikken of door de "V"-toets in te drukken.</p>
+	
+	<p style="hsubtitle">Controleer wat markten kopen en verkopen</p>
 	<p style="hp">U kan de werking van de markt bepalen door selectie's te maken van wat kan worden gekocht en verkocht van het verkeer. Klik twee keer op een markt (niet de selecteer-knop) en linksboven komt een scherm zichtbaar waarmee bepaalt kan worden wat wordt verhandeld. Standaard wordt alles verhandeld.</p>
+	
 	<p style="hp">Dit is een markt</p>
 	<img src="images/tiles/market-empty.png" halign="center"/>
 	<p style="hp">en dit is het icoontje</p>

Modified: branches/waterwell/data/help/nl/mini-screen.xml
===================================================================
--- branches/waterwell/data/help/nl/mini-screen.xml	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/data/help/nl/mini-screen.xml	2007-04-20 15:35:09 UTC (rev 1195)
@@ -2,8 +2,9 @@
 <Document style="helpdocument">
 	<p style="htitle">Minikaart</p>
 	<p style="hp">De minikaart laat op schaal het hele gebied zien waar u op aan het spelen bent. De knoppen eronder zullen als u er op klikt informatie laten zien over oa. de vervuiling over u gebied.</p>
-	<p style="hp">Klik op de links hieronder om meer informatie te zien over elk van deze knoppen.</p>
+	<p style="hp">Rechtsklikken op een van de knoppen onder de minikaart laat de bijbehorende help-pagina zien.</p>
 	<p style="hp">De witte rechthoek laat het gebied zien dat u kunt zien in het hoofdscherm.</p>
+	<p style="hp">De grote knopThe big button "overlay" toont de inhoud van de minikaart op het grote scherm</p>
 	
 	<p style="hsubtitle">Lees ook:</p>
 	<li><a href="msb-coal">Steenkoolkaart</a></li>
@@ -12,6 +13,7 @@
 	<li><a href="msb-health">Welzijnskaart</a></li>
 	<li><a href="msb-normal">Normale kaart</a></li>
 	<li><a href="msb-pol">Vervuilingskaart</a></li>
+	<li><a href="msb-transport">Verkeerskaart</a></li>
 	<li><a href="msb-power">Energiekaart</a></li>
 	<li><a href="msb-starve">Sterftekaart</a></li>
 	<li><a href="msb-ub40">Werkloosheidskaart</a></li>

Modified: branches/waterwell/data/help/nl/msb-transport.xml
===================================================================
--- branches/waterwell/data/help/nl/msb-transport.xml	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/data/help/nl/msb-transport.xml	2007-04-20 15:35:09 UTC (rev 1195)
@@ -14,7 +14,7 @@
 	<li><a href="msb-fire">Brandkaart</a></li>
 	<li><a href="msb-health">Welzijnskaart</a></li>
 	<li><a href="msb-normal">Normale kaart</a></li>
-	<li><a href="msb-pol">Vervuilingskaart</a></li
+	<li><a href="msb-pol">Vervuilingskaart</a></li>
 	<li><a href="msb-power">Energiekaart</a></li>
 	<li><a href="msb-starve">Sterftekaart</a></li>
 	<li><a href="msb-ub40">Werkloosheidskaart</a></li>

Modified: branches/waterwell/data/help/nl/pbar.xml
===================================================================
--- branches/waterwell/data/help/nl/pbar.xml	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/data/help/nl/pbar.xml	2007-04-20 15:35:09 UTC (rev 1195)
@@ -1,7 +1,7 @@
 <?xml version="1.0"?>
 <Document style="helpdocument">
 	<p style="htitle">PBar</p>
-	<p style="hp">Deze indicator wordt de pbar genoemd. Het laat de hoeveelheidswijziging zien van zaken die worden opgeslagen in markten.</p>
-	<p style="hp">Een groene balk rechts duidt een verhoging aan. Een rode balk links duidt een vermindering aan. De grootte van de balk laat de grootte van de wijziging zien.</p>
+	<p style="hp">Dit is de tweede tab van het minivensterThis is the second tab of the miniwindow</p>
+	<p style="hp">Het toont de totale voorrad op alle markten samen zien, en hoe dat verandert.</p>
 	<p style="hp">Het getal rechts duidt de totale hoeveelheid aan.</p>
 </Document>

Modified: branches/waterwell/data/help/nl/river.xml
===================================================================
--- branches/waterwell/data/help/nl/river.xml	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/data/help/nl/river.xml	2007-04-20 15:35:09 UTC (rev 1195)
@@ -2,7 +2,7 @@
 <Document style="helpdocument">
 	<p style="htitle">Rivieren/Water</p>
 	<p style="hp">Rivieren zijn er voornamelijk om in de weg te zitten als obstakel.Het is erg duur om een brug overheen te bouwen, om ze te graven en om ze te slopen (vullen met aarde). Het <i>enige nut</i> van rivieren is dat havens aan een rivier moet liggen.</p>
-	<p style="hp">Er zijn twee soorten water. Meren zijn water dat <b>niet<b/> is verbonden met een rivier, een rivier is water dat wel <b>is<b/> verbonden met een rivier. Al het water bij de start van het spel is rivier . Bijvoorbeeld, wanneer een ijzerertsmijn leeg raakt en naast een rivier ligt, wordt het ook een stukje rivier, in alle andere gevallen is het gewoon een meer. </p>
+	<p style="hp">Er zijn twee soorten water. Meren zijn water dat <b>niet</b> is verbonden met een rivier, een rivier is water dat wel <b>is</b> verbonden met een rivier. Al het water bij de start van het spel is rivier . Bijvoorbeeld, wanneer een ijzerertsmijn leeg raakt en naast een rivier ligt, wordt het ook een stukje rivier, in alle andere gevallen is het gewoon een meer.</p>
 	<p style="hp">Als u een stuk rivier sloopt om een route te maken voor, zeg, een (spoor)weg, bouwt u een peiler van een brug. Beide zijdes van uw brugpeiler zijn nog steeds een gedeelte van de rivier, U zult daarom een dam moeten aanleggen van kant tot kant. Dit is een reden waarom het zo duur is om water te <i>slopen</i>.</p>
 	<p style="hp">Wanneer een stuk water eenmaal een gedeelte van een rivier is, kan het <b>niet</b> weer een apart meertje worden. Water dat een gedeelte van een rivier is wordt aangegeven als navigeerbaar</p>
 	<p style="hp">Electriciteits-draden kunnen onder <b>????n</b> rivierstukje doorgaan, op dezelfde manier als onder een (spoor)weg.</p>

Modified: branches/waterwell/data/help/nl/sustain.xml
===================================================================
--- branches/waterwell/data/help/nl/sustain.xml	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/data/help/nl/sustain.xml	2007-04-20 15:35:09 UTC (rev 1195)
@@ -9,7 +9,7 @@
 	<li>
 		<span color="green">MNY</span>(groen) uw hoeveelheid geld is stabiel of wordt meer, dit betekent u alleen op de goedkoopste gebieden kan bouwen.</li>
 	<li>
-		<span color="bleu">POP</span>(blauw) uw bevolking mag na 180 jaar niet met meer dan 2% zijn gestegen of gedaald. Als de bevolking in een jaar met meer dan 2% is gestegen of gedaald, wordt de jaarteller (om de 180 jaar te tellen) opnieuw gestart en krijgt de bevolking het nieuwe getal. Ook moet u minimaal 5000 inwoners hebben.</li>
+		<span color="blue">POP</span>(blauw) uw bevolking mag na 180 jaar niet met meer dan 2% zijn gestegen of gedaald. Als de bevolking in een jaar met meer dan 2% is gestegen of gedaald, wordt de jaarteller (om de 180 jaar te tellen) opnieuw gestart en krijgt de bevolking het nieuwe getal. Ook moet u minimaal 5000 inwoners hebben.</li>
 	<li>
 		<span color="yellow">TEC</span>(geel) uw technologie nivo mag maar weinig stijgen of dalen. Als het met meer dan 1% is gestegen of gedaalt, wordt de jaarteller (om de 120 jaar te tellen) opnieuw gestart. Ook moet uw technologie nivo minimaal 50 zijn.</li>
 	<li>

Modified: branches/waterwell/data/help/nl/tech-level.xml
===================================================================
--- branches/waterwell/data/help/nl/tech-level.xml	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/data/help/nl/tech-level.xml	2007-04-20 15:35:09 UTC (rev 1195)
@@ -7,8 +7,11 @@
 	<p style="hp">Wanneer u en nog hoger technologie nivo bereikt heeft, zal u universiteiten <i>uitvinden</i>. Deze zorgen voor nog meer technologie dan scholen, maar ze gebruiken <b>erg veel</b> voorraden.</p>
 	<p style="hp">Des te meer technologie u heeft, des te sneller het zal <i>verslijten</i>. Dit betekent dat hoe hoger technologie nivo u wilt, des te meer scholen en universiteiten u nodig zal hebben.</p>
 	<p style="hp">Wees er ook op bedacht dat als u voor een of andere reden, laten we zeggen, twee universiteiten sluit (of ze krijgen plotseling geen vooraden meer) uw technologie nivo begint te <b>dalen</b>.</p>
-
+	<p style="hp">Het percentage van gelukte lanceringen is gelijk met uw technische nivo.</p>
+	
 	<p style="hsubtitle">Lees ook:</p>
+	<li><a href="monument">Monumenten</a></li>
 	<li><a href="school">Scholen</a></li>
 	<li><a href="university">Universiteiten</a></li>
+	<li><a href="rocket">Lanceerplatform</a></li>
 </Document>

Copied: branches/waterwell/data/help/nl/tutorial-advanced.xml (from rev 1194, trunk/data/help/nl/tutorial-advanced.xml)

Copied: branches/waterwell/data/help/nl/tutorial-aim.xml (from rev 1194, trunk/data/help/nl/tutorial-aim.xml)

Copied: branches/waterwell/data/help/nl/tutorial-basics.xml (from rev 1194, trunk/data/help/nl/tutorial-basics.xml)

Copied: branches/waterwell/data/help/nl/tutorial-overview.xml (from rev 1194, trunk/data/help/nl/tutorial-overview.xml)

Copied: branches/waterwell/data/help/nl/tutorial-scenario.xml (from rev 1194, trunk/data/help/nl/tutorial-scenario.xml)

Copied: branches/waterwell/data/help/nl/tutorial.xml (from rev 1194, trunk/data/help/nl/tutorial.xml)

Modified: branches/waterwell/data/help/sv/blacksmith.xml
===================================================================
--- branches/waterwell/data/help/sv/blacksmith.xml	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/data/help/sv/blacksmith.xml	2007-04-20 15:35:09 UTC (rev 1195)
@@ -2,7 +2,7 @@
 <Document style="helpdocument">
 	<p style="htitle">Smedjor</p>
 	<p style="hp">Smedjor g??r om st??l och kol till varor. Du kommer att anv??nda dom mestadels i b??rjan av spelet. De anv??nder ocks?? jobb, s?? klart.</p>
-	<p style="hp">F??re du har f??tt st??lverk m??ste du lita p?? produktionen fr??n spinnerierna. 5 eller 6 spinnerier per smedja ??r rekommenderat.</p>
+	<p style="hp">F??re du har f??tt st??lverk m??ste du lita p?? produktionen fr??n verkst??der. 5 eller 6 verkst??der per smedja ??r rekommenderat.</p>
 	<p style="hp">Smedjor m??ste inte vara kopplade till transporter. De kan f?? allt de beh??ver fr??n marknaden som finns inom r??ckh??ll.</p>
 	<p style="hp">Du kan se n??r en smedja arbetar normalt genom att klicka p?? den och till och fr??n startas animationen upp.</p>
 

Modified: branches/waterwell/data/help/sv/button-index.xml
===================================================================
--- branches/waterwell/data/help/sv/button-index.xml	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/data/help/sv/button-index.xml	2007-04-20 15:35:09 UTC (rev 1195)
@@ -102,7 +102,7 @@
 
 	<!--<p style="subtitle">Parker</p>-->
 	<img src="images/gui/buttonpanel/parks/mills.png"/>
-	<p><a href="mill">Spinneri</a></p>
+	<p><a href="mill">Verkstad</a></p>
 
 	<!--<p style="subtitle">Industri</p>-->
 	<img src="images/gui/buttonpanel/industry/pottery.png"/>

Modified: branches/waterwell/data/help/sv/coal.xml
===================================================================
--- branches/waterwell/data/help/sv/coal.xml	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/data/help/sv/coal.xml	2007-04-20 15:35:09 UTC (rev 1195)
@@ -1,7 +1,7 @@
 ???<?xml version="1.0"?>
 <Document style="helpdocument">
 	<p style="htitle">Kol</p>
-	<p style="hp">Kol anv??nds av kolkraftverk f??r att producera elektricitet (str??m). Det ??r ocks?? anv??nt av keramikfabriker, spinnerier och smedjor f??r att producera varor. Tung industri (st??lverk) anv??nder kol n??r du inte kan f?? elektricitet.</p>
+	<p style="hp">Kol anv??nds av kolkraftverk f??r att producera elektricitet (str??m). Det ??r ocks?? anv??nt av keramikfabriker, verkst??der och smedjor f??r att producera varor. Tung industri (st??lverk) anv??nder kol n??r du inte kan f?? elektricitet.</p>
 	<p style="hp">Kol gr??vs fram under marken av kolgruvor. Det finns en begr??nsad m??ngd som du kan se med hj??lp av kolreservknappen (se kolgruvor).</p>
 	<p style="hp">Kolmilor ger lite 'kol' ocks??. Egentligen ??r detta tr??kol fr??n nedhuggen skog. De ger bara sm?? m??ngder, tillr??ckligt f??r ett par keramikfabriker och smedjor.</p>
 	<p style="hp">Du kan se n??r en smedja arbetar normalt, genom att klicka p?? det och till och fr??n visas animationen.</p>

Modified: branches/waterwell/data/help/sv/commune.xml
===================================================================
--- branches/waterwell/data/help/sv/commune.xml	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/data/help/sv/commune.xml	2007-04-20 15:35:09 UTC (rev 1195)
@@ -2,7 +2,7 @@
 <Document style="helpdocument">
 	<p style="htitle">Kolmilor</p>
 	<p style="hp">Kolmilor ??r omr??den d??r tr??kol framst??lls av nedhuggen skog (samma som kol h??r). De producerar ocks?? sm?? m??ngder av malm och st??l.</p>
-	<p style="hp">Du kommer att beh??ver ett antal kolmilor f??r att framst??lla tillr??ckligt mycket kol och st??l f??r omr??den s??som keramikfabriker, smedjor och spinnerier.</p>
+	<p style="hp">Du kommer att beh??ver ett antal kolmilor f??r att framst??lla tillr??ckligt mycket kol och st??l f??r omr??den s??som keramikfabriker, smedjor och verkst??der.</p>
 	<p style="hp">Om en kolmila inte har producerat n??got p?? 10 ??r kommer den att st??ngas och omr??det ombildas till en park.</p>
 	<p style="hp">Kolmilor ansluts till transporter p?? vilken punkt som helst, inte bara till porten.</p>
 	
@@ -14,7 +14,7 @@
 	<p style="hsubtitle">Se ocks??:</p>
 	<li><a href="pottery">Keramikfabrik</a></li>
 	<li><a href="blacksmith">Smedjor</a></li>
-	<li><a href="mill">Spinnerier</a></li>
+	<li><a href="mill">Verkst??der</a></li>
 	<li><a href="oremine">Malmgruvor</a></li>
 	<li><a href="steel">St??l</a></li>
 </Document>

Modified: branches/waterwell/data/help/sv/farm.xml
===================================================================
--- branches/waterwell/data/help/sv/farm.xml	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/data/help/sv/farm.xml	2007-04-20 15:35:09 UTC (rev 1195)
@@ -1,7 +1,7 @@
 ???<?xml version="1.0"?>
 <Document style="helpdocument">
 	<p style="htitle">Bondg??rdar</p>
-	<p style="hp">Bondg??rdar framst??ller mat s?? folk kan ??ta och f??r att ge r??material till spinnerier. B??nder kan s??lja maten till marknader. De levererar den med traktor s?? de beh??ver inte n??gon transport. Men de kan s??lja till transporter om du vill. S?? klart beh??ver du se till att marknaden ??r inom r??ckh??ll f??r bondg??rden.</p>
+	<p style="hp">Bondg??rdar framst??ller mat s?? folk kan ??ta och f??r att ge r??material till verkst??der. B??nder kan s??lja maten till marknader. De levererar den med traktor s?? de beh??ver inte n??gon transport. Men de kan s??lja till transporter om du vill. S?? klart beh??ver du se till att marknaden ??r inom r??ckh??ll f??r bondg??rden.</p>
 
 	<p style="hp">Detta ??r en bondg??rd</p>
 	<img src="images/tiles/farm0.png" halign="center"/>

Modified: branches/waterwell/data/help/sv/food.xml
===================================================================
--- branches/waterwell/data/help/sv/food.xml	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/data/help/sv/food.xml	2007-04-20 15:35:09 UTC (rev 1195)
@@ -3,11 +3,11 @@
 	<p style="htitle">Mat</p>
 	<p style="hp">Mat framst??lls p?? bondg??rdar eller importeras via en hamn.</p>
 	<p style="hp">Ditt folk beh??ver mat f??r att ??verleva. Om du sv??lter dom kommer de att flytta fr??n omr??det och n??gra kan ??ven d?? av sv??lt.</p>
-	<p style="hp">Spinnerier anv??nder ocks?? mat. De g??r, l??t oss s??ga bomull till kl??der. De kan anv??nda <i>en hel del</i> mat - t??nk p?? det.</p>
+	<p style="hp">Verkst??der anv??nder ocks?? mat. De g??r, l??t oss s??ga bomull till kl??der. De kan anv??nda <i>en hel del</i> mat - t??nk p?? det.</p>
 	
 	<p style="hsubtitle">Se ocks??:</p>
 	<li><a href="farm">Bondg??rd</a></li>
 	<li><a href="port">Hamn</a></li>
-	<li><a href="mill">Spinneri</a></li>
+	<li><a href="mill">Verkst??der</a></li>
 	<li><a href="steel">St??l</a></li>
 </Document>

Modified: branches/waterwell/data/help/sv/goods.xml
===================================================================
--- branches/waterwell/data/help/sv/goods.xml	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/data/help/sv/goods.xml	2007-04-20 15:35:09 UTC (rev 1195)
@@ -3,11 +3,11 @@
 	<p style="htitle">Varor</p>
 	<p style="hp">Varor beh??vs f??r att de flesta omr??den ska fungera. Folk mycket tycker om dom ocks?? och ??r intresserade av omr??den d??r du kan f?? tag p?? dom.</p>
 	<p style="hp">Varor ??r beskattade s?? att tillverka dom hj??lper din ekonomi.</p>
-	<p style="hp">Varor produceras av keramikfabriker, spinnerier och (vanliga) industrier.</p>
+	<p style="hp">Varor produceras av keramikfabriker, verkst??der och (vanliga) industrier.</p>
 
 	<p style="hsubtitle">Se ocks??:</p>
 	<li><a href="pottery">Keramikfabriker</a></li>
 	<li><a href="blacksmith">Smedjor</a></li>
-	<li><a href="mills">Spinnerier</a></li>
+	<li><a href="mills">Verkst??der</a></li>
 	<li><a href="industryl">Industrier</a></li>
 </Document>

Modified: branches/waterwell/data/help/sv/mill.xml
===================================================================
--- branches/waterwell/data/help/sv/mill.xml	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/data/help/sv/mill.xml	2007-04-20 15:35:09 UTC (rev 1195)
@@ -1,13 +1,13 @@
 ???<?xml version="1.0"?>
 <Document style="helpdocument">
-	<p style="htitle">Spinnerier</p>
-	<p style="hp">Spinnerier konverterar mat, kol och jobb till varor. Mat?... tja, bomull och ull r??knas som mat i det h??r spelet.</p>
-	<p style="hp">Spinnerier anv??nder ganska mycket mat s?? du kan l??tt f?? brist p?? mat om du inte t??nker p?? detta. (Det ??r ett mindre problem n??r du har v??derkvarnar eftersom de kan ge str??m till bondg??rdar som d?? g??r dom mer effektiva)</p>
-	<p style="hp">Spinnerier m??ste inte vara anslutna till transporter. Om inte, m??ste de vara inom r??ckh??ll f??r en marknad med kol, jobb och mat. Du kan se n??r spinneriet arbetar eftersom r??k och ??nga kommer ut fr??n byggnaden.</p>
+	<p style="htitle">Verkst??der</p>
+	<p style="hp">Verkst??der konverterar mat, kol och jobb till varor. Mat?... tja, bomull och ull r??knas som mat i det h??r spelet.</p>
+	<p style="hp">Verkst??der anv??nder ganska mycket mat s?? du kan l??tt f?? brist p?? mat om du inte t??nker p?? detta. (Det ??r ett mindre problem n??r du har v??derkvarnar eftersom de kan ge str??m till bondg??rdar som d?? g??r dom mer effektiva)</p>
+	<p style="hp">Verkst??der m??ste inte vara anslutna till transporter. Om inte, m??ste de vara inom r??ckh??ll f??r en marknad med kol, jobb och mat. Du kan se n??r verkstaden arbetar eftersom r??k och ??nga kommer ut fr??n byggnaden.</p>
 	
-	<p style="hp">Detta ??r ett spinneri</p>
+	<p style="hp">Detta ??r en verkstad</p>
 	<img src="images/tiles/mill1.png" halign="center"/>
-	<p style="hp">Detta ??r ett icke-arbetande spinneri</p>
+	<p style="hp">Detta ??r en icke-arbetande verkstad</p>
 	<img src="images/tiles/mill0.png" halign="center"/>
 	<p style="hp">och detta ??r dess ikon</p>
 	<img src="images/gui/buttonpanel/parks/mills.png" halign="center"/>

Modified: branches/waterwell/data/help/sv/recycle.xml
===================================================================
--- branches/waterwell/data/help/sv/recycle.xml	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/data/help/sv/recycle.xml	2007-04-20 15:35:09 UTC (rev 1195)
@@ -3,7 +3,7 @@
 	<p style="htitle">??tervinningscentraler</p>
 	<p style="hp">Anv??nda varor producerar skr??p.</p>
 	<p style="hp">??tervinningscentraler konverterar anv??nda varor till malm. De m??ste vara ansluta till transporter p?? ??vre v??nstra sidan. Jobb och pengar anv??nds f??r att samla in skr??p och konvertera dom till f??rsk malm.</p>
-	<p style="hp">Det ??r m??jligt att driva en h??llbar ekonomi (allts?? ingen mer malmbrytning etc.) med mindre ??n 100% effektiva ??tervinningscentraler om du har n??gra spinnerier som kompenserar f??r det 'f??rlorade' skr??pet.</p>
+	<p style="hp">Det ??r m??jligt att driva en h??llbar ekonomi (allts?? ingen mer malmbrytning etc.) med mindre ??n 100% effektiva ??tervinningscentraler om du har n??gra verkst??der som kompenserar f??r det 'f??rlorade' skr??pet.</p>
 
 	<p style="hp">Detta ??r en ??tervinningscentral</p>
 	<img src="images/tiles/recycle-centre.png" halign="center"/>

Modified: branches/waterwell/data/help/sv/transport.xml
===================================================================
--- branches/waterwell/data/help/sv/transport.xml	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/data/help/sv/transport.xml	2007-04-20 15:35:09 UTC (rev 1195)
@@ -5,7 +5,7 @@
 	<p style="hp">Folk kan h??mta mat, varor och jobb fr??n marknader som ??r inom g??ngavst??nd fr??n deras bostadsomr??de.</p>
 	<p style="hp">Alla omr??den som beh??ver jobb (anst??llda) f??r dom fr??n marknader. Till exempel kommer ett st??lverk f?? sina anst??llda fr??n den lokala marknaden. De kan ocks?? g?? den fr??n f??rbipasserande transporter.</p>
 	<p style="hp">Bondg??rdar kan s??lja sin mat direkt till marknader, de beh??ver inte transportera det alls.</p>
-	<p style="hp">Spinnerier, keramikfabriker och smedjor kan s??lja varor direkt till n??rliggande marknader, de kan ocks?? f?? sitt r??material fr??n samma marknad.</p>
+	<p style="hp">Verkst??der, keramikfabriker och smedjor kan s??lja varor direkt till n??rliggande marknader, de kan ocks?? f?? sitt r??material fr??n samma marknad.</p>
 	<p style="hp">F??ljande omr??den innefattar transporter och marknader. Det ??r upp till dig vad du anv??nder - marknader kan ha st??rre <i>lager</i> ??n transporter.</p>
 	<p style="hp">Sp??r, v??gar och j??rnv??gar anv??nds f??r att transportera mat, jobb, varor, kol, malm och st??l mellan omr??den.</p>
 	<p style="hp">Industier, malmgruvor, soptippar, hamnar, kolgruvor, tung industri och ??tervinningscentraler ansluts till transporter vid ??vre v??nstra h??rnet.</p>
@@ -17,7 +17,7 @@
 	<li><a href="residential">Bost??der</a></li>
 	<li><a href="market">Marknad</a></li>
 	<li><a href="farm">Bondg??rdar</a></li>
-	<li><a href="mill">Spinnerier</a></li>
+	<li><a href="mill">Verkst??der</a></li>
 	<li><a href="pottery">Keramikfabriker</a></li>
 	<li><a href="industryl">Industri</a></li>
 	<li><a href="oremine">Malmgruvor</a></li>

Modified: branches/waterwell/data/locale/ca.po
===================================================================
--- branches/waterwell/data/locale/ca.po	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/data/locale/ca.po	2007-04-20 15:35:09 UTC (rev 1195)
@@ -2,7 +2,7 @@
 # translation of ca.po to
 # translation of messages.po to
 # This file is distributed under the same license as the PACKAGE package.
-# Copyright (C) YEAR THE PACKAGE'S COPYRIGHT HOLDER.
+# Copyright (C) 2007 THE PACKAGE'S COPYRIGHT HOLDER.
 # Joan <info at lutesor.com>, 2005.
 # Joan Padr?? <info at lutesor.com>, 2005.
 #
@@ -11,13 +11,12 @@
 "Project-Id-Version: ca\n"
 "Report-Msgid-Bugs-To: \n"
 "POT-Creation-Date: 2007-01-27 22:03+0100\n"
-"PO-Revision-Date: 2005-08-12 20:05+0000\n"
+"PO-Revision-Date: 2007-03-18 20:11+0100\n"
 "Last-Translator: Joan Padr?? <info at lutesor.com>\n"
 "Language-Team: Catal?? <ca at li.org>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
-"Content-Transfer-Encoding: 8bit\n"
-"X-Generator: KBabel 1.10.1\n"
+"Content-Transfer-Encoding: 8bit"
 
 #: src/lincity/fileutil.cpp:292 src/lincity/fileutil.cpp:341
 msgid "Error. Can't find LINCITY_HOME"
@@ -25,7 +24,7 @@
 
 #: src/lincity/fileutil.cpp:561
 msgid "Error verifying package. Can't find colour.pal."
-msgstr "Error verificar paquet. No es troba color.pal."
+msgstr "Error al verificar el paquet. No es troba color.pal."
 
 #: src/lincity/fileutil.cpp:580 src/lincity/fileutil.cpp:589
 #, c-format
@@ -43,7 +42,7 @@
 
 #: src/lincity/engine.cpp:158 src/lincity/engine.cpp:189
 msgid "This area was once a landfill"
-msgstr "Aquesta area era un abocador"
+msgstr "Aquesta ??rea era un abocador"
 
 #: src/lincity/engine.cpp:159 src/lincity/engine.cpp:190
 #: src/lincity/engine.cpp:197
@@ -52,7 +51,7 @@
 
 #: src/lincity/engine.cpp:188 src/lincity/engine.cpp:195
 msgid "You can't build a mine here"
-msgstr "No pots construir la mine aqui"
+msgstr "No pots construir la mina aqu??"
 
 #: src/lincity/engine.cpp:196
 msgid "There is no ore left at this site"
@@ -60,7 +59,7 @@
 
 #: src/lincity/engine.cpp:691
 msgid "It's at a power line."
-msgstr "Aix?? ??s una l??nea electrica"
+msgstr "Aix?? ??s una l??nia el??ctrica"
 
 #: src/lincity/engine.cpp:693
 msgid "It's at a solar power station."
@@ -68,51 +67,51 @@
 
 #: src/lincity/engine.cpp:695
 msgid "It's at a substation."
-msgstr "Aix?? ??s una sub-estaci??"
+msgstr "Aix?? ??s una sub-estaci??."
 
 #: src/lincity/engine.cpp:697
 msgid "It's at a residential area."
-msgstr "Aix?? ??s una area residencial"
+msgstr "Aix?? ??s una ??rea residencial."
 
 #: src/lincity/engine.cpp:699
 msgid "It's at a farm."
-msgstr "Aix?? ??s una Grange"
+msgstr "Aix?? ??s una granja."
 
 #: src/lincity/engine.cpp:701
 msgid "It's at a market."
-msgstr "Aix?? ??s un Mercat"
+msgstr "Aix?? ??s un mercat."
 
 #: src/lincity/engine.cpp:703
 msgid "It's at a track."
-msgstr "Aix?? ??s un cam??"
+msgstr "Aix?? ??s un cam??."
 
 #: src/lincity/engine.cpp:705
 msgid "It's at a coal mine."
-msgstr "Aix?? ??s una mine de carb??"
+msgstr "Aix?? ??s una mina de carb??."
 
 #: src/lincity/engine.cpp:707
 msgid "It's at a railway."
-msgstr "Aix?? ??s una Via"
+msgstr "Aix?? ??s una via de tren."
 
 #: src/lincity/engine.cpp:709
 msgid "It's at a coal power station."
-msgstr "Aix?? ??s una central de carb??"
+msgstr "Aix?? ??s una central t??rmica."
 
 #: src/lincity/engine.cpp:711
 msgid "It's at a road."
-msgstr "Aix?? ??s una Carretera"
+msgstr "Aix?? ??s una carretera."
 
 #: src/lincity/engine.cpp:713
 msgid "It's at light industry."
-msgstr "Aix?? ??s una Ind??stria electrica"
+msgstr "Aix?? ??s una ind??stria el??ctrica."
 
 #: src/lincity/engine.cpp:715
 msgid "It's at a university."
-msgstr "Aix?? ??s una Universitat"
+msgstr "Aix?? ??s una universitat."
 
 #: src/lincity/engine.cpp:717
 msgid "It's at a commune."
-msgstr "Aix?? ??s una comune"
+msgstr "Aix?? ??s una comuna."
 
 #: src/lincity/engine.cpp:719
 msgid "It's at a tip."
@@ -120,55 +119,55 @@
 
 #: src/lincity/engine.cpp:721
 msgid "It's at a port."
-msgstr "Aix?? ??s el Port"
+msgstr "Aix?? ??s el port."
 
 #: src/lincity/engine.cpp:723
 msgid "It's at a steel works."
-msgstr "Taller Mec??nic"
+msgstr "Aix?? ??s un ferrer."
 
 #: src/lincity/engine.cpp:725
 msgid "It's at a recycle centre."
-msgstr "Centre de Reciclat"
+msgstr "Aix?? ??s un centre de reciclatge."
 
 #: src/lincity/engine.cpp:727
 msgid "It's at a health centre."
-msgstr "Aix?? ??s un Centre Hospitalari"
+msgstr "Aix?? ??s un centre hospitalari."
 
 #: src/lincity/engine.cpp:729
 msgid "It's at a rocket site."
-msgstr "Aix?? ??s una plataforma de cohets"
+msgstr "Aix?? ??s una plataforma aeroespacial."
 
 #: src/lincity/engine.cpp:731
 msgid "It's at a windmill."
-msgstr "Aix?? ??s un mol??"
+msgstr "Aix?? ??s un mol??."
 
 #: src/lincity/engine.cpp:733
 msgid "It's at a school."
-msgstr "Aix?? ??s una Escola"
+msgstr "Aix?? ??s una escola."
 
 #: src/lincity/engine.cpp:735
 msgid "It's at a blacksmith."
-msgstr "Aix?? ??s una Farga"
+msgstr "Aix?? ??s una farga."
 
 #: src/lincity/engine.cpp:737
 msgid "It's at a mill."
-msgstr "Aix?? ??s una f??brica"
+msgstr "Aix?? ??s una f??brica."
 
 #: src/lincity/engine.cpp:739
 msgid "It's at a pottery."
-msgstr "Aix?? ??s un taller de cer??mique"
+msgstr "Aix?? ??s un terrissaire."
 
 #: src/lincity/engine.cpp:741
 msgid "It's at a fire station!!!."
-msgstr "Aix?? ??s una Estaci?? de Bombers"
+msgstr "Aix?? ??s una estaci?? de bombers."
 
 #: src/lincity/engine.cpp:743
 msgid "It's at a sports field!!!."
-msgstr "Aix?? ??s un Poliesportiu"
+msgstr "Aix?? ??s un poliesportiu!!!"
 
 #: src/lincity/engine.cpp:745
 msgid "It's at a shanty town."
-msgstr "Aix?? ??s na gossera"
+msgstr "Aix?? ??s una barraca."
 
 #: src/lincity/engine.cpp:747
 msgid "UNKNOWN!"
@@ -177,7 +176,7 @@
 #: src/lincity/ldsvguts.cpp:128
 #, c-format
 msgid "Save file <%s> - "
-msgstr "Desa fitxer<%s> - "
+msgstr "Desa el fitxer<%s> - "
 
 #: src/lincity/ldsvguts.cpp:129
 msgid "Can't open save file!"
@@ -185,7 +184,7 @@
 
 #: src/lincity/ldsvguts.cpp:134
 msgid "Saving scene"
-msgstr "Desant escena"
+msgstr "S'est?? desant l'escena"
 
 #: src/lincity/ldsvguts.cpp:334
 #, c-format
@@ -194,7 +193,7 @@
 
 #: src/lincity/ldsvguts.cpp:352
 msgid "Loading scene"
-msgstr "Obrint escena"
+msgstr "S'est?? obrint l'escena."
 
 #: src/lincity/lintypes.cpp:22
 msgid "Empty"
@@ -202,11 +201,11 @@
 
 #: src/lincity/lintypes.cpp:34
 msgid "Power line"
-msgstr "Li??ea el??ctrica "
+msgstr "L??nia el??ctrica"
 
 #: src/lincity/lintypes.cpp:46
 msgid "Solar PS"
-msgstr "Solar PS"
+msgstr "Central solar"
 
 #: src/lincity/lintypes.cpp:58 src/lincity/modules/substation.cpp:91
 msgid "Substation"
@@ -214,7 +213,7 @@
 
 #: src/lincity/lintypes.cpp:70
 msgid "Residential LL"
-msgstr "Residencial LL"
+msgstr "Resid??ncial LL"
 
 #: src/lincity/lintypes.cpp:82
 msgid "Farm"
@@ -235,11 +234,11 @@
 
 #: src/lincity/lintypes.cpp:130
 msgid "Railway"
-msgstr "Via"
+msgstr "Via de tren"
 
 #: src/lincity/lintypes.cpp:142
 msgid "Coal PS"
-msgstr "Coure PS"
+msgstr "Central t??rmica"
 
 #: src/lincity/lintypes.cpp:154 src/lincity/modules/road.cpp:47
 msgid "Road"
@@ -247,7 +246,7 @@
 
 #: src/lincity/lintypes.cpp:166
 msgid "Lt. Industry"
-msgstr "Petita Ind??stria"
+msgstr "Petita ind??stria"
 
 #: src/lincity/lintypes.cpp:178 src/lincity/modules/university.cpp:67
 msgid "University"
@@ -263,7 +262,7 @@
 
 #: src/lincity/lintypes.cpp:214
 msgid "Rubbish tip"
-msgstr "Deixelleria"
+msgstr "Deixalleria"
 
 #: src/lincity/lintypes.cpp:226 src/lincity/modules/port.cpp:173
 #: src/lincity-ng/Dialog.cpp:540
@@ -272,27 +271,27 @@
 
 #: src/lincity/lintypes.cpp:238
 msgid "Hv. Industry"
-msgstr "Industria pesada"
+msgstr "Ind??stria pesada"
 
 #: src/lincity/lintypes.cpp:250
 msgid "Park"
-msgstr "Parq"
+msgstr "Parc"
 
 #: src/lincity/lintypes.cpp:262 src/lincity-ng/MpsInterface.cpp:516
 msgid "Recycle"
-msgstr "Reciclat"
+msgstr "Reciclatge"
 
 #: src/lincity/lintypes.cpp:274 src/lincity/modules/water.cpp:19
 msgid "Water"
-msgstr "Aig??a"
+msgstr "Aigua"
 
 #: src/lincity/lintypes.cpp:286
 msgid "Health centre"
-msgstr "Ayuntament"
+msgstr "Centre de salut"
 
 #: src/lincity/lintypes.cpp:298
 msgid "Rocket pad"
-msgstr "Cohet"
+msgstr "Coet"
 
 #: src/lincity/lintypes.cpp:310 src/lincity/modules/windmill.cpp:73
 #: src/lincity-ng/MpsInterface.cpp:506
@@ -309,15 +308,15 @@
 
 #: src/lincity/lintypes.cpp:346 src/lincity/modules/blacksmith.cpp:97
 msgid "Blacksmith"
-msgstr "Farreter"
+msgstr "Farga"
 
 #: src/lincity/lintypes.cpp:358
 msgid "Mill"
-msgstr "Lleter"
+msgstr "Mol??"
 
 #: src/lincity/lintypes.cpp:370 src/lincity/modules/pottery.cpp:119
 msgid "Pottery"
-msgstr "Cer??mique"
+msgstr "Terrissaire"
 
 #: src/lincity/lintypes.cpp:382
 msgid "Fire sta'n"
@@ -329,11 +328,11 @@
 
 #: src/lincity/lintypes.cpp:407
 msgid "Burnt"
-msgstr "Cremar"
+msgstr "Cremat"
 
 #: src/lincity/lintypes.cpp:420
 msgid "Shanty town"
-msgstr "Sanitat "
+msgstr "Barraques"
 
 #: src/lincity/lintypes.cpp:433 src/lincity/modules/residence.cpp:292
 #: src/lincity-ng/MpsInterface.cpp:380 src/lincity-ng/EconomyGraph.cpp:131
@@ -346,26 +345,23 @@
 
 #: src/lincity/lintypes.cpp:458
 msgid "Residential ML"
-msgstr "Residencia ML"
+msgstr "Resid??ncia ML"
 
 #: src/lincity/lintypes.cpp:470
 msgid "Residential HL"
 msgstr "Residencil HL"
 
 #: src/lincity/lintypes.cpp:482
-#, fuzzy
 msgid "Residential LH"
-msgstr "Residencial LL"
+msgstr "Resid??ncial LH"
 
 #: src/lincity/lintypes.cpp:494
-#, fuzzy
 msgid "Residential MH"
-msgstr "Residencia ML"
+msgstr "Resid??ncia MH"
 
 #: src/lincity/lintypes.cpp:506
-#, fuzzy
 msgid "Residential HH"
-msgstr "Residencil HL"
+msgstr "Residencil HH"
 
 #: src/lincity/lclib.cpp:17
 msgid "Jan"
@@ -448,7 +444,7 @@
 #: src/lincity/modules/firestation.cpp:124 src/lincity/modules/school.cpp:57
 #: src/lincity-ng/MpsInterface.cpp:448
 msgid "Goods"
-msgstr "Riquesa"
+msgstr "B??ns"
 
 #: src/lincity/modules/rocket_pad.cpp:163
 msgid "Rocket Pad"
@@ -470,7 +466,7 @@
 #: src/lincity/modules/organic_farm.cpp:196
 #: src/lincity/modules/solar_power.cpp:58
 msgid "Tech"
-msgstr "Tec"
+msgstr "Tecnol."
 
 #: src/lincity/modules/windmill.cpp:80
 msgid "Local Status"
@@ -502,14 +498,14 @@
 #: src/lincity/modules/power_line.cpp:53
 #: src/lincity/modules/solar_power.cpp:60
 msgid "Grid ID"
-msgstr ""
+msgstr "ID de xarxa"
 
 #: src/lincity/modules/water.cpp:22 src/lincity/modules/commune.cpp:151
 #: src/lincity/modules/commune.cpp:153 src/lincity/modules/commune.cpp:155
 #: src/lincity/modules/commune.cpp:157 src/lincity-ng/MpsInterface.cpp:379
 #: src/lincity-ng/MpsInterface.cpp:382 src/lincity-ng/MpsInterface.cpp:385
 msgid "Yes"
-msgstr "Si"
+msgstr "S??"
 
 #: src/lincity/modules/water.cpp:22 src/lincity/modules/commune.cpp:151
 #: src/lincity/modules/commune.cpp:153 src/lincity/modules/commune.cpp:155
@@ -545,7 +541,7 @@
 #: src/lincity/modules/light_industry.cpp:359
 #: src/lincity/modules/organic_farm.cpp:188
 msgid "YES"
-msgstr "Si"
+msgstr "S??"
 
 #: src/lincity/modules/recycle.cpp:175 src/lincity/modules/residence.cpp:279
 #: src/lincity/modules/residence.cpp:282 src/lincity/modules/residence.cpp:285
@@ -554,14 +550,14 @@
 #: src/lincity/modules/heavy_industry.cpp:334
 #: src/lincity/modules/light_industry.cpp:359
 msgid "NO"
-msgstr "No"
+msgstr "NO"
 
 #: src/lincity/modules/recycle.cpp:176 src/lincity/modules/residence.cpp:280
 #: src/lincity/modules/heavy_industry.cpp:337
 #: src/lincity/modules/light_industry.cpp:360
 #: src/lincity/modules/organic_farm.cpp:193
 msgid "Power"
-msgstr "Energ??a"
+msgstr "Energia"
 
 #: src/lincity/modules/recycle.cpp:182
 #: src/lincity/modules/heavy_industry.cpp:342
@@ -577,7 +573,7 @@
 #: src/lincity/modules/road.cpp:62 src/lincity/modules/rail.cpp:65
 #: src/lincity/modules/commune.cpp:158 src/lincity/modules/track.cpp:53
 msgid "Waste"
-msgstr "Escombrer??es"
+msgstr "Escombraries"
 
 #: src/lincity/modules/coalmine.cpp:168
 msgid "Coal Mine"
@@ -585,7 +581,7 @@
 
 #: src/lincity/modules/coalmine.cpp:171 src/lincity/modules/oremine.cpp:187
 msgid "Stock"
-msgstr "Magatsem"
+msgstr "Magatzem"
 
 #: src/lincity/modules/coalmine.cpp:175 src/lincity/modules/coalmine.cpp:177
 #: src/lincity/modules/oremine.cpp:191
@@ -598,7 +594,7 @@
 
 #: src/lincity/modules/residence.cpp:273
 msgid "Residence"
-msgstr "Residencia"
+msgstr "Resid??ncia"
 
 #: src/lincity/modules/residence.cpp:277
 msgid "People"
@@ -627,7 +623,7 @@
 
 #: src/lincity/modules/residence.cpp:299 src/lincity-ng/MpsInterface.cpp:393
 msgid "good"
-msgstr "B??"
+msgstr "b??"
 
 #: src/lincity/modules/residence.cpp:299
 msgid "poor"
@@ -648,12 +644,12 @@
 
 #: src/lincity/modules/heavy_industry.cpp:323
 msgid "Heavy"
-msgstr "Force"
+msgstr "For??a"
 
 #: src/lincity/modules/heavy_industry.cpp:324
 #: src/lincity/modules/light_industry.cpp:355
 msgid "Industry"
-msgstr "Industria"
+msgstr "Ind??stria"
 
 #: src/lincity/modules/heavy_industry.cpp:329
 #: src/lincity/modules/heavy_industry.cpp:344
@@ -698,12 +694,12 @@
 #: src/lincity/modules/coal_power.cpp:90
 #: src/lincity/modules/solar_power.cpp:45
 msgid "Power Station"
-msgstr "Central electrica"
+msgstr "Central el??ctrica"
 
 #: src/lincity/modules/coal_power.cpp:94
 #: src/lincity/modules/solar_power.cpp:49
 msgid "Max Output"
-msgstr "Sortida m??xima"
+msgstr "Sortida m??xima"
 
 #: src/lincity/modules/coal_power.cpp:99
 #: src/lincity/modules/solar_power.cpp:54
@@ -716,15 +712,15 @@
 
 #: src/lincity/modules/mill.cpp:103
 msgid "Textile Mill"
-msgstr "F??brica t??xtil"
+msgstr "F??brica t??xtil"
 
 #: src/lincity/modules/oremine.cpp:184
 msgid "Ore Mine"
-msgstr "Mine de coure"
+msgstr "Mina de coure"
 
 #: src/lincity/modules/power_line.cpp:50
 msgid "Power Line"
-msgstr "Linea electrica"
+msgstr "Linea el??ctrica"
 
 #: src/lincity/modules/light_industry.cpp:354
 msgid "Light"
@@ -753,7 +749,7 @@
 #: src/lincity/modules/tip.cpp:117
 #, c-format
 msgid "% Filled"
-msgstr ""
+msgstr "% ple"
 
 #: src/lincity/modules/commune.cpp:149
 msgid "Activity"
@@ -761,11 +757,11 @@
 
 #: src/lincity/modules/firestation.cpp:119
 msgid "Fire Station"
-msgstr "Estaci?? de foc"
+msgstr "Bombers"
 
 #: src/lincity/modules/organic_farm.cpp:183
 msgid "Organic Farm"
-msgstr "Grange org??nique"
+msgstr "Granja org??nica"
 
 #: src/lincity/modules/organic_farm.cpp:190
 msgid "NO "
@@ -777,7 +773,7 @@
 
 #: src/lincity/modules/school.cpp:51
 msgid "Lessons Learned"
-msgstr "Llisons apreses"
+msgstr "Lli??ons apreses"
 
 #: src/lincity/modules/solar_power.cpp:44
 msgid "Solar"
@@ -785,21 +781,21 @@
 
 #: src/lincity-ng/Dialog.cpp:173
 msgid "Launchsite"
-msgstr "Zona de Llansament"
+msgstr "Plataforma d'enlairament"
 
 #: src/lincity-ng/Dialog.cpp:341 src/lincity-ng/Dialog.cpp:342
 msgid "----- IN TEST MODE -------"
-msgstr ""
+msgstr "----- MODE DE PROVES -------"
 
 #: src/lincity-ng/Dialog.cpp:344
 #, c-format
 msgid "Game statistics from LinCity-NG Version %s"
-msgstr ""
+msgstr "Estad??stiques del LinCity-NG Versi?? %s"
 
 #: src/lincity-ng/Dialog.cpp:348
 #, c-format
 msgid "Initial loaded scene - %s"
-msgstr ""
+msgstr "Escena carregada al principi - %s"
 
 #: src/lincity-ng/Dialog.cpp:353
 #, c-format
@@ -809,99 +805,99 @@
 #: src/lincity-ng/Dialog.cpp:357
 #, c-format
 msgid "Population  %d  of which  %d  are not housed."
-msgstr ""
+msgstr "%d de poblaci?? de la qual %d s??n indigents."
 
 #: src/lincity-ng/Dialog.cpp:362
 #, c-format
 msgid "Max population %d  Number evacuated %d Total births %d"
-msgstr "Maxime poblaci??%d  Nombre evacuats%d Total nascuts%d"
+msgstr "M??xima poblaci?? %d  Nombre evacuats%d Total nascuts %d"
 
 #: src/lincity-ng/Dialog.cpp:367
 #, c-format
 msgid "Date %s %04d  Money %8d   Tech-level %5.1f (%5.1f)"
-msgstr "Date%s %04d  Capital %8d  Nivell Tecnic %5.1f (%5.1f)"
+msgstr "Data %s %04d  Diners %8d  Nivell T??cnic %5.1f (%5.1f)"
 
 #: src/lincity-ng/Dialog.cpp:374
 #, c-format
 msgid ".Deaths by starvation %7d   History %8.3f"
-msgstr ""
+msgstr ".Morts de fam %7d   Historial %8.3f"
 
 #: src/lincity-ng/Dialog.cpp:379
 #, c-format
 msgid "Deaths from pollution %7d   History %8.3f"
-msgstr ""
+msgstr "Morts per contaminaci?? %7d   Historial %8.3f"
 
 #: src/lincity-ng/Dialog.cpp:383
 #, c-format
 msgid "Years of unemployment %7d   History %8.3f"
-msgstr ""
+msgstr "Anys d'atur %7d   Historial %8.3f"
 
 #: src/lincity-ng/Dialog.cpp:387
 #, c-format
 msgid "Rockets launched %2d  Successful launches %2d"
-msgstr "Cohets llansats%2d Pr??xim llansament% 2d"
+msgstr "Coets enlairats %2d Enlairaments exitosos % 2d"
 
 #: src/lincity-ng/Dialog.cpp:397
 #, c-format
 msgid ".   Residences %4d         Markets %4d            Farms %4d"
-msgstr ".Residencias%4d         Mercats%4d             Granges%4d"
+msgstr ".Resid??ncies %4d         Mercats%4d             Granges%4d"
 
 #: src/lincity-ng/Dialog.cpp:408
 #, c-format
 msgid ".       Tracks %4d           Roads %4d             Rail %4d"
-msgstr ".       Camins %4d           Carreteras %4d             Vias %4d"
+msgstr ".       Camins %4d           Carreteres %4d             Vies %4d"
 
 #: src/lincity-ng/Dialog.cpp:413
 #, c-format
 msgid ".    Potteries %4d     Blacksmiths %4d            Mills %4d"
-msgstr ".    Cer??miques %4d     Fargues%4d            F??briques%4d"
+msgstr ".    Terrissaires %4d     Fargues%4d            F??briques%4d"
 
 #: src/lincity-ng/Dialog.cpp:418
 #, c-format
 msgid ".    Monuments %4d         Schools %4d     Universities %4d"
-msgstr ",Monuments%4d Escoles%4d Universitats%4d"
+msgstr ".    Monuments %4d         Escoles %4d     Universitats %4d"
 
 #: src/lincity-ng/Dialog.cpp:423
 #, c-format
 msgid ".Fire stations %4d           Parks %4d    Sports fields %4d"
-msgstr ".Bombers%4d            Parcs%4d    Esports%4d"
+msgstr ".Bombers %4d            Parcs %4d    Esports %4d"
 
 #: src/lincity-ng/Dialog.cpp:428
 #, c-format
 msgid ".   Coal mines %4d       Ore mines %4d         Communes %4d"
-msgstr ".   Mines Carb??%4d         Mines Coure%4d           Comunes%4d"
+msgstr ".   Mines Carb?? %4d         Mines Coure %4d           Comunes %4d"
 
 #: src/lincity-ng/Dialog.cpp:433
 #, c-format
 msgid ".    Windmills %4d     Coal powers %4d     Solar powers %4d"
-msgstr ".    Molins%4d     Potencia carb??%4d     Potencia Solar%4d"
+msgstr ".    Molins %4d     Centrals t??rmiques %4d     Centras solars %4d"
 
 #: src/lincity-ng/Dialog.cpp:439
 #, c-format
 msgid ".  Substations %4d     Power lines %4d            Ports %4d"
-msgstr "Sub-estacions %4d     L??neas El??ctriques%4d        Ports%4d"
+msgstr "Sub-estacions %4d     L??nias El??ctriques %4d        Ports %4d"
 
 #: src/lincity-ng/Dialog.cpp:444
 #, c-format
 msgid ".   Light inds %4d      Heavy inds %4d        Recyclers %4d"
-msgstr ".   Ind. electrica%4d     Ind. Pesada%4d      Rciclat%4d"
+msgstr ".   Ind. el??ctrica%4d     Ind. Pesada%4d      Reciclatge %4d"
 
 #: src/lincity-ng/Dialog.cpp:449
 #, c-format
 msgid "Health centres %4d            Tips %4d         Shanties %4d"
-msgstr "Centres Salu   t%4d  Abodcadors%4d      Shanties %4d"
+msgstr "Centres Salut %4d  Abocadors%4d      Barraques %4d"
 
 #: src/lincity-ng/GameView.cpp:236
 msgid "Minimap: outline map"
-msgstr ""
+msgstr "Minimapa: mapa de l??nies"
 
 #: src/lincity-ng/GameView.cpp:239
 msgid "Minimap: unemployment"
-msgstr "Minimap; Parats"
+msgstr "Minimapa; Atur"
 
 #: src/lincity-ng/GameView.cpp:242
 msgid "Minimap: pollution"
-msgstr "Minimap Contaminaci??"
+msgstr "Minimapa Contaminaci??"
 
 #: src/lincity-ng/GameView.cpp:245
 msgid "Minimap: nourishments"
@@ -909,11 +905,11 @@
 
 #: src/lincity-ng/GameView.cpp:248
 msgid "Minimap: power supply"
-msgstr "Minimap: suport energ??a"
+msgstr "Minimapa: suport energia"
 
 #: src/lincity-ng/GameView.cpp:251
 msgid "Minimap: firedepartment cover"
-msgstr "Minimap Departament de foc"
+msgstr "Minimapa: Bombers"
 
 #: src/lincity-ng/GameView.cpp:254
 msgid "Minimap: sport cover"
@@ -921,7 +917,7 @@
 
 #: src/lincity-ng/GameView.cpp:257
 msgid "Minimap: medical care"
-msgstr "Minimapa: Salut"
+msgstr "Minimapa: Sanitat"
 
 #: src/lincity-ng/GameView.cpp:260
 msgid "Minimap: coal depots"
@@ -929,36 +925,36 @@
 
 #: src/lincity-ng/GameView.cpp:263
 msgid "Minimap: traffic density"
-msgstr "Minimapa: Densitat de trafic"
+msgstr "Minimapa: Densitat del tr??nsit"
 
 #: src/lincity-ng/GameView.cpp:1515
 msgid "Estimated Bulldoze Cost: "
-msgstr "Cost estimat escabadora"
+msgstr "Cost estimat de l'enderroc"
 
 #: src/lincity-ng/GameView.cpp:1517
 msgid "Bulldoze Cost: "
-msgstr "Cost Escabadora"
+msgstr "Cost de l'enderroc"
 
 #: src/lincity-ng/GameView.cpp:1520 src/lincity-ng/GameView.cpp:1551
 #: src/lincity-ng/ScreenInterface.cpp:269
 msgid "$"
-msgstr "$"
+msgstr "???"
 
 #: src/lincity-ng/GameView.cpp:1522
 msgid "n/a"
-msgstr "n/a"
+msgstr "n/d"
 
 #: src/lincity-ng/GameView.cpp:1540
 msgid "Query Tool: Show information about selected building."
-msgstr "Eina de investigar. Mostre informaci?? sobres el edifici seleccionat"
+msgstr "Eina d'investigar. Mostra informaci?? sobre els edificis seleccionats."
 
 #: src/lincity-ng/GameView.cpp:1544
 msgid "Bulldozer: remove building -price varies-"
-msgstr ""
+msgstr "Enderroca: enderroca l'edifici -el preu canvia-"
 
 #: src/lincity-ng/GameView.cpp:1551
 msgid ": Cost to build "
-msgstr "Cost de construcci??"
+msgstr "Cost de la construcci??"
 
 #: src/lincity-ng/GameView.cpp:1552
 msgid ", to bulldoze "
@@ -970,7 +966,7 @@
 
 #: src/lincity-ng/GameView.cpp:1554
 msgid " To build "
-msgstr "Construeix"
+msgstr "Per construir"
 
 #: src/lincity-ng/GameView.cpp:1554
 msgid " of them "
@@ -978,7 +974,7 @@
 
 #: src/lincity-ng/GameView.cpp:1555
 msgid "will cost about "
-msgstr "Et costar??"
+msgstr "Et costar??"
 
 #: src/lincity-ng/MainMenu.cpp:175
 msgid "empty"
@@ -986,7 +982,7 @@
 
 #: src/lincity-ng/MpsInterface.cpp:224
 msgid "build something here"
-msgstr "Construir aqu??"
+msgstr "Construeix quelcom aqu??"
 
 #: src/lincity-ng/MpsInterface.cpp:226
 msgid "no further information available"
@@ -994,7 +990,7 @@
 
 #: src/lincity-ng/MpsInterface.cpp:378
 msgid "Coverage"
-msgstr "Cubert"
+msgstr "Cobertura"
 
 #: src/lincity-ng/MpsInterface.cpp:383
 msgid "Health"
@@ -1014,11 +1010,11 @@
 
 #: src/lincity-ng/MpsInterface.cpp:399
 msgid "smokey"
-msgstr "Fums"
+msgstr "fumejant"
 
 #: src/lincity-ng/MpsInterface.cpp:401
 msgid "smoggy"
-msgstr ""
+msgstr "boir??s"
 
 #: src/lincity-ng/MpsInterface.cpp:403
 msgid "bad"
@@ -1026,7 +1022,7 @@
 
 #: src/lincity-ng/MpsInterface.cpp:405
 msgid "very bad"
-msgstr "m??s enrrera"
+msgstr "molt malament"
 
 #: src/lincity-ng/MpsInterface.cpp:407
 msgid "death!"
@@ -1038,11 +1034,11 @@
 
 #: src/lincity-ng/MpsInterface.cpp:418
 msgid "N/A"
-msgstr "N/A"
+msgstr "N/D"
 
 #: src/lincity-ng/MpsInterface.cpp:436
 msgid "Tax Income"
-msgstr "Ingres Impostos"
+msgstr "Ingressos per impostos"
 
 #: src/lincity-ng/MpsInterface.cpp:440
 msgid "Income"
@@ -1054,11 +1050,11 @@
 
 #: src/lincity-ng/MpsInterface.cpp:456
 msgid "Expenses"
-msgstr "Despesses"
+msgstr "Despeses"
 
 #: src/lincity-ng/MpsInterface.cpp:460
 msgid "Unemp."
-msgstr "Parats"
+msgstr "Atur"
 
 #: src/lincity-ng/MpsInterface.cpp:464
 msgid "Transport"
@@ -1106,11 +1102,11 @@
 
 #: src/lincity-ng/MpsInterface.cpp:510
 msgid "Rockets"
-msgstr "Cohets"
+msgstr "Coets"
 
 #: src/lincity-ng/MpsInterface.cpp:512
 msgid "Fire Stn"
-msgstr "Bombers Stn"
+msgstr "Bombers"
 
 #: src/lincity-ng/MpsInterface.cpp:530
 msgid "Population"
@@ -1118,15 +1114,15 @@
 
 #: src/lincity-ng/MpsInterface.cpp:533
 msgid "Housed"
-msgstr "Ocupat"
+msgstr "Amb casa"
 
 #: src/lincity-ng/MpsInterface.cpp:534
 msgid "Homeless"
-msgstr "Buit"
+msgstr "Indigents"
 
 #: src/lincity-ng/MpsInterface.cpp:535
 msgid "Shanties"
-msgstr "Pipican"
+msgstr "Barraques"
 
 #: src/lincity-ng/MpsInterface.cpp:536
 msgid "Unn Dths"
@@ -1134,11 +1130,11 @@
 
 #: src/lincity-ng/MpsInterface.cpp:537
 msgid "Unemployment"
-msgstr "Parats"
+msgstr "Atur"
 
 #: src/lincity-ng/MpsInterface.cpp:538
 msgid "Claims"
-msgstr ""
+msgstr "Peticions"
 
 #: src/lincity-ng/MpsInterface.cpp:539 src/lincity-ng/MpsInterface.cpp:544
 msgid "Rate"
@@ -1146,7 +1142,7 @@
 
 #: src/lincity-ng/MpsInterface.cpp:541
 msgid "Starvation"
-msgstr ""
+msgstr "fam"
 
 #: src/lincity-ng/MpsInterface.cpp:542
 msgid "Cases"
@@ -1174,11 +1170,11 @@
 
 #: src/lincity-ng/EconomyGraph.cpp:134
 msgid "Economy Overview:"
-msgstr "Econom??a overta"
+msgstr "Economia oberta."
 
 #: src/lincity-ng/EconomyGraph.cpp:137
 msgid "Sustainability:"
-msgstr "Sustenibilitat"
+msgstr "Sostenibilitat"
 
 #: src/lincity-ng/EconomyGraph.cpp:140
 msgid "Frames per Second:"
@@ -1194,44 +1190,44 @@
 
 #: src/lincity-ng/ButtonPanel.cpp:199
 msgid "Bulldozer"
-msgstr "Escabadora"
+msgstr "Excabadora"
 
 #: src/lincity-ng/ButtonPanel.cpp:201
 msgid "Residential: 50 denizens, low birthrate, high deathrate"
-msgstr "Residencia; 50 habitants, pocs naixaments,alta defunci??"
+msgstr "Resid??ncia; 50 habitants, pocs naixements,alta mortalitat"
 
 #: src/lincity-ng/ButtonPanel.cpp:202
 msgid "Residential: 100 denizens, high birthrate, low deathrate"
-msgstr "Residencial; 100 hab., alta natalitat, poques morts"
+msgstr "Resid??ncia; 100 hab., alta natalitat, poques morts"
 
 #: src/lincity-ng/ButtonPanel.cpp:203
 msgid "Residential: 200 denizens, high birthrate, high deathrate"
-msgstr "Residencial;200 hab., alta natalitat, alta defunci??"
+msgstr "Resid??ncia;200 hab., alta natalitat, alta mortalitat"
 
 #: src/lincity-ng/ButtonPanel.cpp:204
 msgid "Residential: 100 denizens, low birthrate, high deathrate"
-msgstr "Residencial; 100 hab. baixa natalitat, alta mortalitat"
+msgstr "Resid??ncia; 100 hab. baixa natalitat, alta mortalitat"
 
 #: src/lincity-ng/ButtonPanel.cpp:205
 msgid "Residential: 200 denizens, high birthrate, low deathrate"
-msgstr "Residencial; 200 hab, alta natalitat, baixa mortalitat"
+msgstr "Resid??ncia; 200 hab, alta natalitat, baixa mortalitat"
 
 #: src/lincity-ng/ButtonPanel.cpp:206
 msgid "Residential: 400 denizens, high birthrate, high deathrate"
-msgstr "Residencial; 400 hab.,alta natalitat, alta mortalitat"
+msgstr "Resid??ncia; 400 hab.,alta natalitat, alta mortalitat"
 
 #: src/lincity-ng/ButtonPanel.cpp:215
 msgid " [Click right for help.]"
-msgstr " [Click esquerra per ayuda.]"
+msgstr " [Clica al bot?? esquerra per obtenir ajuda.]"
 
 #: src/lincity-ng/ButtonPanel.cpp:243 src/lincity-ng/ButtonPanel.cpp:277
 #, c-format
 msgid "%s (Techlevel %.1f required.)"
-msgstr ""
+msgstr "%s (Nivell tecnol??gic %1f necessari.)"
 
 #: src/lincity-ng/ScreenInterface.cpp:258
 msgid "MM"
-msgstr ""
+msgstr "MM"
 
 #~ msgid "Couldn't create the save directory %s\n"
 #~ msgstr "No s'ha pogut crear el directori de desar %s\n"

Modified: branches/waterwell/data/locale/gui/ca.po
===================================================================
--- branches/waterwell/data/locale/gui/ca.po	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/data/locale/gui/ca.po	2007-04-20 15:35:09 UTC (rev 1195)
@@ -1,57 +1,60 @@
-# translation of ca.po to Catal??
+# translation of ca.po to Catal?
 # translation of ca.po to
 # translation of messages.po to
-# This file is distributed under the same license as the PACKAGE package.
-# Copyright (C) YEAR THE PACKAGE'S COPYRIGHT HOLDER.
+# This file is distributed under the same license as the ca package.
+# Copyright (C) 2007 THE ca'S COPYRIGHT HOLDER.
 # Joan <info at lutesor.com>, 2005.
-# Joan Padr?? <info at lutesor.com>, 2005.
-#
+# Joan Padr? <info at lutesor.com>, 2005.
+# Wolfgang Becker <uafr at gmx.de>, 2007.
+# 
+# 
 msgid ""
 msgstr ""
-"Project-Id-Version: ca\n"
+"Project-Id-Version: ca v0.2 pendent de revisi?\n"
 "Report-Msgid-Bugs-To: \n"
 "POT-Creation-Date: Sat Jan 27 22:03:14 2007\n"
-"PO-Revision-Date: 2006-04-10 15:25+0100\n"
-"Last-Translator: Wolfgang Becker <uafr at gmx.de>\n"
-"Language-Team: Catal?? <ca at li.org>\n"
+"PO-Revision-Date: 2007-03-18 19:30+0100\n"
+"Last-Translator: felip alfred galit? <bratac at bratac.cat>\n"
+"Language-Team: Catalan <ca at dodds.net>\n"
 "MIME-Version: 1.0\n"
-"Content-Type: text/plain; charset=UTF-8\n"
-"Content-Transfer-Encoding: 8bit\n"
-"X-Generator: KBabel 1.10.1\n"
+"Content-Type: text/plain; charset=iso-8859-1\n"
+"Content-Transfer-Encoding: 8bit"
 
 #: data/gui/minimap.xml
 msgid "$"
-msgstr ""
+msgstr "???"
 
 #: data/gui/fire.xml
 msgid "A Fire has started"
-msgstr "Incendi declarat"
+msgstr "S'ha declarat un incendi"
 
 #: data/gui/shfire-uc.xml
 msgid ""
 "A fire has broken out at a shanty town. It is in a fire cover area and "
 "APPEARS to be under control. "
-msgstr "Foc a shanty town"
+msgstr "S'ha produ?t un incendi en una zona de barraques. Es troba en una zona coberta pels bombers i"
+"SEMBLA estar sota control."
 
 #: data/gui/shfire-oc.xml
 msgid ""
 "A fire has broken out at a shanty town. The fire is OUT OF CONTROL and may "
 "spread to other areas. "
 msgstr ""
-"Incendi a shanty town. El foc est??  fore de control i perilla que sescampi."
+"S'ha declarat un incendi a les barraques. L'incendi es troba FORA DE CONTROL"
+"i es pot escampar a altres zones."
 
 #: data/gui/newgame.xml data/gui/loadgame.xml data/gui/credits.xml
 #: data/gui/savegame.xml
 msgid "Back"
-msgstr "Enrrera"
+msgstr "Enrera"
 
 #: data/gui/options.xml
 msgid "Background Music"
-msgstr "M??sica de fons"
+msgstr "M?sica de fons"
 
 #: data/gui/cricketup.xml
 msgid "Basketball Courts available"
-msgstr "Pista de Basket disponible"
+msgstr "Pista de b?squet disponible"
 
 #: data/gui/blacksmithup.xml
 msgid "Blacksmiths available"
@@ -59,39 +62,39 @@
 
 #: data/gui/bulldoze_monument_yn.xml
 msgid "Bulldozing a monument costs a lot of money."
-msgstr "Destruir monuments coste molts diners."
+msgstr "Enderrocar un monument ?s molt car."
 
 #: data/gui/bulldoze_river_yn.xml
 msgid "Bulldozing a section of river costs a lot of money."
-msgstr "Escabar una secci?? del riu coste molts diners."
+msgstr "Arrasar una part del riu ?s molt car."
 
 #: data/gui/bulldoze_shanty_yn.xml
 msgid "Bulldozing a shanty town costs a lot of money and may cause a fire."
-msgstr "Enderrocar un shanty town coste molts diners i provoca incendis"
+msgstr "Enderrocar barraques ?s car i sol provocar incendis."
 
 #: data/gui/tradedialog.xml data/gui/portdialog.xml
 msgid "Buy"
-msgstr "Facture"
+msgstr "Compra"
 
 #: data/gui/newgame.xml
 msgid "Choose Scenario"
-msgstr "Tria escenari"
+msgstr "Escull un escenari"
 
 #: data/gui/pbar.xml data/gui/tradedialog.xml data/gui/portdialog.xml
 msgid "Coal"
-msgstr "Carb??"
+msgstr "Carb?"
 
 #: data/gui/coalpowerup.xml
 msgid "Coal Fired Power Stations available"
-msgstr "Central T??rmica disponible"
+msgstr "Central t?rmica disponible"
 
 #: data/gui/coalmineup.xml
 msgid "Coal Mine available"
-msgstr "Mine de carb?? disponible"
+msgstr "Mina de carb? disponible"
 
 #: data/gui/coal_survey_yn.xml
 msgid "Coal Survey"
-msgstr "Carb??"
+msgstr "Carb?"
 
 #: data/gui/creditslist.xml
 msgid "Code"
@@ -103,7 +106,7 @@
 
 #: data/gui/mainmenu.xml data/gui/creditslist.xml
 msgid "Credits"
-msgstr "Credits"
+msgstr "Cr?dits"
 
 #: data/gui/coal_survey_yn.xml
 msgid "Do coal survey?"
@@ -111,23 +114,23 @@
 
 #: data/gui/launch-good.xml
 msgid "Doing well."
-msgstr ""
+msgstr "Ho est?s fent b?."
 
 #: data/gui/minimap.xml
 msgid "Eco"
-msgstr ""
+msgstr "Economia"
 
 #: data/gui/sustain.xml
 msgid "Economy Sustainable."
-msgstr "Econom??a sustenible"
+msgstr "Economia sostenible"
 
 #: data/gui/launch-evac.xml
 msgid "Evacuation Launch Good"
-msgstr "Evacuaci?? correcte"
+msgstr "Evacuaci? correcta"
 
 #: data/gui/shfire-uc.xml data/gui/shfire-oc.xml
 msgid "Fire"
-msgstr "Foc"
+msgstr "Incendi"
 
 #: data/gui/firestationup.xml
 msgid "Fire Stations available"
@@ -135,11 +138,11 @@
 
 #: data/gui/shfire-uc.xml data/gui/shfire-oc.xml
 msgid "Fire!"
-msgstr "Foc"
+msgstr "Foc!"
 
 #: data/gui/pbar.xml data/gui/tradedialog.xml data/gui/portdialog.xml
 msgid "Food"
-msgstr "Aliment"
+msgstr "Menjar"
 
 #: data/gui/options.xml
 msgid "Fullscreen"
@@ -151,27 +154,27 @@
 
 #: data/gui/speedpanel.xml
 msgid "Go back to Main Menu"
-msgstr ""
+msgstr "V?s al men? principal"
 
 #: data/gui/pbar.xml data/gui/tradedialog.xml data/gui/portdialog.xml
 msgid "Goods"
-msgstr "Bens"
+msgstr "B?ns"
 
 #: data/gui/creditslist.xml
 msgid "Graphics"
-msgstr "Grafics"
+msgstr "Gr?fics"
 
 #: data/gui/portdialog.xml
 msgid "Harbour Trade Settings"
-msgstr ""
+msgstr "Par?metres del comer? portuari"
 
 #: data/gui/healthup.xml
 msgid "Health Centres available"
-msgstr ""
+msgstr "Centres sanitaris disponibles"
 
 #: data/gui/hvindustryup.xml
 msgid "Heavy Industry available"
-msgstr "Industria pesada disponible"
+msgstr "Ind?stria pesada disponible"
 
 #: data/gui/import-exportup.xml
 msgid "Import/Export available"
@@ -183,43 +186,43 @@
 
 #: data/gui/launch-fail.xml
 msgid "Launch Failure"
-msgstr "Llansament fallit"
+msgstr "Enlairament fallit"
 
 #: data/gui/launch-good.xml
 msgid "Launch Successfull"
-msgstr "Proxim llansament"
+msgstr "Proper enlairament"
 
 #: data/gui/launch_rocket_yn.xml
 msgid "Launch now?"
-msgstr "Llansar ya"
+msgstr "El voleu enlairar ara?"
 
 #: data/gui/ltindustryup.xml
 msgid "Light Industry available"
-msgstr "Industria electrica disponible"
+msgstr "Ind?stria el?ctrica disponible"
 
 #: data/gui/sustain.xml
 msgid "LinCity has determined that you have a sustainable economy."
-msgstr "Tens una econom??a sustanible"
+msgstr "Tens una economia sostenible"
 
 #: data/gui/mainmenu.xml data/gui/loadgame.xml
 msgid "Load"
-msgstr "Carregar"
+msgstr "Carrega"
 
 #: data/gui/loadgame.xml
 msgid "Load Game"
-msgstr "Carregar Joc"
+msgstr "Carrega una partida"
 
 #: data/gui/minimap.xml
 msgid "Map"
-msgstr ""
+msgstr "Mapa"
 
 #: data/gui/millup.xml
 msgid "Mills available"
-msgstr "F??brica disponible"
+msgstr "F?brica disponible"
 
 #: data/gui/mod_wind_up.xml
 msgid "Modern Windmills available"
-msgstr "Mol?? modern disponible"
+msgstr "Mol? modern disponible"
 
 #: data/gui/pbar.xml
 msgid "Money"
@@ -238,7 +241,7 @@
 #: data/gui/rocketup.xml data/gui/schoolup.xml data/gui/millup.xml
 #: data/gui/import-exportup.xml data/gui/healthup.xml
 msgid "New Invention"
-msgstr "Nova Versi??"
+msgstr "Nova Versi?"
 
 #: data/gui/coal_survey_yn.xml data/gui/bulldoze_monument_yn.xml
 #: data/gui/bulldoze_river_yn.xml data/gui/bulldoze_shanty_yn.xml
@@ -258,7 +261,7 @@
 
 #: data/gui/nobull-tip.xml
 msgid "Not Allowed"
-msgstr "No perm??s"
+msgstr "No ?s perm?s"
 
 #: data/gui/options.xml data/gui/firestationup.xml data/gui/hvindustryup.xml
 #: data/gui/windmillup.xml data/gui/fire.xml data/gui/shfire-uc.xml
@@ -276,7 +279,7 @@
 #: data/gui/healthup.xml data/gui/launch-gone.xml data/gui/shfire-oc.xml
 #: data/gui/sustain.xml data/gui/allgone.xml
 msgid "Ok"
-msgstr "OK"
+msgstr "D'acord"
 
 #: data/gui/gamestats.xml
 msgid "Okay"
@@ -292,7 +295,7 @@
 
 #: data/gui/creditslist.xml
 msgid "Original Idea and Code"
-msgstr "Idea Original y Codi"
+msgstr "Idea Original i Codi"
 
 #: data/gui/parkup.xml
 msgid "Parks available"
@@ -300,19 +303,19 @@
 
 #: data/gui/speedpanel.xml
 msgid "Pause the game"
-msgstr ""
+msgstr "Pausa el joc"
 
 #: data/gui/pbar.xml
 msgid "Population"
-msgstr "Contaminaci??"
+msgstr "Contaminaci?"
 
 #: data/gui/potteryup.xml
 msgid "Potteries available"
-msgstr "Cer??mique disponible"
+msgstr "Terrissaire disponible"
 
 #: data/gui/minimap.xml
 msgid "Press this button to show statistics"
-msgstr "Prema aquet but?? per veure les estad??stiques"
+msgstr "Prem aquest bot? per veure les estad?stiques"
 
 #: data/gui/tradedialog.xml data/gui/portdialog.xml
 msgid "Product"
@@ -324,7 +327,7 @@
 
 #: data/gui/railwayup.xml
 msgid "Railways available"
-msgstr "Vias disponibles"
+msgstr "Vies de tren disponibles"
 
 #: data/gui/recycleup.xml
 msgid "Recycling Centres available"
@@ -332,7 +335,7 @@
 
 #: data/gui/riverup.xml
 msgid "Rivers available"
-msgstr "Rivera disponible"
+msgstr "Rius disponible"
 
 #: data/gui/roadup.xml
 msgid "Roads available"
@@ -340,35 +343,35 @@
 
 #: data/gui/rocketup.xml
 msgid "Rocket Launch Pad available"
-msgstr "Plataforma cohets disponible"
+msgstr "Plataforma coets disponible"
 
 #: data/gui/launch_rocket_yn.xml
 msgid "Rocket Ready"
-msgstr "Cohet carregat"
+msgstr "Coet llest per a ser enlairat"
 
 #: data/gui/launch_rocket_yn.xml
 msgid "Rocket ready to launch"
-msgstr "Cohet carregat per llansar"
+msgstr "Coet a punt per enlairar"
 
 #: data/gui/speedpanel.xml
 msgid "Run the simulation with fast speed"
-msgstr ""
+msgstr "Juga r?pidament."
 
 #: data/gui/speedpanel.xml
 msgid "Run the simulation with normal speed"
-msgstr ""
+msgstr "Juga a una velocitat normal"
 
 #: data/gui/speedpanel.xml
 msgid "Run the simulation with very fast speed"
-msgstr ""
+msgstr "Juga molt r?pidament"
 
 #: data/gui/mainmenu.xml
 msgid "Save"
-msgstr "Desar"
+msgstr "Desa-ho"
 
 #: data/gui/savegame.xml
 msgid "Save Game"
-msgstr "Desar Joc"
+msgstr "Desa el joc"
 
 #: data/gui/schoolup.xml
 msgid "Schools available"
@@ -377,7 +380,7 @@
 #: data/gui/coalmineup.xml
 msgid ""
 "See the help screen for more information on coal mines and coal surveys."
-msgstr "Per mes informaci?? veure pantalla de ayude mines de Carb?? i Coure"
+msgstr "Per mes informaci? v?s a a pantalla d'ajuda sobre les mines de carb? i coure"
 
 #: data/gui/firestationup.xml data/gui/hvindustryup.xml
 #: data/gui/windmillup.xml data/gui/ltindustryup.xml data/gui/universityup.xml
@@ -387,7 +390,7 @@
 #: data/gui/mod_wind_up.xml data/gui/rocketup.xml data/gui/schoolup.xml
 #: data/gui/millup.xml data/gui/healthup.xml
 msgid "See the help screen for more information."
-msgstr "Per mes informaci?? veure pantalla de ayude"
+msgstr "Per mes informaci? veure pantalla de ayude"
 
 #: data/gui/tradedialog.xml data/gui/portdialog.xml
 msgid "Sell"
@@ -395,71 +398,71 @@
 
 #: data/gui/coal_survey_yn.xml
 msgid "Send out Prospectors"
-msgstr "Enviar exploradors"
+msgstr "Envia exploradors"
 
 #: data/gui/minimap.xml
 msgid "Show Income and Expenses. Click this tab again to cycle through views."
-msgstr ""
+msgstr "Mostra els impostos i les despeses. Clica en aquesta pestanya de nou per canviar els modes de visualitzaci?."
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show coal depots"
-msgstr "Mostre diposits carb??"
+msgstr "Mostra els dip?sits de carb?"
 
 #: data/gui/minimap.xml
 msgid "Show economy graphs."
-msgstr "Mostre grafics econom??a"
+msgstr "Mostra els gr?fics de l'economia."
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show fire department cover"
-msgstr "Mostre departaments bombers"
+msgstr "Mostra la cobertura dels bombers."
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show map outline"
-msgstr "Mostre mapa"
+msgstr "Mostra el mapa"
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show medical care"
-msgstr "Mostre centres m??dics"
+msgstr "Mostra els centres m?dics."
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show nourishments"
-msgstr "Mostre Aliment"
+msgstr "Mostra els aliments"
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show pollution density"
-msgstr "Mostre densitat contaminaci??"
+msgstr "Mostra la densitat de la contaminaci?."
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show power supply"
-msgstr "Mostre Suministre d'energia"
+msgstr "Mostra el subministrament d'energia"
 
 #: data/gui/minimap.xml
 msgid "Show resources."
-msgstr "Mostre recursos"
+msgstr "Mostra els recursos."
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show sport cover"
-msgstr "Mostrar esports "
+msgstr "Mostra la cobertura dels esports."
 
 #: data/gui/minimap.xml
 msgid "Show the MiniMap"
-msgstr "Mostrar el Minimapa"
+msgstr "Mostra el Minimapa"
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show traffic density"
-msgstr "Mostrar densitat de trafic"
+msgstr "Mostra la densitat de tr?nsit."
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show unemployment"
-msgstr "Mostrar Parats"
+msgstr "Mostra l'atur."
 
 #: data/gui/solarpowerup.xml
 msgid "Solar Power Stations available"
-msgstr "Central Solar disponible"
+msgstr "Central solar disponible"
 
 #: data/gui/nobull-tip.xml
 msgid "Sorry you can't bulldoze a tip."
-msgstr "No pots escabar en aquet lloc"
+msgstr "No pots enderrocar aquest lloc."
 
 #: data/gui/options.xml
 msgid "Sound Effects"
@@ -467,7 +470,7 @@
 
 #: data/gui/creditslist.xml
 msgid "Sound and Music"
-msgstr "So i m??sica"
+msgstr "So i m?sica"
 
 #: data/gui/newgame.xml
 msgid "Start"
@@ -483,7 +486,7 @@
 
 #: data/gui/minimap.xml
 msgid "Stats"
-msgstr ""
+msgstr "Estat"
 
 #: data/gui/pbar.xml data/gui/tradedialog.xml data/gui/portdialog.xml
 msgid "Steel"
@@ -491,27 +494,27 @@
 
 #: data/gui/pbar.xml
 msgid "Tech Level"
-msgstr "Nivell Tecnolog??a"
+msgstr "Nivell Tecnol?gic"
 
 #: data/gui/allgone.xml
 msgid "There are no people left in this city."
-msgstr "I a poque poblaci?? en aquesta ciutat"
+msgstr "No hi ha habitants en aquesta ciutat."
 
 #: data/gui/coal_survey_yn.xml
 msgid "This will cost you 1 million once. After that it is free to call again."
-msgstr "Et costar?? 1 mili??. Despr??s es lliure de pagament."
+msgstr "Costar? 1 mili?, un sol cop. Despr?s ?s lliure de pagament."
 
 #: data/gui/launch-gone.xml
 msgid "Total Evacuation Complete."
-msgstr "Evacuaci?? Total Completada"
+msgstr "Evacuaci? total completada."
 
 #: data/gui/tradedialog.xml
 msgid "Trade Settings"
-msgstr "Par??metres de comer??"
+msgstr "Par?metres de comer?"
 
 #: data/gui/creditslist.xml
 msgid "Translation"
-msgstr ""
+msgstr "Traducci?"
 
 #: data/gui/universityup.xml
 msgid "University available"
@@ -520,7 +523,7 @@
 #: data/gui/bulldoze_monument_yn.xml data/gui/bulldoze_river_yn.xml
 #: data/gui/bulldoze_shanty_yn.xml
 msgid "Want to bulldoze?"
-msgstr ""
+msgstr "Vols arrasar-ho?"
 
 #: data/gui/bulldoze_monument_yn.xml data/gui/bulldoze_river_yn.xml
 #: data/gui/bulldoze_shanty_yn.xml
@@ -529,19 +532,19 @@
 
 #: data/gui/bulldoze_monument_yn.xml
 msgid "Warning: Bulldozing monuments is expensive"
-msgstr "En comte Destruir monuments es car"
+msgstr "Compte: Enderrocar monuments ?s car"
 
 #: data/gui/bulldoze_shanty_yn.xml
 msgid "Warning: Bulldozing shanties is dangerous."
-msgstr "Comte enderrocar shanties es perill??s."
+msgstr "Compte!  ?s perill?s enderrocar barraques."
 
 #: data/gui/bulldoze_river_yn.xml
 msgid "Warning: Bulldozing water is expensive"
-msgstr "En comte remoure aig??es es car"
+msgstr "Compte: Arrasar aig?es ?s car."
 
 #: data/gui/launch-gone.xml
 msgid "Well done you have evacuated all your people."
-msgstr "Aur??s de evacuar la gent"
+msgstr "Haur?s de evacuar la gent."
 
 #: data/gui/windmillup.xml
 msgid "Windmills available"
@@ -551,11 +554,11 @@
 #: data/gui/bulldoze_river_yn.xml data/gui/bulldoze_shanty_yn.xml
 #: data/gui/launch_rocket_yn.xml
 msgid "Yes"
-msgstr "Si"
+msgstr "S?"
 
 #: data/gui/fire.xml
 msgid "You better go and look for it"
-msgstr "Millor que aneu a cercar-ho"
+msgstr "Millor que ho aneu a cercar."
 
 #: data/gui/launch_rocket_yn.xml
 msgid ""
@@ -563,68 +566,72 @@
 "continue costing you money to keep the rocket ready. Launch it later by "
 "clicking on the rocket area."
 msgstr ""
-"Pots llansar el cohet ara o mes tard. Si vols continuar costar?? molts diners."
+"Pots enlairar el coet ara o esperar-te i fer-ho mes tard. Si vols continuar,"
+"mantenir el coet a punt et costar? diners. Fes-lo enlairar quan vulguis"
+"clicant a l'?rea del coet."
 
 #: data/gui/import-exportup.xml
 msgid ""
 "You can now import and export coal, goods, ore and steel. Read the help "
 "pages on these subjects to find out how to use them. "
 msgstr ""
-"Pots Importar i exportar carb??, bens, coure i acer, llegeix la plana de "
-"ayude per fer-u correctement."
+"Pots Importar i exportar carb?, b?ns, coure i acer. Llegeix les p?gines d'ajuda "
+"per saber com funciona."
 
 #: data/gui/no-credit-parkland.xml
 msgid ""
 "You have a budget deficit. The legislative council will not allow you to "
 "build parks on credit."
 msgstr ""
-"Quan entras en deficit la legislaci?? no et permet construir parcs a cr??dit."
+"Tens d?ficit pressupostari. La legislaci? no et permet construir parcs a cr?dit."
 
 #: data/gui/no-credit-recycle.xml
 msgid ""
 "You have a budget deficit. The legislative council will not allow you to "
 "build recycling centres on credit."
 msgstr ""
-"Quan est??s en deficit La legislaci?? no et permet construir centres de "
-"reciclat a credit."
+"Tens d?ficit pressupostari. La legislaci? no et permet construir centres"
+"de reciclatge a cr?dit."
+""
 
 #: data/gui/no-credit-rocket.xml
 msgid ""
 "You have a budget deficit. The legislative council will not allow you to "
 "build rocket launch pads on credit."
 msgstr ""
-"Quan estas en deficit la legislaci?? no et permet construir Plataformes de "
-"cohets a cr??dit."
+"Tens d?ficit pressupostari. La legislaci? no et permet construir plataformes aeroespacials a cr?dit."
+""
 
 #: data/gui/no-credit-solar-power.xml
 msgid ""
 "You have a budget deficit. The legislative council will not allow you to "
 "build solar power stations on credit."
 msgstr ""
-"Quan estas en deficit La legislaci?? no et permet construir central solar a "
-"credit."
+"Tens d?ficit pressupostari. La legislaci? no et permet construir centrals solars a cr?dit."
+""
 
 #: data/gui/no-credit-university.xml
 msgid ""
 "You have a budget deficit. The legislative council will not allow you to "
 "build universities on credit."
 msgstr ""
-"Quan est??s en deficit. El consell legislatiu no et permet construir "
-"Universitats a cr??dit."
+"Tens d?ficit pressupostari. La legislaci? no et permet construir universitats a cr?dit."
+""
 
 #: data/gui/launch-evac.xml
 msgid ""
 "You have evacuated 1000 people. You might want to reduce the size of your "
 "economy to reflect the reduced population. "
 msgstr ""
-"Has evacuat a 1000 persones. Aquesta reducci?? es reflectar?? en la econom??a. "
+"Has evacuat a 1000 persones. Hauries de reduir les mides de la teva economia per a "
+"reflexar la reduci? de la poblaci?."
 
 #: data/gui/blacksmithup.xml
 msgid ""
 "You have reached the tech level which enables you to build blacksmiths. "
 "Blacksmiths use jobs and steel to make goods."
 msgstr ""
-"Has arrivat al nivell t??cnic de les fargues. Les fargues necessiten llocs de "
+"Has arribat al nivell t?cnic de les fargues. Les fargues necessiten llocs de "
 "treball i acer."
 
 #: data/gui/coalpowerup.xml
@@ -632,7 +639,7 @@
 "You have reached the tech level which enables you to build coal fired power "
 "stations."
 msgstr ""
-"Has arrivat al nivell t??cnic  amb edificis crema carb?? a la central T??rmica."
+"Has arribat al nivell t?cnic que et permet construir centrals t?rmiques."
 
 #: data/gui/firestationup.xml
 msgid ""
@@ -640,8 +647,9 @@
 "Fire stations prevent most fires from starting. If you haven't had any fires "
 "yet, you might not think you need them."
 msgstr ""
-"Has arrivat al nivell t??cnic. Habilita una Estaci?? de Bombers. La Estaci?? de "
-"Bombers  preveu els incendis avans que es produexin i no necesiten apagarlos."
+"Has arribat al nivell t?cnic que et permet construir estacions de bombers."
+"Les estacions de bombers prevenen l'aparici? de la majoria d'incendis. Encara"
+"que no hagis tingut cap incendi no et pensis que no els necessites."
 
 #: data/gui/healthup.xml
 msgid ""
@@ -649,72 +657,72 @@
 "Heath centres reduce the number of people killed by pollution and increase "
 "overall productivity."
 msgstr ""
-"Has arrivat al nivell tecno ara pots construir un centre de Salud. El centre "
-"de salud redueig el nombre de persones mortes per contaminaci?? i incremente "
-"la productivitat."
+"Has arribat al nivell tecnol?gic que et permet construir un centres sanitaris."
+" Els centres sanitaris redueixen el nombre de morts per contaminaci? i fa que "
+"la productivitat s'incrementi."
 
 #: data/gui/hvindustryup.xml
 msgid ""
 "You have reached the tech level which enables you to build heavy industry "
 "(steel works). Heavy industry produces steel. "
 msgstr ""
-"Has asolit un nou nivell t??cnic i podr??s contruir ind??stria pesada (La "
-"industria pesada produeig acer)."
+"Has assolit un nou nivell t?cnic i podr?s construir ind?stries pesades (La "
+"industria pesada produeix acer)."
 
 #: data/gui/ltindustryup.xml
 msgid ""
 "You have reached the tech level which enables you to build light industry. "
 "Light industry produces goods. "
 msgstr ""
-"Has arrivat a un nou nivell t??cnic que et permet construir industria "
-"el??ctrica'. La industria electrica produeix bens."
+"Has arribat a un nou nivell t?cnic que et permet construir ind?stries "
+"el?ctriques. La ind?stria el?ctrica produeix b?ns."
 
 #: data/gui/millup.xml
 msgid ""
 "You have reached the tech level which enables you to build mills. Mills use "
 "jobs and food to make goods. Watch out, they can use a lot of food! "
 msgstr ""
-"Has arrivat a un nou nivell t??cnic que et permet construir f??briques. Les "
-"f??briques donen feina, i aliment i produeixen bens."
+"Has arribat a un nou nivell t?cnic que et permet construir f?briques. Les "
+"f?briques donen feina, aliment i produeixen b?ns."
 
 #: data/gui/mod_wind_up.xml
 msgid ""
 "You have reached the tech level which enables you to build modern, more "
 "efficient, windmills. "
 msgstr ""
-"Has arrivat a un nou nivell t??nic que et permet construir Molins mes moderns."
+"Has arribat a un nou nivell t?cnic que et permet construir Molins de vent m?s moderns."
 
 #: data/gui/parkup.xml
 msgid ""
 "You have reached the tech level which enables you to build parks. Parks are "
 "used to absorb pollution. "
 msgstr ""
-"Has arrivat a un nivell t??cnic que et permet contruir parcs. Els parcs es "
-"fan servir per absorvir la contaminaci??"
+"Has arribat a un nivell t?cnic que et permet contruir parcs. Els parcs es "
+"fan servir per absorbir la contaminaci?"
 
 #: data/gui/potteryup.xml
 msgid ""
 "You have reached the tech level which enables you to build potteries. "
 "Potteries use jobs and ore to make goods. (You need ore mines to get ore) "
 msgstr ""
-"Has arrivat a un nou nivell t??cnic que et permet construir f??briques de "
-"cer??mique. La cer??mique genera feina i produeix bens."
+"Has arribat a un nou nivell t?cnic que et permet construir terrisseries."
+"La cer?mica genera feina i produeix b?ns."
 
 #: data/gui/railwayup.xml
 msgid "You have reached the tech level which enables you to build railways. "
-msgstr "Has arrivat a un nivell t??cnic que et permet construir v??as f??rreas."
+msgstr "Has arribat a un nivell t?cnic que et permet construir vies f?rrees."
 
 #: data/gui/riverup.xml
 msgid "You have reached the tech level which enables you to build rivers. "
-msgstr "Has arrivat a un nivell t??cnic que et permet contruir canals"
+msgstr "Has arribat a un nivell t?cnic que et permet contruir canals."
 
 #: data/gui/roadup.xml
 msgid ""
 "You have reached the tech level which enables you to build roads. See the "
 "help screen for more information."
 msgstr ""
-"Has arrivat a un nivell t??cnic que et permet construir carreteres. Per mes "
-"informaci?? mire la pantalla d'ajuda."
+"Has arribat a un nivell t?cnic que et permet construir carreteres. Trobar?s m?s"
+"informaci? a la pantalla d'ajuda."
 
 #: data/gui/rocketup.xml
 msgid ""
@@ -722,47 +730,47 @@
 "pads. Rockets enable you to evacuate your population and is a way to 'win' "
 "the game."
 msgstr ""
-"Has arrivat a un nivell t??cnic que et permet construir Plataformes de cohets."
-"Els cohets et permeten evacuar la poblaci?? i es un cam?? per guanyar el joc."
+"Has arribat a un nivell t?cnic que et permet construir plataformes aeroespacials."
+"Els coets et permeten evacuar la poblaci? i es una via per guanyar el joc."
 
 #: data/gui/schoolup.xml
 msgid ""
 "You have reached the tech level which enables you to build schools. Schools "
 "use jobs and goods to increase tech level. "
 msgstr ""
-"Has arrivat a un nivell t??nic que et permet construir escoles. Les escoles "
-"donen feina i bens a m??s de incrementar el nivell t??cnic."
+"Has arribat a un nivell t?cnic que et permet construir escoles. Les escoles "
+"necessiten treballadors i b?ns per tal d'incrementar el nivell t?cnic."
 
 #: data/gui/solarpowerup.xml
 msgid ""
 "You have reached the tech level which enables you to build solar power "
 "stations. "
-msgstr "Has arrivat a un nivell t??nic que et permet construir Centarls Solars."
+msgstr "Has arribat a un nivell t?cnic que et permet construir Centrals Solars."
 
 #: data/gui/universityup.xml
 msgid ""
 "You have reached the tech level which enables you to build universities. "
 "Universities produces PhDs, which produce more technology. "
 msgstr ""
-"Has arrivat a un nivell t??nic que et permet construir Universitats. Les "
-"Universitats generen I+D, produint mes tecnolog??a."
+"Has arribat a un nivell t?cnic que et permet construir universitats. Les "
+"Universitats generen I+D, produint mes tecnologia."
 
 #: data/gui/windmillup.xml
 msgid "You have reached the tech level which enables you to build windmills. "
-msgstr "Has arrivat a un nivell t??nic que et permet construir Molins."
+msgstr "Has arribat a un nivell t?cnic que et permet construir molins de vent."
 
 #: data/gui/coalmineup.xml
 msgid ""
 "You have reached the tech level which enables you to dig deep coal mines."
-msgstr "Has arrivat a un nivell t??nic que et permet construir mines de carb??."
+msgstr "Has arribat a un nivell t?cnic que et permet construir mines de carb?."
 
 #: data/gui/recycleup.xml
 msgid ""
 "You have reached the tech level which enables you to recycling centres. "
 "Recycling centres recycle used goods back into ore. "
 msgstr ""
-"Has arrivat a un nivell t??nic que et permet construir Centres de Reciclat. "
-"Els centres de reciclat reutilitzen els articles bells."
+"Has arribat a un nivell t?cnic que et permet construir centres de reciclatge. "
+"Els centres de reciclatge reutilitzen els articles bells i els converteixen en coure."
 
 #: data/gui/launch-gone.xml data/gui/sustain.xml
 msgid "You have won the game."
@@ -770,14 +778,17 @@
 
 #: data/gui/allgone.xml
 msgid "You should start a new career elsewhere."
-msgstr "Necesites comensar una nova partida"
+msgstr "Podrieu comen?ar una nova partida."
 
 #: data/gui/cricketup.xml
 msgid ""
 "Your people have invented basketball. Basketball Courts use a few jobs and "
 "goods and make people in the surrounding areas (about 10 units in each "
 "direction) happier."
-msgstr "La gent a inventat el Basket. El deport fa la gent m??s sana i feli??."
+msgstr ""
+"Els teus habitants han inventat el b?squet. Les pistes de b?squet necessiten"
+"pocs treballadors i b?ns i fan que la gent que hi ha a la vora (aproximadament"
+"10 unitats en cada direcci?) estigui millor."
 
 #: data/gui/launch-fail.xml
 msgid ""
@@ -785,22 +796,23 @@
 "technology for evacuation. You must launch five more unmanned rockets to "
 "restore confidence."
 msgstr ""
-"El teu cohet a explotat despr??s del llansament. La gent que viatjava a dins "
-"a mort. Llansa cuatre cohets sense gent per agafar confiansa."
+"El teu coet a explotat despr?s de l'enlairament. La gent no creu"
+"en la tecnologia per a ser evacuada. Has de llen?ar cinc coets nous"
+"per a guanyar-te la seva confian?a."
 
 #: data/gui/minimap.xml
 msgid "[+] Zoom in view so that less buildings but more details are visible"
 msgstr ""
-"[+] Augmenta el zoom que fa que es mostrin menys edificis per?? m??s detalls "
-"s??n visibles"
+"[+] Augmenta el zoom que fa que es mostrin menys edificis per?"
+"es fan visibles m?s detalls."
 
 #: data/gui/minimap.xml
 msgid "[-] Zoom out"
-msgstr "Allunyar"
+msgstr "[-] Allunyar"
 
 #: data/gui/minimap.xml
 msgid "[F1] Press this button to get help"
-msgstr "[F1] Prem aquet but?? per ayude"
+msgstr "[F1] Prem aquet bot? per obtenir ajuda."
 
 #: data/gui/minimap.xml
 msgid "[h] Hide high buildings. "
@@ -812,4 +824,5 @@
 
 #: data/gui/savegame.xml
 msgid "save to selected slot"
-msgstr "Desa opci?? triada"
+msgstr "Desa l'opci? triada."
+

Modified: branches/waterwell/data/locale/gui/nl.po
===================================================================
--- branches/waterwell/data/locale/gui/nl.po	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/data/locale/gui/nl.po	2007-04-20 15:35:09 UTC (rev 1195)
@@ -1,13 +1,14 @@
 # translation of nl.po to Nederlands
-# Ronald Stroethoff <stroet43 at zonnet.nl>, 2006.
+#
+# Ronald Stroethoff <stroet43 at zonnet.nl>, 2006, 2007.
 msgid ""
 msgstr ""
 "Project-Id-Version: nl\n"
 "Report-Msgid-Bugs-To: \n"
 "POT-Creation-Date: Sat Jan 27 22:03:14 2007\n"
-"PO-Revision-Date: 2006-12-21 19:39+0100\n"
+"PO-Revision-Date: 2007-04-17 21:51+0200\n"
 "Last-Translator: Ronald Stroethoff <stroet43 at zonnet.nl>\n"
-"Language-Team: Nederlands <en at li.org>\n"
+"Language-Team: Nederlands\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
@@ -17,23 +18,23 @@
 
 #: data/gui/minimap.xml
 msgid "$"
-msgstr ""
+msgstr "???"
 
 #: data/gui/fire.xml
 msgid "A Fire has started"
-msgstr ""
+msgstr "Een brand is uitgebroken"
 
 #: data/gui/shfire-uc.xml
 msgid ""
 "A fire has broken out at a shanty town. It is in a fire cover area and "
 "APPEARS to be under control. "
-msgstr ""
+msgstr "Er is brand uitgebroken in een krottenwijk.Het is beschermd tegen brand en LIJKT onder controle."
 
 #: data/gui/shfire-oc.xml
 msgid ""
 "A fire has broken out at a shanty town. The fire is OUT OF CONTROL and may "
 "spread to other areas. "
-msgstr ""
+msgstr "Er is brand uitgebroken in een krottenwijk.De brand is niet onder controle en kan zich verspreiden naar andere gebieden."
 
 #: data/gui/newgame.xml data/gui/loadgame.xml data/gui/credits.xml
 #: data/gui/savegame.xml
@@ -41,17 +42,16 @@
 msgstr "Terug"
 
 #: data/gui/options.xml
-#, fuzzy
 msgid "Background Music"
-msgstr "Achtergrondmuziek"
+msgstr "Achtergrond muziek"
 
 #: data/gui/cricketup.xml
 msgid "Basketball Courts available"
-msgstr ""
+msgstr "Basketbal velden zijn beschikbaar"
 
 #: data/gui/blacksmithup.xml
 msgid "Blacksmiths available"
-msgstr ""
+msgstr "Smederijen zijn beschikbaar"
 
 #: data/gui/bulldoze_monument_yn.xml
 msgid "Bulldozing a monument costs a lot of money."
@@ -62,10 +62,8 @@
 msgstr "Een rivier verwijderen kost heel veel geld."
 
 #: data/gui/bulldoze_shanty_yn.xml
-#, fuzzy
 msgid "Bulldozing a shanty town costs a lot of money and may cause a fire."
-msgstr ""
-"Een krottenwijk afbreken kost heel veel geld en dit kan brand veroorzaken"
+msgstr "Een krottenwijk afbreken kost heel veel geld en dit kan brand veroorzaken."
 
 #: data/gui/tradedialog.xml data/gui/portdialog.xml
 msgid "Buy"
@@ -81,16 +79,15 @@
 
 #: data/gui/coalpowerup.xml
 msgid "Coal Fired Power Stations available"
-msgstr ""
+msgstr "Steenkool-centrales zijn beschikbaar"
 
 #: data/gui/coalmineup.xml
 msgid "Coal Mine available"
-msgstr ""
+msgstr "Kolenmijnen zijn beschikbaar"
 
 #: data/gui/coal_survey_yn.xml
-#, fuzzy
 msgid "Coal Survey"
-msgstr "Steenkoolonderzoek"
+msgstr "Steenkool onderzoek"
 
 #: data/gui/creditslist.xml
 msgid "Code"
@@ -110,31 +107,31 @@
 
 #: data/gui/launch-good.xml
 msgid "Doing well."
-msgstr ""
+msgstr "Het gaat goed."
 
 #: data/gui/minimap.xml
 msgid "Eco"
-msgstr ""
+msgstr "Eco"
 
 #: data/gui/sustain.xml
 msgid "Economy Sustainable."
-msgstr ""
+msgstr "Economisch duurzaam"
 
 #: data/gui/launch-evac.xml
 msgid "Evacuation Launch Good"
-msgstr ""
+msgstr "Lancering voor evacuatie is gelukt"
 
 #: data/gui/shfire-uc.xml data/gui/shfire-oc.xml
 msgid "Fire"
-msgstr ""
+msgstr "Brand"
 
 #: data/gui/firestationup.xml
 msgid "Fire Stations available"
-msgstr ""
+msgstr "Brandweerkazernes zijn beschikbaar"
 
 #: data/gui/shfire-uc.xml data/gui/shfire-oc.xml
 msgid "Fire!"
-msgstr ""
+msgstr "Brand!"
 
 #: data/gui/pbar.xml data/gui/tradedialog.xml data/gui/portdialog.xml
 msgid "Food"
@@ -146,11 +143,11 @@
 
 #: data/gui/gamestats.xml
 msgid "Gamestats"
-msgstr ""
+msgstr "Spel-statistieken"
 
 #: data/gui/speedpanel.xml
 msgid "Go back to Main Menu"
-msgstr ""
+msgstr "Terug naar het hoofdmenu"
 
 #: data/gui/pbar.xml data/gui/tradedialog.xml data/gui/portdialog.xml
 msgid "Goods"
@@ -161,21 +158,20 @@
 msgstr "Graphics"
 
 #: data/gui/portdialog.xml
-#, fuzzy
 msgid "Harbour Trade Settings"
-msgstr "Haven handelsinstelligen"
+msgstr "Haven handelsinstellingen"
 
 #: data/gui/healthup.xml
 msgid "Health Centres available"
-msgstr ""
+msgstr "Ziekenhuizen zijn beschikbaar"
 
 #: data/gui/hvindustryup.xml
 msgid "Heavy Industry available"
-msgstr ""
+msgstr "Zware industrie beschikbaar"
 
 #: data/gui/import-exportup.xml
 msgid "Import/Export available"
-msgstr ""
+msgstr "Import/Export is beschikbaar"
 
 #: data/gui/pbar.xml data/gui/tradedialog.xml
 msgid "Jobs"
@@ -183,11 +179,11 @@
 
 #: data/gui/launch-fail.xml
 msgid "Launch Failure"
-msgstr ""
+msgstr "Mislukte lancering"
 
 #: data/gui/launch-good.xml
 msgid "Launch Successfull"
-msgstr ""
+msgstr "Succesvolle lancering"
 
 #: data/gui/launch_rocket_yn.xml
 msgid "Launch now?"
@@ -195,32 +191,31 @@
 
 #: data/gui/ltindustryup.xml
 msgid "Light Industry available"
-msgstr ""
+msgstr "Lichte industrie is beschikbaar"
 
 #: data/gui/sustain.xml
 msgid "LinCity has determined that you have a sustainable economy."
-msgstr ""
+msgstr "Lincity heeft besloten dat U een duurzame economie heeft."
 
 #: data/gui/mainmenu.xml data/gui/loadgame.xml
 msgid "Load"
 msgstr "Laden"
 
 #: data/gui/loadgame.xml
-#, fuzzy
 msgid "Load Game"
-msgstr "Spel Laden/Opslaan"
+msgstr "Laad spel"
 
 #: data/gui/minimap.xml
 msgid "Map"
-msgstr ""
+msgstr "Kaart"
 
 #: data/gui/millup.xml
 msgid "Mills available"
-msgstr ""
+msgstr "Windmolens zijn beschikbaar"
 
 #: data/gui/mod_wind_up.xml
 msgid "Modern Windmills available"
-msgstr ""
+msgstr "Moderne windmolens zijn beschikbaar"
 
 #: data/gui/pbar.xml
 msgid "Money"
@@ -239,7 +234,7 @@
 #: data/gui/rocketup.xml data/gui/schoolup.xml data/gui/millup.xml
 #: data/gui/import-exportup.xml data/gui/healthup.xml
 msgid "New Invention"
-msgstr ""
+msgstr "Nieuwe uitvinding"
 
 #: data/gui/coal_survey_yn.xml data/gui/bulldoze_monument_yn.xml
 #: data/gui/bulldoze_river_yn.xml data/gui/bulldoze_shanty_yn.xml
@@ -251,15 +246,15 @@
 #: data/gui/no-credit-recycle.xml data/gui/no-credit-parkland.xml
 #: data/gui/no-credit-rocket.xml
 msgid "No Credit Available"
-msgstr ""
+msgstr "Geen geld beschikbaar"
 
 #: data/gui/allgone.xml
 msgid "Nobody Home"
-msgstr ""
+msgstr "Niemand thuis"
 
 #: data/gui/nobull-tip.xml
 msgid "Not Allowed"
-msgstr ""
+msgstr "Is niet toegestaan"
 
 #: data/gui/options.xml data/gui/firestationup.xml data/gui/hvindustryup.xml
 #: data/gui/windmillup.xml data/gui/fire.xml data/gui/shfire-uc.xml
@@ -277,11 +272,11 @@
 #: data/gui/healthup.xml data/gui/launch-gone.xml data/gui/shfire-oc.xml
 #: data/gui/sustain.xml data/gui/allgone.xml
 msgid "Ok"
-msgstr ""
+msgstr "Ok"
 
 #: data/gui/gamestats.xml
 msgid "Okay"
-msgstr ""
+msgstr "Okay"
 
 #: data/gui/mainmenu.xml data/gui/options.xml
 msgid "Options"
@@ -297,11 +292,11 @@
 
 #: data/gui/parkup.xml
 msgid "Parks available"
-msgstr ""
+msgstr "Parken zijn beschikbaar"
 
 #: data/gui/speedpanel.xml
 msgid "Pause the game"
-msgstr ""
+msgstr "Pauze"
 
 #: data/gui/pbar.xml
 msgid "Population"
@@ -309,11 +304,11 @@
 
 #: data/gui/potteryup.xml
 msgid "Potteries available"
-msgstr ""
+msgstr "Pottenbakkerijen zijn beschikbaar"
 
 #: data/gui/minimap.xml
 msgid "Press this button to show statistics"
-msgstr ""
+msgstr "Druk op deze knop om de statistieken te zien"
 
 #: data/gui/tradedialog.xml data/gui/portdialog.xml
 msgid "Product"
@@ -325,64 +320,59 @@
 
 #: data/gui/railwayup.xml
 msgid "Railways available"
-msgstr ""
+msgstr "Spoorwegen zijn beschikbaar"
 
 #: data/gui/recycleup.xml
 msgid "Recycling Centres available"
-msgstr ""
+msgstr "Recycleercentrum is beschikbaar"
 
 #: data/gui/riverup.xml
 msgid "Rivers available"
-msgstr ""
+msgstr "Rivieren zijn beschikbaar"
 
 #: data/gui/roadup.xml
 msgid "Roads available"
-msgstr ""
+msgstr "Straten zijn beschikbaar"
 
 #: data/gui/rocketup.xml
 msgid "Rocket Launch Pad available"
-msgstr ""
+msgstr "Lanceerplatform is beschikbaar"
 
 #: data/gui/launch_rocket_yn.xml
-#, fuzzy
 msgid "Rocket Ready"
-msgstr "Raket is klaar om gelanceerd te worden."
+msgstr "De raket is klaar"
 
 #: data/gui/launch_rocket_yn.xml
-#, fuzzy
 msgid "Rocket ready to launch"
-msgstr "Raket is klaar om gelanceerd te worden."
+msgstr "De raket is klaar om gelanceerd te worden."
 
 #: data/gui/speedpanel.xml
 msgid "Run the simulation with fast speed"
-msgstr ""
+msgstr "Zet het spel in de hoge snelheid"
 
 #: data/gui/speedpanel.xml
 msgid "Run the simulation with normal speed"
-msgstr ""
+msgstr "Zet het spel in normale snelheid"
 
 #: data/gui/speedpanel.xml
 msgid "Run the simulation with very fast speed"
-msgstr ""
+msgstr "Zet het spel in de hoogste snelheid"
 
 #: data/gui/mainmenu.xml
-#, fuzzy
 msgid "Save"
-msgstr "Laden/Opslaan"
+msgstr "Opslaan"
 
 #: data/gui/savegame.xml
-#, fuzzy
 msgid "Save Game"
-msgstr "Spel Laden/Opslaan"
+msgstr "Spel opslaan"
 
 #: data/gui/schoolup.xml
 msgid "Schools available"
-msgstr ""
+msgstr "Scholen zijn beschikbaar"
 
 #: data/gui/coalmineup.xml
-msgid ""
-"See the help screen for more information on coal mines and coal surveys."
-msgstr ""
+msgid "See the help screen for more information on coal mines and coal surveys."
+msgstr "Lees de help-pagina's voor meer informatie over kolenmijnen en surveys naar kolen."
 
 #: data/gui/firestationup.xml data/gui/hvindustryup.xml
 #: data/gui/windmillup.xml data/gui/ltindustryup.xml data/gui/universityup.xml
@@ -392,85 +382,83 @@
 #: data/gui/mod_wind_up.xml data/gui/rocketup.xml data/gui/schoolup.xml
 #: data/gui/millup.xml data/gui/healthup.xml
 msgid "See the help screen for more information."
-msgstr ""
+msgstr "Lees de help-pagina's voor meer informatie."
 
 #: data/gui/tradedialog.xml data/gui/portdialog.xml
 msgid "Sell"
 msgstr "Verkopen"
 
 #: data/gui/coal_survey_yn.xml
-#, fuzzy
 msgid "Send out Prospectors"
-msgstr "Info: Prospectors uitzenden?"
+msgstr "Prospectors uitzenden?"
 
 #: data/gui/minimap.xml
 msgid "Show Income and Expenses. Click this tab again to cycle through views."
-msgstr ""
+msgstr "Toon inkomsten en uitgaven. klik opnieuw op deze tab om door de verschillende vensters te wisselen."
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show coal depots"
-msgstr ""
+msgstr "Laat zien waar kolen in de grond zit"
 
 #: data/gui/minimap.xml
 msgid "Show economy graphs."
-msgstr ""
+msgstr "Toon de economische grafieken."
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show fire department cover"
-msgstr ""
+msgstr "Toon het bereik van de brandweer"
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show map outline"
-msgstr ""
+msgstr "Toon het minikaartje"
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show medical care"
-msgstr ""
+msgstr "Toon de medische zorg"
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show nourishments"
-msgstr ""
+msgstr "Toon voedsel"
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show pollution density"
-msgstr ""
+msgstr "Toon de vervuiling"
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show power supply"
-msgstr ""
+msgstr "Toon het electriciteits net"
 
 #: data/gui/minimap.xml
 msgid "Show resources."
-msgstr ""
+msgstr "Toon de voorraden"
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show sport cover"
-msgstr ""
+msgstr "Toon de sportvelden"
 
 #: data/gui/minimap.xml
 msgid "Show the MiniMap"
-msgstr ""
+msgstr "Toon het minikaartje"
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show traffic density"
-msgstr ""
+msgstr "Toon het verkeer"
 
 #: data/gui/minimapswitchbuttons.xml
 msgid "Show unemployment"
-msgstr ""
+msgstr "Toon de werkloosheid"
 
 #: data/gui/solarpowerup.xml
 msgid "Solar Power Stations available"
-msgstr ""
+msgstr "Toon de electriciteits-centrales"
 
 #: data/gui/nobull-tip.xml
 msgid "Sorry you can't bulldoze a tip."
-msgstr ""
+msgstr "Sorry, een vuilstort kan niet afgebroken worden."
 
 #: data/gui/options.xml
-#, fuzzy
 msgid "Sound Effects"
-msgstr "Geluidseffecten."
+msgstr "Geluidseffecten"
 
 #: data/gui/creditslist.xml
 msgid "Sound and Music"
@@ -481,7 +469,6 @@
 msgstr "Begin"
 
 #: data/gui/newgame.xml
-#, fuzzy
 msgid "Start with empty board."
 msgstr "Met een leeg speelveld beginnen."
 
@@ -490,9 +477,8 @@
 msgstr "Met een willekeurige stad beginnen."
 
 #: data/gui/minimap.xml
-#, fuzzy
 msgid "Stats"
-msgstr "Begin"
+msgstr "Statistieken"
 
 #: data/gui/pbar.xml data/gui/tradedialog.xml data/gui/portdialog.xml
 msgid "Steel"
@@ -504,31 +490,27 @@
 
 #: data/gui/allgone.xml
 msgid "There are no people left in this city."
-msgstr ""
+msgstr "Er zijn geen mensen meer in deze stad."
 
 #: data/gui/coal_survey_yn.xml
-#, fuzzy
 msgid "This will cost you 1 million once. After that it is free to call again."
-msgstr ""
-"Dit kost eenmalig 1 miljoen. Daarna is het gratis om het opnieuw op te "
-"vragen."
+msgstr "Dit kost eenmalig 1 miljoen ???. Daarna is het gratis om het opnieuw op te vragen."
 
 #: data/gui/launch-gone.xml
 msgid "Total Evacuation Complete."
-msgstr ""
+msgstr "Iedereen is ge??vacueerd."
 
 #: data/gui/tradedialog.xml
-#, fuzzy
 msgid "Trade Settings"
 msgstr "Handelsinstellingen"
 
 #: data/gui/creditslist.xml
 msgid "Translation"
-msgstr ""
+msgstr "Vertaling"
 
 #: data/gui/universityup.xml
 msgid "University available"
-msgstr ""
+msgstr "Universiteit is beschikbaar"
 
 #: data/gui/bulldoze_monument_yn.xml data/gui/bulldoze_river_yn.xml
 #: data/gui/bulldoze_shanty_yn.xml
@@ -541,27 +523,24 @@
 msgstr "Waarschuwing"
 
 #: data/gui/bulldoze_monument_yn.xml
-#, fuzzy
 msgid "Warning: Bulldozing monuments is expensive"
 msgstr "Waarschuwing: Monumenten afbreken is duur "
 
 #: data/gui/bulldoze_shanty_yn.xml
-#, fuzzy
 msgid "Warning: Bulldozing shanties is dangerous."
-msgstr "Waarschuwing: Krottenwijken afbreken is gevaarlijk."
+msgstr "Waarschuwing: krottenwijken afbreken is gevaarlijk."
 
 #: data/gui/bulldoze_river_yn.xml
-#, fuzzy
 msgid "Warning: Bulldozing water is expensive"
-msgstr "Waarschuwing: Water verwijderen is duur."
+msgstr "Waarschuwing: water verwijderen is duur."
 
 #: data/gui/launch-gone.xml
 msgid "Well done you have evacuated all your people."
-msgstr ""
+msgstr "Goed gedaan, alle mensen zijn ge??vacueerd"
 
 #: data/gui/windmillup.xml
 msgid "Windmills available"
-msgstr ""
+msgstr "Windmolens zijn beschikbaar"
 
 #: data/gui/coal_survey_yn.xml data/gui/bulldoze_monument_yn.xml
 #: data/gui/bulldoze_river_yn.xml data/gui/bulldoze_shanty_yn.xml
@@ -571,7 +550,7 @@
 
 #: data/gui/fire.xml
 msgid "You better go and look for it"
-msgstr ""
+msgstr "Ga er naar zoeken"
 
 #: data/gui/launch_rocket_yn.xml
 msgid ""
@@ -588,54 +567,58 @@
 "You can now import and export coal, goods, ore and steel. Read the help "
 "pages on these subjects to find out how to use them. "
 msgstr ""
+"Kolen, goederen, ijzererts en staal kunnen nu ge??mporteerd en ge??xporteerd worden. "
+"Lees de helppagina's over deze onderwerpen om te begrijpen hoe dit gebruikt kan worden. "
 
 #: data/gui/no-credit-parkland.xml
 msgid ""
 "You have a budget deficit. The legislative council will not allow you to "
 "build parks on credit."
-msgstr ""
+msgstr "U heeft geld tekort. De gemeenteraad staat niet toe dat er parken gebouwd worden met geleend geld."
 
 #: data/gui/no-credit-recycle.xml
 msgid ""
 "You have a budget deficit. The legislative council will not allow you to "
 "build recycling centres on credit."
-msgstr ""
+msgstr "U heeft geld tekort. De gemeenteraad staat niet toe dat er recycleercentrum gebouwd worden met geleend geld."
 
 #: data/gui/no-credit-rocket.xml
 msgid ""
 "You have a budget deficit. The legislative council will not allow you to "
 "build rocket launch pads on credit."
-msgstr ""
+msgstr "U heeft geld tekort. De gemeenteraad staat niet toe dat er lanceerplatformen gebouwd worden met geleend geld."
 
 #: data/gui/no-credit-solar-power.xml
 msgid ""
 "You have a budget deficit. The legislative council will not allow you to "
 "build solar power stations on credit."
-msgstr ""
+msgstr "U heeft geld tekort. De gemeenteraad staat niet toe dat er zonne-energie centrales gebouwd worden met geleend geld."
 
 #: data/gui/no-credit-university.xml
 msgid ""
 "You have a budget deficit. The legislative council will not allow you to "
 "build universities on credit."
-msgstr ""
+msgstr "U heeft geld tekort. De gemeenteraad staat niet toe dat er universiteiten gebouwd worden met geleend geld."
 
 #: data/gui/launch-evac.xml
 msgid ""
 "You have evacuated 1000 people. You might want to reduce the size of your "
 "economy to reflect the reduced population. "
-msgstr ""
+msgstr "Er zijn 1000 mensen ge??vacueerd. Omdat er minder mensen zijn, wilt U mischien de economie kleiner maken."
 
 #: data/gui/blacksmithup.xml
 msgid ""
 "You have reached the tech level which enables you to build blacksmiths. "
 "Blacksmiths use jobs and steel to make goods."
 msgstr ""
+"Het technische nivo is bereikt waarmee smederijen kunnen worden gebouwd. "
+"Smederijen gebruiken werk en staal om goederen te maken"
 
 #: data/gui/coalpowerup.xml
 msgid ""
 "You have reached the tech level which enables you to build coal fired power "
 "stations."
-msgstr ""
+msgstr "Het technische nivo is bereikt waarmee kolen-centrales kunnen worden gebouwd. "
 
 #: data/gui/firestationup.xml
 msgid ""
@@ -643,6 +626,8 @@
 "Fire stations prevent most fires from starting. If you haven't had any fires "
 "yet, you might not think you need them."
 msgstr ""
+"Het technische nivo is bereikt waarmee brandweerkazernes kunnen worden gebouwd. "
+"Brandweerkazernes zorgen ervoor dat de meeste vuren doven. Als er nog geen branden geweest zijn, zou men denken dat ze niet nodig zijn."
 
 #: data/gui/healthup.xml
 msgid ""
@@ -650,56 +635,70 @@
 "Heath centres reduce the number of people killed by pollution and increase "
 "overall productivity."
 msgstr ""
+"Het technische nivo is bereikt waarmee ziekenhuizen kunnen worden gebouwd. "
+"Ziekenhuizen zorgen ervoor dat er minder mensen dood gaan door vervuiling en verhogen daarom de productie."
 
 #: data/gui/hvindustryup.xml
 msgid ""
 "You have reached the tech level which enables you to build heavy industry "
 "(steel works). Heavy industry produces steel. "
 msgstr ""
+"Het technische nivo is bereikt waarmee zware industrie (staal-fabriek) kan worden gebouwd. "
+"Zware industrie produceert staal."
 
 #: data/gui/ltindustryup.xml
 msgid ""
 "You have reached the tech level which enables you to build light industry. "
 "Light industry produces goods. "
 msgstr ""
+"Het technische nivo is bereikt waarmee lichte industrie kan worden gebouwd. "
+"Lichte industrie produceert goederen."
 
 #: data/gui/millup.xml
 msgid ""
 "You have reached the tech level which enables you to build mills. Mills use "
 "jobs and food to make goods. Watch out, they can use a lot of food! "
 msgstr ""
+"Het technische nivo is bereikt waarmee textiel-fabrieken kunnen worden gebouwd. "
+"Textielfabrieken gebruiken werk en voedsel om goederen te maken. Pasop: ze kunnen een heleboel voedsel gebruiken."
 
 #: data/gui/mod_wind_up.xml
 msgid ""
 "You have reached the tech level which enables you to build modern, more "
 "efficient, windmills. "
-msgstr ""
+msgstr "Het technische nivo is bereikt waarmee moderne, meer efficiente windmolens kunnen worden gebouwd. "
 
 #: data/gui/parkup.xml
 msgid ""
 "You have reached the tech level which enables you to build parks. Parks are "
 "used to absorb pollution. "
 msgstr ""
+"Het technische nivo is bereikt waarmee parken kunnen worden gebouwd. "
+"Parken worden gebruikt om vervuiling te laten verdwijnen."
 
 #: data/gui/potteryup.xml
 msgid ""
 "You have reached the tech level which enables you to build potteries. "
 "Potteries use jobs and ore to make goods. (You need ore mines to get ore) "
 msgstr ""
+"Het technische nivo is bereikt waarmee pottenbakkerijen kunnen worden gebouwd. "
+"Pottenbakkerijen gebruiken werk en ijzererts om goederen te maken. (ijzererts-mijnen zijn nodig om ijzererts te krijgen)"
 
 #: data/gui/railwayup.xml
 msgid "You have reached the tech level which enables you to build railways. "
-msgstr ""
+msgstr "Het technische nivo is bereikt waarmee spoorwegen kunnen worden gebouwd. "
 
 #: data/gui/riverup.xml
 msgid "You have reached the tech level which enables you to build rivers. "
-msgstr ""
+msgstr "Het technische nivo is bereikt waarmee revieren kunnen worden gebouwd. "
 
 #: data/gui/roadup.xml
 msgid ""
 "You have reached the tech level which enables you to build roads. See the "
 "help screen for more information."
 msgstr ""
+"Het technische nivo is bereikt waarmee straten kunnen worden gebouwd. "
+"Lees de help-pagina's voor meer informatie."
 
 #: data/gui/rocketup.xml
 msgid ""
@@ -707,47 +706,52 @@
 "pads. Rockets enable you to evacuate your population and is a way to 'win' "
 "the game."
 msgstr ""
+"Het technische nivo is bereikt waarmee lanceer-platformen kunnen worden gebouwd. "
+"Lanceer-platformen maken mogelijk om de bevolking te evacueren en is daarmee een manier om het spel te winnen."
 
 #: data/gui/schoolup.xml
 msgid ""
 "You have reached the tech level which enables you to build schools. Schools "
 "use jobs and goods to increase tech level. "
 msgstr ""
+"Het technische nivo is bereikt waarmee scholen kunnen worden gebouwd. "
+"Scholen gebruiken werk en goederen om het technische nivo te verhogen."
 
 #: data/gui/solarpowerup.xml
 msgid ""
 "You have reached the tech level which enables you to build solar power "
 "stations. "
-msgstr ""
+msgstr "Het technische nivo is bereikt waarmee zonne-energie centrales kunnen worden gebouwd."
 
 #: data/gui/universityup.xml
 msgid ""
 "You have reached the tech level which enables you to build universities. "
 "Universities produces PhDs, which produce more technology. "
 msgstr ""
+"Het technische nivo is bereikt waarmee universiteiten kunnen worden gebouwd. "
+"Universiteiten leveren profesors, en die produceren meer kennis."
 
 #: data/gui/windmillup.xml
 msgid "You have reached the tech level which enables you to build windmills. "
-msgstr ""
+msgstr "Het technische nivo is bereikt waarmee windmolens kunnen worden gebouwd."
 
 #: data/gui/coalmineup.xml
-msgid ""
-"You have reached the tech level which enables you to dig deep coal mines."
-msgstr ""
+msgid "You have reached the tech level which enables you to dig deep coal mines."
+msgstr "Het technische nivo is bereikt waarmee diepe kolenmijnen kunnen worden gedolven."
 
 #: data/gui/recycleup.xml
 msgid ""
 "You have reached the tech level which enables you to recycling centres. "
 "Recycling centres recycle used goods back into ore. "
-msgstr ""
+msgstr "Het technische nivo is bereikt waarmee een recycleercentrum kan worden gebouwd. Een recycleercentrum recycled gebruikte goederen naar ijzererts."
 
 #: data/gui/launch-gone.xml data/gui/sustain.xml
 msgid "You have won the game."
-msgstr ""
+msgstr "U heeft het spel gewonnen."
 
 #: data/gui/allgone.xml
 msgid "You should start a new career elsewhere."
-msgstr ""
+msgstr "Begin ergens anders een nieuwe cariere."
 
 #: data/gui/cricketup.xml
 msgid ""
@@ -755,56 +759,37 @@
 "goods and make people in the surrounding areas (about 10 units in each "
 "direction) happier."
 msgstr ""
+"Het technische nivo is bereikt waarmee basketbal-velden kunnen worden gebouwd. "
+"Basket-velden gebruiken een beetje werk en goederen. En maakt de mensen in de omliggende wijken (ongeveer 10 eenheden in elke richting) gelukkiger."
 
 #: data/gui/launch-fail.xml
 msgid ""
 "Your rocket crashed shortly after launch. People no longer trust the "
 "technology for evacuation. You must launch five more unmanned rockets to "
 "restore confidence."
-msgstr ""
+msgstr "De raket is kort na de lancering neergestort.. De mensen vertrouwen niet langer deze technologie voor evacuatie. Eerst moeten vijf onbemande raketten gelanceerd worden om het vertrouwen te winnen."
 
 #: data/gui/minimap.xml
 msgid "[+] Zoom in view so that less buildings but more details are visible"
-msgstr ""
+msgstr "[+] zoom in, zodat minder gebouwen maar meer detils zichtbaar worden"
 
 #: data/gui/minimap.xml
 msgid "[-] Zoom out"
-msgstr ""
+msgstr "[-] zoom out"
 
 #: data/gui/minimap.xml
 msgid "[F1] Press this button to get help"
-msgstr ""
+msgstr "[F1] druk op deze knop voor help-pagina's"
 
 #: data/gui/minimap.xml
 msgid "[h] Hide high buildings. "
-msgstr ""
+msgstr "[h] Hoge gebouwen verbergen."
 
 #: data/gui/minimap.xml
 msgid "[v] Cycle through MiniMap overlay modes. "
-msgstr ""
+msgstr "[v] Hiermee kan tussen de verschillende mini-kaartjes gewisseld worden."
 
 #: data/gui/savegame.xml
-#, fuzzy
 msgid "save to selected slot"
 msgstr "Opslaan in het geselecteerde slot"
 
-#~ msgid "FX off"
-#~ msgstr "FX uit"
-
-#~ msgid "FX on"
-#~ msgstr "FX aan"
-
-#~ msgid "GameMode:"
-#~ msgstr "SpelModus:"
-
-#~ msgid "Info: Rocket ready at Launchsite "
-#~ msgstr "Info: raket staat klaar op de lanceerbasis "
-
-#~ msgid "Music on"
-#~ msgstr "Muziek aan"
-
-#~ msgid "Mute Music"
-#~ msgstr "Muziek uit"
-
-#~ msgid "Windowed"
-#~ msgstr "In een venster."

Deleted: branches/waterwell/data/locale/gui/pt.po
===================================================================
--- branches/waterwell/data/locale/gui/pt.po	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/data/locale/gui/pt.po	2007-04-20 15:35:09 UTC (rev 1195)
@@ -1,667 +0,0 @@
-# Portuguese/Brazil translation of lincity-ng.
-# Copyright (C) 2007 THE lincity-ng'S COPYRIGHT HOLDER
-# This file is distributed under the same license as the lincity-ng package.
-# Jose Carlos Medeiros <jose at psabs.com.br>, 2007.
-#
-msgid ""
-msgstr ""
-"Project-Id-Version: lincity-ng 1.1.0rc2\n"
-"Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: Sat Jan 27 22:03:14 2007\n"
-"PO-Revision-Date: 2007-01-30 21:10-0300\n"
-"Last-Translator: Jose Carlos Medeiros <jose at psabs.com.br>\n"
-"Language-Team: Portuguese/Brazil <gnome-l10n-br at listas.cipsga.org.br>\n"
-"MIME-Version: 1.0\n"
-"Content-Type: text/plain; charset=UTF-8\n"
-"Content-Transfer-Encoding: 8bit\n"
-"X-Poedit-Language: Portuguese\n"
-"X-Poedit-Country: BRAZIL\n"
-
-#: data/gui/minimap.xml
-msgid "$"
-msgstr "$"
-
-#: data/gui/fire.xml data/gui/fire.xml
-msgid "A Fire has started"
-msgstr "Come??ou um inc??ndio"
-
-#: data/gui/shfire-uc.xml
-msgid "A fire has broken out at a shanty town. It is in a fire cover area and APPEARS to be under control. "
-msgstr "Um inc??ndio iniciou na favela, que esta numa ??rea coberta pelos bombeiros e APARENTA estar sob controle."
-
-#: data/gui/shfire-oc.xml
-msgid "A fire has broken out at a shanty town. The fire is OUT OF CONTROL and may spread to other areas. "
-msgstr "Um inc??ndio iniciou na favela, o fogo esta FORA DE CONTROLE e poder?? se espalhar para outras ??reas."
-
-#: data/gui/newgame.xml data/gui/loadgame.xml data/gui/loadgame.xml data/gui/loadgame.xml data/gui/credits.xml data/gui/savegame.xml data/gui/savegame.xml data/gui/savegame.xml
-msgid "Back"
-msgstr "Anterior"
-
-#: data/gui/options.xml
-msgid "Background Music"
-msgstr "M??sica de Fundo"
-
-#: data/gui/cricketup.xml
-msgid "Basketball Courts available"
-msgstr "Quadra de Basquete dispon??vel"
-
-#: data/gui/blacksmithup.xml
-msgid "Blacksmiths available"
-msgstr "Ferreiro dispon??vel"
-
-#: data/gui/bulldoze_monument_yn.xml
-msgid "Bulldozing a monument costs a lot of money."
-msgstr "Destruir um monumento custa muito dinheiro."
-
-#: data/gui/bulldoze_river_yn.xml
-msgid "Bulldozing a section of river costs a lot of money."
-msgstr "Destruir uma parte do rio custa muito dinheiro."
-
-#: data/gui/bulldoze_shanty_yn.xml
-msgid "Bulldozing a shanty town costs a lot of money and may cause a fire."
-msgstr "Destruir uma favela custa muito dinheiro e pode causar um inc??ndio."
-
-#: data/gui/tradedialog.xml data/gui/portdialog.xml
-msgid "Buy"
-msgstr "Comprar"
-
-#: data/gui/newgame.xml
-msgid "Choose Scenario"
-msgstr "Escolha o cen??rio"
-
-#: data/gui/pbar.xml data/gui/tradedialog.xml data/gui/portdialog.xml
-msgid "Coal"
-msgstr "Carv??o"
-
-#: data/gui/coalpowerup.xml
-msgid "Coal Fired Power Stations available"
-msgstr "Usina El??trica de Carv??o dispon??vel"
-
-#: data/gui/coalmineup.xml
-msgid "Coal Mine available"
-msgstr "Mina de Carv??o dispon??vel"
-
-#: data/gui/coal_survey_yn.xml
-msgid "Coal Survey"
-msgstr "An??lise do carv??o"
-
-#: data/gui/creditslist.xml
-msgid "Code"
-msgstr "C??digo"
-
-#: data/gui/mainmenu.xml
-msgid "Continue"
-msgstr "Prosseguir"
-
-#: data/gui/mainmenu.xml data/gui/creditslist.xml
-msgid "Credits"
-msgstr "Cr??ditos"
-
-#: data/gui/coal_survey_yn.xml
-msgid "Do coal survey?"
-msgstr "Analisar o carv??o?"
-
-#: data/gui/launch-good.xml
-msgid "Doing well."
-msgstr "Indo bem."
-
-#: data/gui/minimap.xml
-msgid "Eco"
-msgstr "Eco"
-
-#: data/gui/sustain.xml
-msgid "Economy Sustainable."
-msgstr "Economia Sustent??vel."
-
-#: data/gui/launch-evac.xml data/gui/launch-evac.xml
-msgid "Evacuation Launch Good"
-msgstr "Boa Evacua????o de Lan??amento"
-
-#: data/gui/shfire-uc.xml data/gui/shfire-oc.xml
-msgid "Fire"
-msgstr "Fogo"
-
-#: data/gui/firestationup.xml
-msgid "Fire Stations available"
-msgstr "Corpo de Bombeiro dispon??vel"
-
-#: data/gui/shfire-uc.xml data/gui/shfire-oc.xml
-msgid "Fire!"
-msgstr "Fogo!"
-
-#: data/gui/pbar.xml data/gui/tradedialog.xml data/gui/portdialog.xml
-msgid "Food"
-msgstr "Comida"
-
-#: data/gui/options.xml
-msgid "Fullscreen"
-msgstr "Tela Inteira"
-
-#: data/gui/gamestats.xml
-msgid "Gamestats"
-msgstr "Estat. do Jogo"
-
-#: data/gui/speedpanel.xml
-msgid "Go back to Main Menu"
-msgstr "Voltar ao Menu Principal"
-
-#: data/gui/pbar.xml data/gui/tradedialog.xml data/gui/portdialog.xml
-msgid "Goods"
-msgstr "Bens"
-
-#: data/gui/creditslist.xml
-msgid "Graphics"
-msgstr "Gr??ficos"
-
-#: data/gui/portdialog.xml
-msgid "Harbour Trade Settings"
-msgstr "Op????es do Porto Comercial"
-
-#: data/gui/healthup.xml
-msgid "Health Centres available"
-msgstr "Centro de sa??de dispon??vel"
-
-#: data/gui/hvindustryup.xml
-msgid "Heavy Industry available"
-msgstr "Ind??stria grande dispon??vel"
-
-#: data/gui/import-exportup.xml
-msgid "Import/Export available"
-msgstr "Importa????o/Exporta????o dispon??vel"
-
-#: data/gui/pbar.xml data/gui/tradedialog.xml
-msgid "Jobs"
-msgstr "Trabalhos"
-
-#: data/gui/launch-fail.xml data/gui/launch-fail.xml
-msgid "Launch Failure"
-msgstr "Falha no lan??amento"
-
-#: data/gui/launch-good.xml data/gui/launch-good.xml
-msgid "Launch Successfull"
-msgstr "Sucesso no lan??amento"
-
-#: data/gui/launch_rocket_yn.xml
-msgid "Launch now?"
-msgstr "Lan??ar agora?"
-
-#: data/gui/ltindustryup.xml
-msgid "Light Industry available"
-msgstr "Ind??stria pequena dispon??vel"
-
-#: data/gui/sustain.xml
-msgid "LinCity has determined that you have a sustainable economy."
-msgstr "LinCity determinou que voc?? tem uma economia sustent??vel."
-
-#: data/gui/mainmenu.xml data/gui/loadgame.xml data/gui/loadgame.xml data/gui/loadgame.xml
-msgid "Load"
-msgstr "Abrir"
-
-#: data/gui/loadgame.xml
-msgid "Load Game"
-msgstr "Abrir o Jogo"
-
-#: data/gui/minimap.xml
-msgid "Map"
-msgstr "Mapa"
-
-#: data/gui/millup.xml
-msgid "Mills available"
-msgstr "Moinho dispon??vel"
-
-#: data/gui/mod_wind_up.xml
-msgid "Modern Windmills available"
-msgstr "Moinho de Vento dispon??vel"
-
-#: data/gui/pbar.xml
-msgid "Money"
-msgstr "Dinheiro"
-
-#: data/gui/newgame.xml data/gui/mainmenu.xml
-msgid "New Game"
-msgstr "Novo Jogo"
-
-#: data/gui/firestationup.xml data/gui/hvindustryup.xml data/gui/windmillup.xml data/gui/ltindustryup.xml data/gui/universityup.xml data/gui/cricketup.xml data/gui/recycleup.xml data/gui/coalmineup.xml data/gui/riverup.xml data/gui/parkup.xml data/gui/coalpowerup.xml data/gui/solarpowerup.xml data/gui/roadup.xml data/gui/potteryup.xml data/gui/railwayup.xml data/gui/blacksmithup.xml data/gui/mod_wind_up.xml data/gui/rocketup.xml data/gui/schoolup.xml data/gui/millup.xml data/gui/import-exportup.xml data/gui/healthup.xml
-msgid "New Invention"
-msgstr "Nova Inven????o"
-
-#: data/gui/coal_survey_yn.xml data/gui/bulldoze_monument_yn.xml data/gui/bulldoze_river_yn.xml data/gui/bulldoze_shanty_yn.xml data/gui/launch_rocket_yn.xml
-msgid "No"
-msgstr "N??o"
-
-#: data/gui/no-credit-solar-power.xml data/gui/no-credit-solar-power.xml data/gui/no-credit-university.xml data/gui/no-credit-university.xml data/gui/no-credit-recycle.xml data/gui/no-credit-recycle.xml data/gui/no-credit-parkland.xml data/gui/no-credit-parkland.xml data/gui/no-credit-rocket.xml data/gui/no-credit-rocket.xml
-msgid "No Credit Available"
-msgstr "Sem Cr??dito Dispon??vel"
-
-#: data/gui/allgone.xml
-msgid "Nobody Home"
-msgstr "Casa Desabitada"
-
-#: data/gui/nobull-tip.xml data/gui/nobull-tip.xml
-msgid "Not Allowed"
-msgstr "N??o Permitido"
-
-#: data/gui/options.xml data/gui/firestationup.xml data/gui/hvindustryup.xml data/gui/windmillup.xml data/gui/fire.xml data/gui/shfire-uc.xml data/gui/ltindustryup.xml data/gui/launch-evac.xml data/gui/universityup.xml data/gui/cricketup.xml data/gui/recycleup.xml data/gui/coalmineup.xml data/gui/riverup.xml data/gui/parkup.xml data/gui/no-credit-solar-power.xml data/gui/launch-good.xml data/gui/coalpowerup.xml data/gui/solarpowerup.xml data/gui/roadup.xml data/gui/no-credit-university.xml data/gui/potteryup.xml data/gui/no-credit-recycle.xml data/gui/railwayup.xml data/gui/launch-fail.xml data/gui/nobull-tip.xml data/gui/blacksmithup.xml data/gui/mod_wind_up.xml data/gui/rocketup.xml data/gui/schoolup.xml data/gui/millup.xml data/gui/import-exportup.xml data/gui/no-credit-parkland.xml data/gui/no-credit-rocket.xml data/gui/healthup.xml data/gui/launch-gone.xml data/gui/shfire-oc.xml data/gui/sustain.xml data/gui/allgone.xml
-msgid "Ok"
-msgstr "Ok"
-
-#: data/gui/gamestats.xml
-msgid "Okay"
-msgstr "Ok"
-
-#: data/gui/mainmenu.xml data/gui/options.xml
-msgid "Options"
-msgstr "Op????es"
-
-#: data/gui/pbar.xml data/gui/tradedialog.xml data/gui/portdialog.xml
-msgid "Ore"
-msgstr "Min??rio"
-
-#: data/gui/creditslist.xml
-msgid "Original Idea and Code"
-msgstr "Id??ia original e C??digo"
-
-#: data/gui/parkup.xml
-msgid "Parks available"
-msgstr "Parque dispon??vel"
-
-#: data/gui/speedpanel.xml
-msgid "Pause the game"
-msgstr "Pausar o Jogo"
-
-#: data/gui/pbar.xml
-msgid "Population"
-msgstr "Popula????o"
-
-#: data/gui/potteryup.xml
-msgid "Potteries available"
-msgstr "Olaria dispon??vel"
-
-#: data/gui/minimap.xml
-msgid "Press this button to show statistics"
-msgstr "Aperte este bot??o para mostrar as estat??sticas"
-
-#: data/gui/tradedialog.xml data/gui/portdialog.xml
-msgid "Product"
-msgstr "Produto"
-
-#: data/gui/mainmenu.xml
-msgid "Quit"
-msgstr "Sair"
-
-#: data/gui/railwayup.xml
-msgid "Railways available"
-msgstr "Estrada de Ferro dispon??vel"
-
-#: data/gui/recycleup.xml
-msgid "Recycling Centres available"
-msgstr "Centro de Reciclagem dispon??vel"
-
-#: data/gui/riverup.xml
-msgid "Rivers available"
-msgstr "Rio dispon??vel"
-
-#: data/gui/roadup.xml
-msgid "Roads available"
-msgstr "Estrada dispon??vel"
-
-#: data/gui/rocketup.xml
-msgid "Rocket Launch Pad available"
-msgstr "??rea de lan??amento de foguetes dispon??vel"
-
-#: data/gui/launch_rocket_yn.xml
-msgid "Rocket Ready"
-msgstr "Foguete Pronto"
-
-#: data/gui/launch_rocket_yn.xml
-msgid "Rocket ready to launch"
-msgstr "Foguete preparado para o lan??amento"
-
-#: data/gui/speedpanel.xml
-msgid "Run the simulation with fast speed"
-msgstr "Rodar a simula????o na velocidade r??pida"
-
-#: data/gui/speedpanel.xml
-msgid "Run the simulation with normal speed"
-msgstr "Rodar a simula????o na velocidade normal"
-
-#: data/gui/speedpanel.xml
-msgid "Run the simulation with very fast speed"
-msgstr "Rodar a simula????o na velocidade muito r??pida"
-
-#: data/gui/mainmenu.xml
-msgid "Save"
-msgstr "Salvar"
-
-#: data/gui/savegame.xml
-msgid "Save Game"
-msgstr "Salvar o Jogo"
-
-#: data/gui/schoolup.xml
-msgid "Schools available"
-msgstr "Escola dispon??vel"
-
-#: data/gui/coalmineup.xml
-msgid "See the help screen for more information on coal mines and coal surveys."
-msgstr "Veja a tela de ajuda para maiores informa????es sobre minas de carv??o e an??lise do carv??o."
-
-#: data/gui/firestationup.xml data/gui/hvindustryup.xml data/gui/windmillup.xml data/gui/ltindustryup.xml data/gui/universityup.xml data/gui/cricketup.xml data/gui/recycleup.xml data/gui/riverup.xml data/gui/parkup.xml data/gui/coalpowerup.xml data/gui/solarpowerup.xml data/gui/potteryup.xml data/gui/railwayup.xml data/gui/blacksmithup.xml data/gui/mod_wind_up.xml data/gui/rocketup.xml data/gui/schoolup.xml data/gui/millup.xml data/gui/healthup.xml
-msgid "See the help screen for more information."
-msgstr "Veja a tela de ajuda para maiores informa????es."
-
-#: data/gui/tradedialog.xml data/gui/portdialog.xml
-msgid "Sell"
-msgstr "Vender"
-
-#: data/gui/coal_survey_yn.xml
-msgid "Send out Prospectors"
-msgstr "Enviar Prospectos"
-
-#: data/gui/minimap.xml
-msgid "Show Income and Expenses. Click this tab again to cycle through views."
-msgstr "Exibir Rendimentos e Despesas. Clique nesta tab novamente para circular entre as visualiza????es."
-
-#: data/gui/minimapswitchbuttons.xml
-msgid "Show coal depots"
-msgstr "Exibir dep??sitos de carv??o"
-
-#: data/gui/minimap.xml
-msgid "Show economy graphs."
-msgstr "Exibir gr??ficos economicos."
-
-#: data/gui/minimapswitchbuttons.xml
-msgid "Show fire department cover"
-msgstr "Exibir ??rea de cobertura dos bombeiros"
-
-#: data/gui/minimapswitchbuttons.xml
-msgid "Show map outline"
-msgstr "Exibir mapa plano"
-
-#: data/gui/minimapswitchbuttons.xml
-msgid "Show medical care"
-msgstr "Exibir ??rea m??dica"
-
-#: data/gui/minimapswitchbuttons.xml
-msgid "Show nourishments"
-msgstr "Exibir alimentos"
-
-#: data/gui/minimapswitchbuttons.xml
-msgid "Show pollution density"
-msgstr "Exibir densidade populacional"
-
-#: data/gui/minimapswitchbuttons.xml
-msgid "Show power supply"
-msgstr "Exibir ??rea energizada"
-
-#: data/gui/minimap.xml
-msgid "Show resources."
-msgstr "Exibir recursos."
-
-#: data/gui/minimapswitchbuttons.xml
-msgid "Show sport cover"
-msgstr "Exibir ??rea de esportes"
-
-#: data/gui/minimap.xml
-msgid "Show the MiniMap"
-msgstr "Exibir o Mini Mapa"
-
-#: data/gui/minimapswitchbuttons.xml
-msgid "Show traffic density"
-msgstr "Exibir densidade do tr??fego"
-
-#: data/gui/minimapswitchbuttons.xml
-msgid "Show unemployment"
-msgstr "Exibir ??rea de desemprego"
-
-#: data/gui/solarpowerup.xml
-msgid "Solar Power Stations available"
-msgstr "Usina el??trica solar dispon??vel"
-
-#: data/gui/nobull-tip.xml
-msgid "Sorry you can't bulldoze a tip."
-msgstr "Desculpe mas voc?? n??o pode destruir um aterro."
-
-#: data/gui/options.xml
-msgid "Sound Effects"
-msgstr "Efeitos Sonoros"
-
-#: data/gui/creditslist.xml
-msgid "Sound and Music"
-msgstr "Som e M??sica"
-
-#: data/gui/newgame.xml
-msgid "Start"
-msgstr "Iniciar"
-
-#: data/gui/newgame.xml data/gui/newgame.xml data/gui/newgame.xml
-msgid "Start with empty board."
-msgstr "Iniciar uma cidade vazia."
-
-#: data/gui/newgame.xml data/gui/newgame.xml data/gui/newgame.xml
-msgid "Start with random village."
-msgstr "Iniciar uma cidade aleat??ria."
-
-#: data/gui/minimap.xml
-msgid "Stats"
-msgstr "Estado"
-
-#: data/gui/pbar.xml data/gui/tradedialog.xml data/gui/portdialog.xml
-msgid "Steel"
-msgstr "A??o"
-
-#: data/gui/pbar.xml
-msgid "Tech Level"
-msgstr "N??vel Tecnol??gico"
-
-#: data/gui/allgone.xml
-msgid "There are no people left in this city."
-msgstr "N??o exitem pessoas nesta cidade."
-
-#: data/gui/coal_survey_yn.xml
-msgid "This will cost you 1 million once. After that it is free to call again."
-msgstr "Isto custar?? 1 milh??o. Ap??s, estar?? livre para chamar novamente."
-
-#: data/gui/launch-gone.xml
-msgid "Total Evacuation Complete."
-msgstr "Evacua????o Total Completada."
-
-#: data/gui/tradedialog.xml
-msgid "Trade Settings"
-msgstr "Op????es de Com??rcio"
-
-#: data/gui/creditslist.xml
-msgid "Translation"
-msgstr "Tradu????o"
-
-#: data/gui/universityup.xml
-msgid "University available"
-msgstr "Universidade dispon??vel"
-
-#: data/gui/bulldoze_monument_yn.xml data/gui/bulldoze_river_yn.xml data/gui/bulldoze_shanty_yn.xml
-msgid "Want to bulldoze?"
-msgstr "Deseja destruir?"
-
-#: data/gui/bulldoze_monument_yn.xml data/gui/bulldoze_river_yn.xml data/gui/bulldoze_shanty_yn.xml
-msgid "Warning"
-msgstr "Aten????o"
-
-#: data/gui/bulldoze_monument_yn.xml
-msgid "Warning: Bulldozing monuments is expensive"
-msgstr "Aten????o: Destruir monumentos ?? muito caro"
-
-#: data/gui/bulldoze_shanty_yn.xml
-msgid "Warning: Bulldozing shanties is dangerous."
-msgstr "Aten????o: Destruir favelas ?? perigoso."
-
-#: data/gui/bulldoze_river_yn.xml
-msgid "Warning: Bulldozing water is expensive"
-msgstr "Aten????o: Destruir ??gua ?? muito caro"
-
-#: data/gui/launch-gone.xml
-msgid "Well done you have evacuated all your people."
-msgstr "Feito, voc?? evacuou todas as pessoas."
-
-#: data/gui/windmillup.xml
-msgid "Windmills available"
-msgstr "Moinho de Vento dispon??vel"
-
-#: data/gui/coal_survey_yn.xml data/gui/bulldoze_monument_yn.xml data/gui/bulldoze_river_yn.xml data/gui/bulldoze_shanty_yn.xml data/gui/launch_rocket_yn.xml
-msgid "Yes"
-msgstr "Sim"
-
-#: data/gui/fire.xml
-msgid "You better go and look for it"
-msgstr "Voc?? pode ir a procurar por isso"
-
-#: data/gui/launch_rocket_yn.xml
-msgid "You can launch the rocket now or wait until later. If you wait it will continue costing you money to keep the rocket ready. Launch it later by clicking on the rocket area."
-msgstr "Voc?? pode lan??ar o foguete agora ou mais tarde. Lan??ar mais tarde continuar?? custando para manter o foguete pronto para o lan??amento. Lance-o clicando na ??rea do foguete."
-
-#: data/gui/import-exportup.xml
-msgid "You can now import and export coal, goods, ore and steel. Read the help pages on these subjects to find out how to use them. "
-msgstr "Voc?? pode agora importar e exportar carv??o, bens, min??rios e a??o. Leia as p??ginas de ajuda destes itens para saber como utiliz??-los."
-
-#: data/gui/no-credit-parkland.xml
-msgid "You have a budget deficit. The legislative council will not allow you to build parks on credit."
-msgstr "Voc?? tem um d??ficit no or??amento. O conselho legislativo n??o deixar?? que voc?? construa parques ?? cr??dito."
-
-#: data/gui/no-credit-recycle.xml
-msgid "You have a budget deficit. The legislative council will not allow you to build recycling centres on credit."
-msgstr "Voc?? tem um d??ficit no or??amento. O conselho legislativo n??o deixar?? que voc?? construa centros de reciclagem ?? cr??dito."
-
-#: data/gui/no-credit-rocket.xml
-msgid "You have a budget deficit. The legislative council will not allow you to build rocket launch pads on credit."
-msgstr "Voc?? tem um d??ficit no or??amento. O conselho legislativo n??o deixar?? que voc?? construa ??reas de lan??amento ?? cr??dito."
-
-#: data/gui/no-credit-solar-power.xml
-msgid "You have a budget deficit. The legislative council will not allow you to build solar power stations on credit."
-msgstr "Voc?? tem um d??ficit no or??amento. O conselho legislativo n??o deixar?? que voc?? construa esta????es de energia solar ?? cr??dito."
-
-#: data/gui/no-credit-university.xml
-msgid "You have a budget deficit. The legislative council will not allow you to build universities on credit."
-msgstr "Voc?? tem um d??ficit no or??amento. O conselho legislativo n??o deixar?? que voc?? construa universidades ?? cr??dito."
-
-#: data/gui/launch-evac.xml
-msgid "You have evacuated 1000 people. You might want to reduce the size of your economy to reflect the reduced population. "
-msgstr "Voc?? evacuou 1000 pessoas. Voc?? pode querer reduzir o tamanho da sua economia para refletir a popula????o reduzida."
-
-#: data/gui/blacksmithup.xml
-msgid "You have reached the tech level which enables you to build blacksmiths. Blacksmiths use jobs and steel to make goods."
-msgstr "Voc?? alcan??ou o n??vel tecnologico que habilita a construir ferreiros. Ferreiros utiliza trabalho e a??o para produzir bens."
-
-#: data/gui/coalpowerup.xml
-msgid "You have reached the tech level which enables you to build coal fired power stations."
-msgstr "Voc?? alcan??ou o n??vel tecnologico que habilita a construir usinas el??tricas de carv??o."
-
-#: data/gui/firestationup.xml
-msgid "You have reached the tech level which enables you to build fire stations. Fire stations prevent most fires from starting. If you haven't had any fires yet, you might not think you need them."
-msgstr "Voc?? alcan??ou o n??vel tecnologico que habilita a construir corpos de bombeiro. Corpo de bombeiro previne a maioria dos inc??ndios antes de come??ar. Se voc?? n??o teve um inc??ndio ainda, n??o deve pensar que n??o precisa deles."
-
-#: data/gui/healthup.xml
-msgid "You have reached the tech level which enables you to build health centres. Heath centres reduce the number of people killed by pollution and increase overall productivity."
-msgstr "Voc?? alcan??ou o n??vel tecnologico que habilita a construir centros de sa??de. Centros de sa??de reduzem o n??mero de pessoas mortas pela polui????o e aumentam a produtividade."
-
-#: data/gui/hvindustryup.xml
-msgid "You have reached the tech level which enables you to build heavy industry (steel works). Heavy industry produces steel. "
-msgstr "Voc?? alcan??ou o n??vel tecnologico que habilita a construir ind??strias grandes (oficina de a??o). Ind??strias grandes produzem a??o."
-
-#: data/gui/ltindustryup.xml
-msgid "You have reached the tech level which enables you to build light industry. Light industry produces goods. "
-msgstr "Voc?? alcan??ou o n??vel tecnologico que habilita a construir ind??strias pequenas. Ind??strias pequenas produzem bens."
-
-#: data/gui/millup.xml
-msgid "You have reached the tech level which enables you to build mills. Mills use jobs and food to make goods. Watch out, they can use a lot of food! "
-msgstr "Voc?? alcan??ou o n??vel tecnologico que habilita a construir moinhos. Moinhos utilizam trabalho e comida para produzir bens. Aten??ao, eles podem utilizar bastante alimentos!"
-
-#: data/gui/mod_wind_up.xml
-msgid "You have reached the tech level which enables you to build modern, more efficient, windmills. "
-msgstr "Voc?? alcan??ou o n??vel tecnologico que habilita a construir modernos, mais eficientes, moinhos de vento."
-
-#: data/gui/parkup.xml
-msgid "You have reached the tech level which enables you to build parks. Parks are used to absorb pollution. "
-msgstr "Voc?? alcan??ou o n??vel tecnologico que habilita a construir parques. Parques s??o utilizados para absorver a polui????o."
-
-#: data/gui/potteryup.xml
-msgid "You have reached the tech level which enables you to build potteries. Potteries use jobs and ore to make goods. (You need ore mines to get ore) "
-msgstr "Voc?? alcan??ou o n??vel tecnologico que habilita a construir olarias. Olarias utilizam trabalho e min??rio para produzir bens. (Voc?? necessita de minas para conseguir os min??rios)"
-
-#: data/gui/railwayup.xml
-msgid "You have reached the tech level which enables you to build railways. "
-msgstr "Voc?? alcan??ou o n??vel tecnologico que habilita a construir estradas de ferro."
-
-#: data/gui/riverup.xml
-msgid "You have reached the tech level which enables you to build rivers. "
-msgstr "Voc?? alcan??ou o n??vel tecnologico que habilita a construir rios."
-
-#: data/gui/roadup.xml
-msgid "You have reached the tech level which enables you to build roads. See the help screen for more information."
-msgstr "Voc?? alcan??ou o n??vel tecnologico que habilita a construir estradas. Veja a tela de ajuda para maiores informa????es."
-
-#: data/gui/rocketup.xml
-msgid "You have reached the tech level which enables you to build rocket launch pads. Rockets enable you to evacuate your population and is a way to 'win' the game."
-msgstr "Voc?? alcan??ou o n??vel tecnologico que habilita a construir ??reas de lan??amentos de foguetes. Foguetes habilitam voc?? a evacuar sua popula????o e ?? um meio de 'ganhar' o jogo."
-
-#: data/gui/schoolup.xml
-msgid "You have reached the tech level which enables you to build schools. Schools use jobs and goods to increase tech level. "
-msgstr "Voc?? alcan??ou o n??vel tecnologico que habilita a construir escolas. Escolas utilizam trabalho e bens para aumentar o n??vel tecnologico."
-
-#: data/gui/solarpowerup.xml
-msgid "You have reached the tech level which enables you to build solar power stations. "
-msgstr "Voc?? alcan??ou o n??vel tecnologico que habilita a construir usinas de energia solar."
-
-#: data/gui/universityup.xml
-msgid "You have reached the tech level which enables you to build universities. Universities produces PhDs, which produce more technology. "
-msgstr "Voc?? alcan??ou o n??vel tecnologico que habilita a construir universidades. Universidades produzem PhDs, que produzem mais tecnologia."
-
-#: data/gui/windmillup.xml
-msgid "You have reached the tech level which enables you to build windmills. "
-msgstr "Voc?? alcan??ou o n??vel tecnologico que habilita a construir moinhos de vento."
-
-#: data/gui/coalmineup.xml
-msgid "You have reached the tech level which enables you to dig deep coal mines."
-msgstr "Voc?? alcan??ou o n??vel tecnologico que habilita a cavar profundamente as minas de carv??o."
-
-#: data/gui/recycleup.xml
-msgid "You have reached the tech level which enables you to recycling centres. Recycling centres recycle used goods back into ore. "
-msgstr "Voc?? alcan??ou o n??vel tecnologico que habilita a reciclar os centros. Reciclagem dos centros recicla bens utilizados em min??rios."
-
-#: data/gui/launch-gone.xml data/gui/sustain.xml
-msgid "You have won the game."
-msgstr "Voc?? ganhou o jogo."
-
-#: data/gui/allgone.xml
-msgid "You should start a new career elsewhere."
-msgstr "Voc?? pode come??ar uma nova profiss??o em outro lugar."
-
-#: data/gui/cricketup.xml
-msgid "Your people have invented basketball. Basketball Courts use a few jobs and goods and make people in the surrounding areas (about 10 units in each direction) happier."
-msgstr "Seus habitantes inventaram o basquete. As quadras de basquete utilizam um pouco de trabalho e bens e fazem as pessoas ao redor (mais ou menos 10 pessoas em cada dire????o) mais felizes."
-
-#: data/gui/launch-fail.xml
-msgid "Your rocket crashed shortly after launch. People no longer trust the technology for evacuation. You must launch five more unmanned rockets to restore confidence."
-msgstr "Seu foguete explodiu logo ap??s o lan??amento. As pessoas n??o confiam mais nesta tecnologia para evacua????o. Voc?? dever?? lan??ar mais 5 foguetes n??o tripulados para que eles recuperem a confian??a."
-
-#: data/gui/minimap.xml
-msgid "[+] Zoom in view so that less buildings but more details are visible"
-msgstr "[+] Aumentar"
-
-#: data/gui/minimap.xml
-msgid "[-] Zoom out"
-msgstr "[-] Reduzir"
-
-#: data/gui/minimap.xml
-msgid "[F1] Press this button to get help"
-msgstr "[F1] Aperte este bot??o para ter ajuda"
-
-#: data/gui/minimap.xml
-msgid "[h] Hide high buildings. "
-msgstr "[h] Esconder edif??cios grandes. "
-
-#: data/gui/minimap.xml
-msgid "[v] Cycle through MiniMap overlay modes. "
-msgstr "[v] Circular entre os Mini Mapas. "
-
-#: data/gui/savegame.xml data/gui/savegame.xml data/gui/savegame.xml
-msgid "save to selected slot"
-msgstr "salva no slot selecionado"
-

Copied: branches/waterwell/data/locale/gui/pt_BR.po (from rev 1194, trunk/data/locale/gui/pt_BR.po)

Modified: branches/waterwell/data/locale/gui/sv.po
===================================================================
--- branches/waterwell/data/locale/gui/sv.po	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/data/locale/gui/sv.po	2007-04-20 15:35:09 UTC (rev 1195)
@@ -2,14 +2,14 @@
 # Swedish messages for lincity-ng.
 # Copyright (C) 2005 THE PACKAGE'S COPYRIGHT HOLDER
 # This file is distributed under the same license as the lincity-ng package.
-# Daniel Nylander <po at danielnylander.se>, 2005.
+# Daniel Nylander <po at danielnylander.se>, 2005, 2007.
 #
 msgid ""
 msgstr ""
 "Project-Id-Version: lincity-ng 1.1.0\n"
 "Report-Msgid-Bugs-To: \n"
 "POT-Creation-Date: %1\n"
-"PO-Revision-Date: 2007-01-28 14:11+0100\n"
+"PO-Revision-Date: 2007-04-11 10:58+0100\n"
 "Last-Translator: Daniel Nylander <po at danielnylander.se>\n"
 "Language-Team: Swedish <tp-sv at listor.tp-sv.se>\n"
 "MIME-Version: 1.0\n"
@@ -208,7 +208,7 @@
 
 #: data/gui/millup.xml
 msgid "Mills available"
-msgstr "Spinnerier tillg??ngliga"
+msgstr "Verkst??der tillg??ngliga"
 
 #: data/gui/mod_wind_up.xml
 msgid "Modern Windmills available"
@@ -607,7 +607,7 @@
 
 #: data/gui/millup.xml
 msgid "You have reached the tech level which enables you to build mills. Mills use jobs and food to make goods. Watch out, they can use a lot of food! "
-msgstr "Du har n??tt fram till teknologiniv??n som l??ter dig bygga spinnerier. Spinnerier anv??nder jobb och mat f??r att producera varor. T??nk p?? att de kan anv??nda mycket mat! "
+msgstr "Du har n??tt fram till teknologiniv??n som l??ter dig bygga verkst??der. Verkst??der anv??nder jobb och mat f??r att producera varor. T??nk p?? att de kan anv??nda mycket mat! "
 
 #: data/gui/mod_wind_up.xml
 msgid "You have reached the tech level which enables you to build modern, more efficient, windmills. "

Modified: branches/waterwell/data/locale/nl.po
===================================================================
--- branches/waterwell/data/locale/nl.po	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/data/locale/nl.po	2007-04-20 15:35:09 UTC (rev 1195)
@@ -6,15 +6,15 @@
 #
 #
 # Bart Vanherck <bart at herckb.be>, 2006.
-# Ronald Stroethoff <stroet43 at zonnet.nl>, 2006.
+# Ronald Stroethoff <stroet43 at zonnet.nl>, 2006, 2007.
 msgid ""
 msgstr ""
 "Project-Id-Version: nl\n"
 "Report-Msgid-Bugs-To: \n"
 "POT-Creation-Date: 2007-01-27 22:03+0100\n"
-"PO-Revision-Date: 2006-12-21 19:41+0100\n"
+"PO-Revision-Date: 2007-04-12 23:58+0200\n"
 "Last-Translator: Ronald Stroethoff <stroet43 at zonnet.nl>\n"
-"Language-Team: Nederlands <en at li.org>\n"
+"Language-Team: Nederlands\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=ISO-8859-15\n"
 "Content-Transfer-Encoding: 8bit\n"
@@ -26,8 +26,7 @@
 
 #: src/lincity/fileutil.cpp:561
 msgid "Error verifying package. Can't find colour.pal."
-msgstr ""
-"Fout bij het controleren van het pakket. Kan het kleurenpallet niet vinden"
+msgstr "Fout bij het controleren van het pakket. Kan het kleurenpallet niet vinden"
 
 #: src/lincity/fileutil.cpp:580 src/lincity/fileutil.cpp:589
 #, c-format
@@ -114,7 +113,7 @@
 
 #: src/lincity/engine.cpp:717
 msgid "It's at a commune."
-msgstr "Het is bij een communie."
+msgstr "Het is bij een houtskool-branderij."
 
 #: src/lincity/engine.cpp:719
 msgid "It's at a tip."
@@ -257,7 +256,7 @@
 
 #: src/lincity/lintypes.cpp:190 src/lincity/modules/commune.cpp:146
 msgid "Commune"
-msgstr "Communie"
+msgstr "Houtskool-branderij"
 
 #: src/lincity/lintypes.cpp:202
 msgid "Ore mine"
@@ -853,8 +852,7 @@
 #: src/lincity-ng/Dialog.cpp:413
 #, c-format
 msgid ".    Potteries %4d     Blacksmiths %4d            Mills %4d"
-msgstr ""
-".????Pottenbakkerijen?%4d?????Smidsen?%4d????????????Textielfabrieken?%4d"
+msgstr ".????Pottenbakkerijen?%4d?????Smidsen?%4d????????????Textielfabrieken?%4d"
 
 #: src/lincity-ng/Dialog.cpp:418
 #, c-format
@@ -869,8 +867,7 @@
 #: src/lincity-ng/Dialog.cpp:428
 #, c-format
 msgid ".   Coal mines %4d       Ore mines %4d         Communes %4d"
-msgstr ""
-".???Steenkoolmijnen?%4d???????Ijzerertsmijnen?%4d?????????Communies?%4d"
+msgstr ".???Steenkoolmijnen?%4d???????Ijzerertsmijnen?%4d?????????houtskool-branderijen?%4d"
 
 #: src/lincity-ng/Dialog.cpp:433
 #, c-format
@@ -880,8 +877,7 @@
 #: src/lincity-ng/Dialog.cpp:439
 #, c-format
 msgid ".  Substations %4d     Power lines %4d            Ports %4d"
-msgstr ""
-".??Transformatorhuisje?%4d?????Electriciteitsdraden?%4d????????????Havens?%4d"
+msgstr ".??Transformatorhuisje?%4d?????Electriciteitsdraden?%4d????????????Havens?%4d"
 
 #: src/lincity-ng/Dialog.cpp:444
 #, c-format
@@ -946,7 +942,7 @@
 #: src/lincity-ng/GameView.cpp:1520 src/lincity-ng/GameView.cpp:1551
 #: src/lincity-ng/ScreenInterface.cpp:269
 msgid "$"
-msgstr "EUR"
+msgstr "?"
 
 #: src/lincity-ng/GameView.cpp:1522
 msgid "n/a"
@@ -970,7 +966,7 @@
 
 #: src/lincity-ng/GameView.cpp:1552 src/lincity-ng/GameView.cpp:1555
 msgid "$."
-msgstr "EUR."
+msgstr "?"
 
 #: src/lincity-ng/GameView.cpp:1554
 msgid " To build "
@@ -1236,3 +1232,4 @@
 #: src/lincity-ng/ScreenInterface.cpp:258
 msgid "MM"
 msgstr "MM"
+

Deleted: branches/waterwell/data/locale/pt.po
===================================================================
--- branches/waterwell/data/locale/pt.po	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/data/locale/pt.po	2007-04-20 15:35:09 UTC (rev 1195)
@@ -1,1322 +0,0 @@
-# Portuguese/Brazil translation of lincity-ng.
-# Copyright (C) 2007 THE lincity-ng'S COPYRIGHT HOLDER
-# This file is distributed under the same license as the lincity-ng package.
-# Jose Carlos Medeiros <jose at psabs.com.br>, 2007.
-#
-#
-msgid ""
-msgstr ""
-"Project-Id-Version: lincity-ng 1.1.0rc2\n"
-"Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2007-01-27 22:03+0100\n"
-"PO-Revision-Date: 2007-01-29 14:56-0300\n"
-"Last-Translator: Jose Carlos Medeiros <jose at psabs.com.br>\n"
-"Language-Team: Portuguese/Brazil <gnome-l10n-br at listas.cipsga.org.br>\n"
-"MIME-Version: 1.0\n"
-"Content-Type: text/plain; charset=UTF-8\n"
-"Content-Transfer-Encoding: 8bit\n"
-"X-Poedit-Language: Portuguese\n"
-"X-Poedit-Country: BRAZIL\n"
-
-#: src/lincity/fileutil.cpp:292
-#: src/lincity/fileutil.cpp:341
-msgid "Error. Can't find LINCITY_HOME"
-msgstr "Erro. LINCITY_HOME n??o encontrado"
-
-#: src/lincity/fileutil.cpp:561
-msgid "Error verifying package. Can't find colour.pal."
-msgstr "Erro verificando o pacote. N??o encontro a paleta de cores."
-
-#: src/lincity/fileutil.cpp:580
-#: src/lincity/fileutil.cpp:589
-#, c-format
-msgid "Couldn't create the save directory '%s'\n"
-msgstr "N??o pude criar a pasta '%s'\n"
-
-#: src/lincity/fileutil.cpp:635
-#, c-format
-msgid "Out of memory: malloc failure\n"
-msgstr "Sem mem??ria. malloc falhou\n"
-
-#: src/lincity/engine.cpp:157
-msgid "You can't build a tip here"
-msgstr "Voc?? n??o pode construir um aterro aqui"
-
-#: src/lincity/engine.cpp:158
-#: src/lincity/engine.cpp:189
-msgid "This area was once a landfill"
-msgstr "Este lugar tinha apenas um monte de lixo"
-
-#: src/lincity/engine.cpp:159
-#: src/lincity/engine.cpp:190
-#: src/lincity/engine.cpp:197
-msgid "OK"
-msgstr "OK"
-
-#: src/lincity/engine.cpp:188
-#: src/lincity/engine.cpp:195
-msgid "You can't build a mine here"
-msgstr "Voc?? n??o pode construir uma mina aqui"
-
-#: src/lincity/engine.cpp:196
-msgid "There is no ore left at this site"
-msgstr "N??o existe mais min??rio neste terreno"
-
-#: src/lincity/engine.cpp:691
-msgid "It's at a power line."
-msgstr "Isto ?? uma linha de transmiss??o de for??a."
-
-#: src/lincity/engine.cpp:693
-msgid "It's at a solar power station."
-msgstr "Esta ?? uma usina de energia solar."
-
-#: src/lincity/engine.cpp:695
-msgid "It's at a substation."
-msgstr "Isto ?? uma sub-esta????o."
-
-#: src/lincity/engine.cpp:697
-msgid "It's at a residential area."
-msgstr "Isto ?? uma ??rea residencial."
-
-#: src/lincity/engine.cpp:699
-msgid "It's at a farm."
-msgstr "Isto ?? uma fazenda."
-
-#: src/lincity/engine.cpp:701
-msgid "It's at a market."
-msgstr "Isto ?? um mercado."
-
-#: src/lincity/engine.cpp:703
-msgid "It's at a track."
-msgstr "Isto ?? uma pista."
-
-#: src/lincity/engine.cpp:705
-msgid "It's at a coal mine."
-msgstr "Isto ?? uma mina de carv??o."
-
-#: src/lincity/engine.cpp:707
-msgid "It's at a railway."
-msgstr "Isto ?? uma via f??rrea."
-
-#: src/lincity/engine.cpp:709
-msgid "It's at a coal power station."
-msgstr "Isto ?? uma usina de carv??o."
-
-#: src/lincity/engine.cpp:711
-msgid "It's at a road."
-msgstr "Isto ?? uma estrada."
-
-#: src/lincity/engine.cpp:713
-msgid "It's at light industry."
-msgstr "Isto ?? uma ind??stria pequena."
-
-#: src/lincity/engine.cpp:715
-msgid "It's at a university."
-msgstr "Isto ?? uma universidade."
-
-#: src/lincity/engine.cpp:717
-msgid "It's at a commune."
-msgstr "Isto ?? uma comuna."
-
-#: src/lincity/engine.cpp:719
-msgid "It's at a tip."
-msgstr "Isto ?? um aterro."
-
-#: src/lincity/engine.cpp:721
-msgid "It's at a port."
-msgstr "Isto ?? um porto."
-
-#: src/lincity/engine.cpp:723
-msgid "It's at a steel works."
-msgstr "Isto ?? uma oficina de a??o."
-
-#: src/lincity/engine.cpp:725
-msgid "It's at a recycle centre."
-msgstr "Isto ?? um centro de reciclagem."
-
-#: src/lincity/engine.cpp:727
-msgid "It's at a health centre."
-msgstr "Isto ?? um centro de sa??de."
-
-#: src/lincity/engine.cpp:729
-msgid "It's at a rocket site."
-msgstr "Isto ?? uma ??rea de lan??amento."
-
-#: src/lincity/engine.cpp:731
-msgid "It's at a windmill."
-msgstr "Isto ?? um moinho de vento."
-
-#: src/lincity/engine.cpp:733
-msgid "It's at a school."
-msgstr "Isto ?? uma escola."
-
-#: src/lincity/engine.cpp:735
-msgid "It's at a blacksmith."
-msgstr "Isto ?? um ferreiro."
-
-#: src/lincity/engine.cpp:737
-msgid "It's at a mill."
-msgstr "Isto ?? um moinho."
-
-#: src/lincity/engine.cpp:739
-msgid "It's at a pottery."
-msgstr "Isto ?? uma olaria."
-
-#: src/lincity/engine.cpp:741
-msgid "It's at a fire station!!!."
-msgstr "Isto ?? um corpo de bombeiros!!!"
-
-#: src/lincity/engine.cpp:743
-msgid "It's at a sports field!!!."
-msgstr "Isto ?? uma linha de transmiss??o de for??a!!!"
-
-#: src/lincity/engine.cpp:745
-msgid "It's at a shanty town."
-msgstr "Isto ?? uma favela."
-
-#: src/lincity/engine.cpp:747
-msgid "UNKNOWN!"
-msgstr "DESCONHECIDO!"
-
-#: src/lincity/ldsvguts.cpp:128
-#, c-format
-msgid "Save file <%s> - "
-msgstr "Salvar arquivo <%s> - "
-
-#: src/lincity/ldsvguts.cpp:129
-msgid "Can't open save file!"
-msgstr "N??o posso abrir o arquivo!"
-
-#: src/lincity/ldsvguts.cpp:134
-msgid "Saving scene"
-msgstr "Salvando cena"
-
-#: src/lincity/ldsvguts.cpp:334
-#, c-format
-msgid "Can't open <%s> (gzipped)"
-msgstr "N??o posso abrir <%s> (compactado)"
-
-#: src/lincity/ldsvguts.cpp:352
-msgid "Loading scene"
-msgstr "Abrindo a cena"
-
-#: src/lincity/lintypes.cpp:22
-msgid "Empty"
-msgstr "Vazio"
-
-#: src/lincity/lintypes.cpp:34
-msgid "Power line"
-msgstr "Linha de transmiss??o de for??a"
-
-#: src/lincity/lintypes.cpp:46
-msgid "Solar PS"
-msgstr "Solar PS"
-
-#: src/lincity/lintypes.cpp:58
-#: src/lincity/modules/substation.cpp:91
-msgid "Substation"
-msgstr "Sub-esta????o"
-
-#: src/lincity/lintypes.cpp:70
-msgid "Residential LL"
-msgstr "Residencial LL"
-
-#: src/lincity/lintypes.cpp:82
-msgid "Farm"
-msgstr "Fazenda"
-
-#: src/lincity/lintypes.cpp:94
-#: src/lincity/modules/market.cpp:1143
-#: src/lincity-ng/Dialog.cpp:486
-msgid "Market"
-msgstr "Mercado"
-
-#: src/lincity/lintypes.cpp:106
-#: src/lincity/modules/track.cpp:38
-msgid "Track"
-msgstr "Pista"
-
-#: src/lincity/lintypes.cpp:118
-msgid "Coalmine"
-msgstr "Mina de carv??o"
-
-#: src/lincity/lintypes.cpp:130
-msgid "Railway"
-msgstr "Via F??rrea"
-
-#: src/lincity/lintypes.cpp:142
-msgid "Coal PS"
-msgstr "Carv??o PS"
-
-#: src/lincity/lintypes.cpp:154
-#: src/lincity/modules/road.cpp:47
-msgid "Road"
-msgstr "Estrada"
-
-#: src/lincity/lintypes.cpp:166
-msgid "Lt. Industry"
-msgstr "Ind??stria peq."
-
-#: src/lincity/lintypes.cpp:178
-#: src/lincity/modules/university.cpp:67
-msgid "University"
-msgstr "Universidade"
-
-#: src/lincity/lintypes.cpp:190
-#: src/lincity/modules/commune.cpp:146
-msgid "Commune"
-msgstr "Comuna"
-
-#: src/lincity/lintypes.cpp:202
-msgid "Ore mine"
-msgstr "Mina de min??rio"
-
-#: src/lincity/lintypes.cpp:214
-msgid "Rubbish tip"
-msgstr "Aterro"
-
-#: src/lincity/lintypes.cpp:226
-#: src/lincity/modules/port.cpp:173
-#: src/lincity-ng/Dialog.cpp:540
-msgid "Port"
-msgstr "Porto"
-
-#: src/lincity/lintypes.cpp:238
-msgid "Hv. Industry"
-msgstr "Ind??stria grd"
-
-#: src/lincity/lintypes.cpp:250
-msgid "Park"
-msgstr "Parque"
-
-#: src/lincity/lintypes.cpp:262
-#: src/lincity-ng/MpsInterface.cpp:516
-msgid "Recycle"
-msgstr "Reciclagem"
-
-#: src/lincity/lintypes.cpp:274
-#: src/lincity/modules/water.cpp:19
-msgid "Water"
-msgstr "??gua"
-
-#: src/lincity/lintypes.cpp:286
-msgid "Health centre"
-msgstr "Centro de sa??de"
-
-#: src/lincity/lintypes.cpp:298
-msgid "Rocket pad"
-msgstr "??rea de lan??amento"
-
-#: src/lincity/lintypes.cpp:310
-#: src/lincity/modules/windmill.cpp:73
-#: src/lincity-ng/MpsInterface.cpp:506
-msgid "Windmill"
-msgstr "Moinho de vento"
-
-#: src/lincity/lintypes.cpp:322
-#: src/lincity/modules/monument.cpp:57
-msgid "Monument"
-msgstr "Monumento"
-
-#: src/lincity/lintypes.cpp:334
-#: src/lincity/modules/school.cpp:49
-msgid "School"
-msgstr "Escola"
-
-#: src/lincity/lintypes.cpp:346
-#: src/lincity/modules/blacksmith.cpp:97
-msgid "Blacksmith"
-msgstr "Ferreiro"
-
-#: src/lincity/lintypes.cpp:358
-msgid "Mill"
-msgstr "Moinho"
-
-#: src/lincity/lintypes.cpp:370
-#: src/lincity/modules/pottery.cpp:119
-msgid "Pottery"
-msgstr "Cer??mica"
-
-#: src/lincity/lintypes.cpp:382
-msgid "Fire sta'n"
-msgstr "Bombeiro"
-
-#: src/lincity/lintypes.cpp:394
-#: src/lincity/modules/cricket.cpp:99
-msgid "Sports field"
-msgstr "??rea de esportes"
-
-#: src/lincity/lintypes.cpp:407
-msgid "Burnt"
-msgstr "Queimat??rio"
-
-#: src/lincity/lintypes.cpp:420
-msgid "Shanty town"
-msgstr "Favela"
-
-#: src/lincity/lintypes.cpp:433
-#: src/lincity/modules/residence.cpp:292
-#: src/lincity-ng/MpsInterface.cpp:380
-#: src/lincity-ng/EconomyGraph.cpp:131
-msgid "Fire"
-msgstr "Fogo"
-
-#: src/lincity/lintypes.cpp:446
-msgid "Used"
-msgstr "Usado"
-
-#: src/lincity/lintypes.cpp:458
-msgid "Residential ML"
-msgstr "Residencial ML"
-
-#: src/lincity/lintypes.cpp:470
-msgid "Residential HL"
-msgstr "Residencial HL"
-
-#: src/lincity/lintypes.cpp:482
-msgid "Residential LH"
-msgstr "Residencial LH"
-
-#: src/lincity/lintypes.cpp:494
-msgid "Residential MH"
-msgstr "Residencial MH"
-
-#: src/lincity/lintypes.cpp:506
-msgid "Residential HH"
-msgstr "Residencial HH"
-
-#: src/lincity/lclib.cpp:17
-msgid "Jan"
-msgstr "Jan"
-
-#: src/lincity/lclib.cpp:17
-msgid "Feb"
-msgstr "Fev"
-
-#: src/lincity/lclib.cpp:17
-msgid "Mar"
-msgstr "Mar"
-
-#: src/lincity/lclib.cpp:17
-msgid "Apr"
-msgstr "Abr"
-
-#: src/lincity/lclib.cpp:18
-msgid "May"
-msgstr "Mai"
-
-#: src/lincity/lclib.cpp:18
-msgid "Jun"
-msgstr "Jun"
-
-#: src/lincity/lclib.cpp:18
-msgid "Jul"
-msgstr "Jul"
-
-#: src/lincity/lclib.cpp:18
-msgid "Aug"
-msgstr "Ago"
-
-#: src/lincity/lclib.cpp:19
-msgid "Sep"
-msgstr "Set"
-
-#: src/lincity/lclib.cpp:19
-msgid "Oct"
-msgstr "Out"
-
-#: src/lincity/lclib.cpp:19
-msgid "Nov"
-msgstr "Nov"
-
-#: src/lincity/lclib.cpp:19
-msgid "Dec"
-msgstr "Dez"
-
-#: src/lincity/modules/health_centre.cpp:66
-msgid "Health Centre"
-msgstr "Centro de Sa??de"
-
-#: src/lincity/modules/health_centre.cpp:68
-#: src/lincity/modules/rocket_pad.cpp:169
-#: src/lincity/modules/recycle.cpp:181
-#: src/lincity/modules/mill.cpp:107
-#: src/lincity/modules/university.cpp:74
-#: src/lincity/modules/cricket.cpp:101
-#: src/lincity/modules/pottery.cpp:123
-#: src/lincity/modules/blacksmith.cpp:102
-#: src/lincity/modules/firestation.cpp:121
-#: src/lincity/modules/school.cpp:54
-msgid "Inventory"
-msgstr "Invent??rio"
-
-#: src/lincity/modules/health_centre.cpp:69
-#: src/lincity/modules/rocket_pad.cpp:170
-#: src/lincity/modules/market.cpp:1149
-#: src/lincity/modules/road.cpp:52
-#: src/lincity/modules/rail.cpp:55
-#: src/lincity/modules/coal_power.cpp:105
-#: src/lincity/modules/university.cpp:75
-#: src/lincity/modules/cricket.cpp:102
-#: src/lincity/modules/track.cpp:43
-#: src/lincity/modules/pottery.cpp:124
-#: src/lincity/modules/firestation.cpp:122
-#: src/lincity/modules/school.cpp:55
-msgid "Jobs"
-msgstr "Trabalhos"
-
-#: src/lincity/modules/health_centre.cpp:71
-#: src/lincity/modules/rocket_pad.cpp:172
-#: src/lincity/modules/market.cpp:1153
-#: src/lincity/modules/port.cpp:190
-#: src/lincity/modules/road.cpp:56
-#: src/lincity/modules/rail.cpp:59
-#: src/lincity/modules/mill.cpp:108
-#: src/lincity/modules/university.cpp:77
-#: src/lincity/modules/cricket.cpp:104
-#: src/lincity/modules/track.cpp:47
-#: src/lincity/modules/pottery.cpp:126
-#: src/lincity/modules/blacksmith.cpp:103
-#: src/lincity/modules/firestation.cpp:124
-#: src/lincity/modules/school.cpp:57
-#: src/lincity-ng/MpsInterface.cpp:448
-msgid "Goods"
-msgstr "Bens"
-
-#: src/lincity/modules/rocket_pad.cpp:163
-msgid "Rocket Pad"
-msgstr "??rea do lan??amento"
-
-#: src/lincity/modules/rocket_pad.cpp:166
-msgid "Completion"
-msgstr "Completo"
-
-#: src/lincity/modules/rocket_pad.cpp:174
-#: src/lincity/modules/market.cpp:1157
-#: src/lincity/modules/port.cpp:194
-#: src/lincity/modules/road.cpp:60
-#: src/lincity/modules/rail.cpp:63
-#: src/lincity/modules/light_industry.cpp:368
-#: src/lincity/modules/commune.cpp:156
-#: src/lincity/modules/track.cpp:51
-msgid "Steel"
-msgstr "A??o"
-
-#: src/lincity/modules/windmill.cpp:77
-#: src/lincity/modules/windmill.cpp:88
-#: src/lincity/modules/recycle.cpp:178
-#: src/lincity/modules/coal_power.cpp:107
-#: src/lincity/modules/organic_farm.cpp:196
-#: src/lincity/modules/solar_power.cpp:58
-msgid "Tech"
-msgstr "Tecn"
-
-#: src/lincity/modules/windmill.cpp:80
-msgid "Local Status"
-msgstr "Status Local"
-
-#: src/lincity/modules/windmill.cpp:83
-msgid "Prod."
-msgstr "Prod."
-
-#: src/lincity/modules/windmill.cpp:86
-#: src/lincity/modules/windmill.cpp:101
-#: src/lincity/modules/substation.cpp:108
-msgid "Demand"
-msgstr "Demanda"
-
-#: src/lincity/modules/windmill.cpp:92
-#: src/lincity/modules/substation.cpp:99
-msgid "Grid Status"
-msgstr "Status da Grade"
-
-#: src/lincity/modules/windmill.cpp:95
-#: src/lincity/modules/substation.cpp:102
-msgid "T. Cap."
-msgstr "T. Cap."
-
-#: src/lincity/modules/windmill.cpp:98
-#: src/lincity/modules/substation.cpp:105
-msgid "A. Cap."
-msgstr "A. Cap."
-
-#: src/lincity/modules/windmill.cpp:104
-#: src/lincity/modules/coal_power.cpp:109
-#: src/lincity/modules/substation.cpp:111
-#: src/lincity/modules/power_line.cpp:53
-#: src/lincity/modules/solar_power.cpp:60
-msgid "Grid ID"
-msgstr "Grade ID"
-
-#: src/lincity/modules/water.cpp:22
-#: src/lincity/modules/commune.cpp:151
-#: src/lincity/modules/commune.cpp:153
-#: src/lincity/modules/commune.cpp:155
-#: src/lincity/modules/commune.cpp:157
-#: src/lincity-ng/MpsInterface.cpp:379
-#: src/lincity-ng/MpsInterface.cpp:382
-#: src/lincity-ng/MpsInterface.cpp:385
-msgid "Yes"
-msgstr "Sim"
-
-#: src/lincity/modules/water.cpp:22
-#: src/lincity/modules/commune.cpp:151
-#: src/lincity/modules/commune.cpp:153
-#: src/lincity/modules/commune.cpp:155
-#: src/lincity/modules/commune.cpp:157
-#: src/lincity-ng/MpsInterface.cpp:379
-#: src/lincity-ng/MpsInterface.cpp:382
-#: src/lincity-ng/MpsInterface.cpp:385
-msgid "No"
-msgstr "N??o"
-
-#: src/lincity/modules/water.cpp:23
-msgid "Navigable"
-msgstr "Naveg??vel"
-
-#: src/lincity/modules/recycle.cpp:169
-msgid "Recycling"
-msgstr "Reciclagem"
-
-#: src/lincity/modules/recycle.cpp:170
-msgid "Center"
-msgstr "Centrar"
-
-#: src/lincity/modules/recycle.cpp:173
-#: src/lincity/modules/heavy_industry.cpp:346
-#: src/lincity/modules/mill.cpp:105
-#: src/lincity/modules/light_industry.cpp:370
-#: src/lincity/modules/university.cpp:79
-#: src/lincity/modules/pottery.cpp:121
-#: src/lincity/modules/blacksmith.cpp:100
-#: src/lincity/modules/school.cpp:60
-msgid "Capacity"
-msgstr "Capacidade"
-
-#: src/lincity/modules/recycle.cpp:175
-#: src/lincity/modules/residence.cpp:279
-#: src/lincity/modules/residence.cpp:282
-#: src/lincity/modules/residence.cpp:285
-#: src/lincity/modules/residence.cpp:288
-#: src/lincity/modules/residence.cpp:291
-#: src/lincity/modules/residence.cpp:294
-#: src/lincity/modules/light_industry.cpp:359
-#: src/lincity/modules/organic_farm.cpp:188
-msgid "YES"
-msgstr "SIM"
-
-#: src/lincity/modules/recycle.cpp:175
-#: src/lincity/modules/residence.cpp:279
-#: src/lincity/modules/residence.cpp:282
-#: src/lincity/modules/residence.cpp:285
-#: src/lincity/modules/residence.cpp:288
-#: src/lincity/modules/residence.cpp:291
-#: src/lincity/modules/residence.cpp:294
-#: src/lincity/modules/heavy_industry.cpp:334
-#: src/lincity/modules/light_industry.cpp:359
-msgid "NO"
-msgstr "N??O"
-
-#: src/lincity/modules/recycle.cpp:176
-#: src/lincity/modules/residence.cpp:280
-#: src/lincity/modules/heavy_industry.cpp:337
-#: src/lincity/modules/light_industry.cpp:360
-#: src/lincity/modules/organic_farm.cpp:193
-msgid "Power"
-msgstr "Energia"
-
-#: src/lincity/modules/recycle.cpp:182
-#: src/lincity/modules/heavy_industry.cpp:342
-#: src/lincity/modules/market.cpp:1155
-#: src/lincity/modules/port.cpp:186
-#: src/lincity/modules/road.cpp:58
-#: src/lincity/modules/rail.cpp:61
-#: src/lincity/modules/light_industry.cpp:366
-#: src/lincity/modules/commune.cpp:154
-#: src/lincity/modules/track.cpp:49
-#: src/lincity/modules/pottery.cpp:128
-msgid "Ore"
-msgstr "Min??rio"
-
-#: src/lincity/modules/recycle.cpp:184
-#: src/lincity/modules/market.cpp:1159
-#: src/lincity/modules/road.cpp:62
-#: src/lincity/modules/rail.cpp:65
-#: src/lincity/modules/commune.cpp:158
-#: src/lincity/modules/track.cpp:53
-msgid "Waste"
-msgstr "Desperd??cio"
-
-#: src/lincity/modules/coalmine.cpp:168
-msgid "Coal Mine"
-msgstr "Mina de Carv??o"
-
-#: src/lincity/modules/coalmine.cpp:171
-#: src/lincity/modules/oremine.cpp:187
-msgid "Stock"
-msgstr "Estoque"
-
-#: src/lincity/modules/coalmine.cpp:175
-#: src/lincity/modules/coalmine.cpp:177
-#: src/lincity/modules/oremine.cpp:191
-msgid "Reserve"
-msgstr "Reserva"
-
-#: src/lincity/modules/coalmine.cpp:177
-msgid "EMPTY"
-msgstr "VAZIO"
-
-#: src/lincity/modules/residence.cpp:273
-msgid "Residence"
-msgstr "Resid??ncia"
-
-#: src/lincity/modules/residence.cpp:277
-msgid "People"
-msgstr "Pessoas"
-
-#: src/lincity/modules/residence.cpp:283
-msgid "Fed"
-msgstr "Abastecer"
-
-#: src/lincity/modules/residence.cpp:286
-msgid "Employed"
-msgstr "Empregados"
-
-#: src/lincity/modules/residence.cpp:289
-msgid "Health Cvr"
-msgstr "Sa??de Cvr"
-
-#: src/lincity/modules/residence.cpp:295
-#: src/lincity-ng/MpsInterface.cpp:386
-#: src/lincity-ng/MpsInterface.cpp:514
-msgid "Sport"
-msgstr "Esporte"
-
-#: src/lincity/modules/residence.cpp:297
-#: src/lincity-ng/MpsInterface.cpp:388
-msgid "Pollution"
-msgstr "Polui????o"
-
-#: src/lincity/modules/residence.cpp:299
-#: src/lincity-ng/MpsInterface.cpp:393
-msgid "good"
-msgstr "bom"
-
-#: src/lincity/modules/residence.cpp:299
-msgid "poor"
-msgstr "pobres"
-
-#: src/lincity/modules/residence.cpp:300
-msgid "Job"
-msgstr "Trabalho"
-
-#: src/lincity/modules/monument.cpp:63
-msgid "Wisdom Bestowed"
-msgstr "Reconhecimento adquirido"
-
-#: src/lincity/modules/monument.cpp:67
-#, c-format
-msgid "% Complete"
-msgstr "% Completo"
-
-#: src/lincity/modules/heavy_industry.cpp:323
-msgid "Heavy"
-msgstr "Grande"
-
-#: src/lincity/modules/heavy_industry.cpp:324
-#: src/lincity/modules/light_industry.cpp:355
-msgid "Industry"
-msgstr "Ind??stria"
-
-#: src/lincity/modules/heavy_industry.cpp:329
-#: src/lincity/modules/heavy_industry.cpp:344
-#: src/lincity/modules/market.cpp:1151
-#: src/lincity/modules/port.cpp:182
-#: src/lincity/modules/road.cpp:54
-#: src/lincity/modules/rail.cpp:57
-#: src/lincity/modules/coal_power.cpp:89
-#: src/lincity/modules/coal_power.cpp:103
-#: src/lincity/modules/mill.cpp:112
-#: src/lincity/modules/commune.cpp:152
-#: src/lincity/modules/track.cpp:45
-#: src/lincity/modules/pottery.cpp:130
-#: src/lincity/modules/blacksmith.cpp:105
-#: src/lincity-ng/MpsInterface.cpp:444
-msgid "Coal"
-msgstr "Carv??o"
-
-#: src/lincity/modules/heavy_industry.cpp:331
-msgid "Grid"
-msgstr "Grade"
-
-#: src/lincity/modules/heavy_industry.cpp:339
-#: src/lincity/modules/light_industry.cpp:362
-msgid "Output"
-msgstr "Sa??da"
-
-#: src/lincity/modules/heavy_industry.cpp:340
-#: src/lincity/modules/light_industry.cpp:364
-msgid "Store"
-msgstr "Dep??sito"
-
-#: src/lincity/modules/market.cpp:1147
-#: src/lincity/modules/port.cpp:178
-#: src/lincity/modules/road.cpp:50
-#: src/lincity/modules/rail.cpp:53
-#: src/lincity/modules/mill.cpp:110
-#: src/lincity/modules/track.cpp:41
-msgid "Food"
-msgstr "Comida"
-
-#: src/lincity/modules/port.cpp:198
-#: src/lincity-ng/MpsInterface.cpp:532
-msgid "Total"
-msgstr "Total"
-
-#: src/lincity/modules/rail.cpp:50
-msgid "Rail"
-msgstr "Trilho"
-
-#: src/lincity/modules/coal_power.cpp:90
-#: src/lincity/modules/solar_power.cpp:45
-msgid "Power Station"
-msgstr "Esta????o de Energia"
-
-#: src/lincity/modules/coal_power.cpp:94
-#: src/lincity/modules/solar_power.cpp:49
-msgid "Max Output"
-msgstr "Capacidade M??xima"
-
-#: src/lincity/modules/coal_power.cpp:99
-#: src/lincity/modules/solar_power.cpp:54
-msgid "Current Output"
-msgstr "Capacidade Atual"
-
-#: src/lincity/modules/substation.cpp:95
-msgid "Local Demand"
-msgstr "Demanda Local"
-
-#: src/lincity/modules/mill.cpp:103
-msgid "Textile Mill"
-msgstr "F??brica de Tecido"
-
-#: src/lincity/modules/oremine.cpp:184
-msgid "Ore Mine"
-msgstr "Mina de Min??rio"
-
-#: src/lincity/modules/power_line.cpp:50
-msgid "Power Line"
-msgstr "Linha de Transmiss??o"
-
-#: src/lincity/modules/light_industry.cpp:354
-msgid "Light"
-msgstr "Pequena"
-
-#: src/lincity/modules/university.cpp:69
-msgid "Tech Produced"
-msgstr "Tecnologia Produzida"
-
-#: src/lincity/modules/tip.cpp:109
-msgid "Landfill"
-msgstr "Dep??sito de Lixo"
-
-#: src/lincity/modules/tip.cpp:112
-msgid "Last Month"
-msgstr "??ltimo M??s"
-
-#: src/lincity/modules/tip.cpp:113
-msgid "Tons"
-msgstr "Tons"
-
-#: src/lincity/modules/tip.cpp:114
-msgid "Percent"
-msgstr "Porcento"
-
-#: src/lincity/modules/tip.cpp:117
-#, c-format
-msgid "% Filled"
-msgstr "% FCompleto"
-
-#: src/lincity/modules/commune.cpp:149
-msgid "Activity"
-msgstr "Atividade"
-
-#: src/lincity/modules/firestation.cpp:119
-msgid "Fire Station"
-msgstr "Corpo de Bombeiros"
-
-#: src/lincity/modules/organic_farm.cpp:183
-msgid "Organic Farm"
-msgstr "Fazenda Org??nica"
-
-#: src/lincity/modules/organic_farm.cpp:190
-msgid "NO "
-msgstr "N??O "
-
-#: src/lincity/modules/organic_farm.cpp:200
-msgid "Prod"
-msgstr "Prod"
-
-#: src/lincity/modules/school.cpp:51
-msgid "Lessons Learned"
-msgstr "Li????es Aprendidas"
-
-#: src/lincity/modules/solar_power.cpp:44
-msgid "Solar"
-msgstr "Solar"
-
-#: src/lincity-ng/Dialog.cpp:173
-msgid "Launchsite"
-msgstr "Terreno Inicial"
-
-#: src/lincity-ng/Dialog.cpp:341
-#: src/lincity-ng/Dialog.cpp:342
-msgid "----- IN TEST MODE -------"
-msgstr "----- NO MODO TESTE -------"
-
-#: src/lincity-ng/Dialog.cpp:344
-#, c-format
-msgid "Game statistics from LinCity-NG Version %s"
-msgstr "Estat??sticas de jogo do LinCity-NG Vers??o %s"
-
-#: src/lincity-ng/Dialog.cpp:348
-#, c-format
-msgid "Initial loaded scene - %s"
-msgstr "Cena inicial aberta - %s"
-
-#: src/lincity-ng/Dialog.cpp:353
-#, c-format
-msgid "Economy is sustainable"
-msgstr "A economia ?? sustent??vel"
-
-#: src/lincity-ng/Dialog.cpp:357
-#, c-format
-msgid "Population  %d  of which  %d  are not housed."
-msgstr "A popula????o ?? de  %d  dos quais  %d  s??o sem teto."
-
-#: src/lincity-ng/Dialog.cpp:362
-#, c-format
-msgid "Max population %d  Number evacuated %d Total births %d"
-msgstr "Popula????o m??xima %d  N??mero de evacuados %d Total de nascimentos %d"
-
-#: src/lincity-ng/Dialog.cpp:367
-#, c-format
-msgid "Date %s %04d  Money %8d   Tech-level %5.1f (%5.1f)"
-msgstr "Data %s %04d  Dinheiro %8d  N??vel Tecnologico %5.1f (%5.1f)"
-
-#: src/lincity-ng/Dialog.cpp:374
-#, c-format
-msgid ".Deaths by starvation %7d   History %8.3f"
-msgstr ".Mortos pela fome %7d   Hist??rico %8.3f"
-
-#: src/lincity-ng/Dialog.cpp:379
-#, c-format
-msgid "Deaths from pollution %7d   History %8.3f"
-msgstr "Mortos pela polui????o %7d   Hist??rico %8.3f"
-
-#: src/lincity-ng/Dialog.cpp:383
-#, c-format
-msgid "Years of unemployment %7d   History %8.3f"
-msgstr "Anos de desemprego %7d   Hist??rico %8.3f"
-
-#: src/lincity-ng/Dialog.cpp:387
-#, c-format
-msgid "Rockets launched %2d  Successful launches %2d"
-msgstr "Foguetes lan??ados %2d  Lan??amentos bem sucedidos %2d"
-
-#: src/lincity-ng/Dialog.cpp:397
-#, c-format
-msgid ".   Residences %4d         Markets %4d            Farms %4d"
-msgstr ".   Resid??ncias %4d         Mercados %4d          Fazendas %4d"
-
-#: src/lincity-ng/Dialog.cpp:408
-#, c-format
-msgid ".       Tracks %4d           Roads %4d             Rail %4d"
-msgstr ".        Pistas %4d           Estradas %4d         Trilhos %4d"
-
-#: src/lincity-ng/Dialog.cpp:413
-#, c-format
-msgid ".    Potteries %4d     Blacksmiths %4d            Mills %4d"
-msgstr ".     Olarias %4d     Ferreiros %4d            Moinhos %4d"
-
-#: src/lincity-ng/Dialog.cpp:418
-#, c-format
-msgid ".    Monuments %4d         Schools %4d     Universities %4d"
-msgstr ".    Monumentos %4d       Escolas %4d     Universidades %4d"
-
-#: src/lincity-ng/Dialog.cpp:423
-#, c-format
-msgid ".Fire stations %4d           Parks %4d    Sports fields %4d"
-msgstr ".Bombeiros %4d            Parques %4d  ??rea de Esporte %4d"
-
-#: src/lincity-ng/Dialog.cpp:428
-#, c-format
-msgid ".   Coal mines %4d       Ore mines %4d         Communes %4d"
-msgstr ".   Minas de carv??o %4d   Minas de min??rio %4d    Comunas %4d"
-
-#: src/lincity-ng/Dialog.cpp:433
-#, c-format
-msgid ".    Windmills %4d     Coal powers %4d     Solar powers %4d"
-msgstr ".   Moinhos de vento %4d   Usinas de carv??o %4d   Usinas solares %4d"
-
-#: src/lincity-ng/Dialog.cpp:439
-#, c-format
-msgid ".  Substations %4d     Power lines %4d            Ports %4d"
-msgstr ".  Sub-esta????es %4d   Linhas de transmiss??o %4d   Portos %4d"
-
-#: src/lincity-ng/Dialog.cpp:444
-#, c-format
-msgid ".   Light inds %4d      Heavy inds %4d        Recyclers %4d"
-msgstr ".    Ind??stias peq %4d      Ind??strias grd %4d  Centros de reciclagem %4d"
-
-#: src/lincity-ng/Dialog.cpp:449
-#, c-format
-msgid "Health centres %4d            Tips %4d         Shanties %4d"
-msgstr "Centros de sa??de %4d         Aterros %4d         Favelas %4d"
-
-#: src/lincity-ng/GameView.cpp:236
-msgid "Minimap: outline map"
-msgstr "Minimapa: mapa do esbo??o"
-
-#: src/lincity-ng/GameView.cpp:239
-msgid "Minimap: unemployment"
-msgstr "Minimapa: desemprego"
-
-#: src/lincity-ng/GameView.cpp:242
-msgid "Minimap: pollution"
-msgstr "Minimapa: polui????o"
-
-#: src/lincity-ng/GameView.cpp:245
-msgid "Minimap: nourishments"
-msgstr "Minimapa: alimenta????o"
-
-#: src/lincity-ng/GameView.cpp:248
-msgid "Minimap: power supply"
-msgstr "Minimapa: Linha de transmiss??o"
-
-#: src/lincity-ng/GameView.cpp:251
-msgid "Minimap: firedepartment cover"
-msgstr "Minimapa: cobertura contra fogo"
-
-#: src/lincity-ng/GameView.cpp:254
-msgid "Minimap: sport cover"
-msgstr "Minimapa: cobertura de esportes"
-
-#: src/lincity-ng/GameView.cpp:257
-msgid "Minimap: medical care"
-msgstr "Minimapa: cuidados m??dicos"
-
-#: src/lincity-ng/GameView.cpp:260
-msgid "Minimap: coal depots"
-msgstr "Minimapa: Dep??sitos de carv??o"
-
-#: src/lincity-ng/GameView.cpp:263
-msgid "Minimap: traffic density"
-msgstr "Minimapa: densidade do tr??fego"
-
-#: src/lincity-ng/GameView.cpp:1515
-msgid "Estimated Bulldoze Cost: "
-msgstr "Custo Estimado de Destrui????o:"
-
-#: src/lincity-ng/GameView.cpp:1517
-msgid "Bulldoze Cost: "
-msgstr "Custo de Destrui????o:"
-
-#: src/lincity-ng/GameView.cpp:1520
-#: src/lincity-ng/GameView.cpp:1551
-#: src/lincity-ng/ScreenInterface.cpp:269
-msgid "$"
-msgstr "$"
-
-#: src/lincity-ng/GameView.cpp:1522
-msgid "n/a"
-msgstr "n/d"
-
-#: src/lincity-ng/GameView.cpp:1540
-msgid "Query Tool: Show information about selected building."
-msgstr "Ferr. de Pesquisa: Exibe informa????es sobre a constru????o selecionada."
-
-#: src/lincity-ng/GameView.cpp:1544
-msgid "Bulldozer: remove building -price varies-"
-msgstr "Niveladora: remover contru????o -valor vari??vel-"
-
-#: src/lincity-ng/GameView.cpp:1551
-msgid ": Cost to build "
-msgstr ": Custo de contru????o "
-
-#: src/lincity-ng/GameView.cpp:1552
-msgid ", to bulldoze "
-msgstr ", para destruir "
-
-#: src/lincity-ng/GameView.cpp:1552
-#: src/lincity-ng/GameView.cpp:1555
-msgid "$."
-msgstr "$."
-
-#: src/lincity-ng/GameView.cpp:1554
-msgid " To build "
-msgstr " Para construir "
-
-#: src/lincity-ng/GameView.cpp:1554
-msgid " of them "
-msgstr " deles "
-
-#: src/lincity-ng/GameView.cpp:1555
-msgid "will cost about "
-msgstr "custar?? em torno de "
-
-#: src/lincity-ng/MainMenu.cpp:175
-msgid "empty"
-msgstr "vazio"
-
-#: src/lincity-ng/MpsInterface.cpp:224
-msgid "build something here"
-msgstr "contruir algo aqui"
-
-#: src/lincity-ng/MpsInterface.cpp:226
-msgid "no further information available"
-msgstr "sem mais informa????es dispon??veis"
-
-#: src/lincity-ng/MpsInterface.cpp:378
-msgid "Coverage"
-msgstr "Cobertura"
-
-#: src/lincity-ng/MpsInterface.cpp:383
-msgid "Health"
-msgstr "Sa??de"
-
-#: src/lincity-ng/MpsInterface.cpp:391
-msgid "clear"
-msgstr "limpar"
-
-#: src/lincity-ng/MpsInterface.cpp:395
-msgid "fair"
-msgstr "feira"
-
-#: src/lincity-ng/MpsInterface.cpp:397
-msgid "smelly"
-msgstr "fedorento"
-
-#: src/lincity-ng/MpsInterface.cpp:399
-msgid "smokey"
-msgstr "fuma??a"
-
-#: src/lincity-ng/MpsInterface.cpp:401
-msgid "smoggy"
-msgstr "neblina"
-
-#: src/lincity-ng/MpsInterface.cpp:403
-msgid "bad"
-msgstr "mau"
-
-#: src/lincity-ng/MpsInterface.cpp:405
-msgid "very bad"
-msgstr "muito mau"
-
-#: src/lincity-ng/MpsInterface.cpp:407
-msgid "death!"
-msgstr "morte!"
-
-#: src/lincity-ng/MpsInterface.cpp:412
-msgid "Bulldoze Cost"
-msgstr "Destruir Custa"
-
-#: src/lincity-ng/MpsInterface.cpp:418
-msgid "N/A"
-msgstr "N/D"
-
-#: src/lincity-ng/MpsInterface.cpp:436
-msgid "Tax Income"
-msgstr "Taxa de Entrada"
-
-#: src/lincity-ng/MpsInterface.cpp:440
-msgid "Income"
-msgstr "Rendimento"
-
-#: src/lincity-ng/MpsInterface.cpp:452
-msgid "Export"
-msgstr "Exportar"
-
-#: src/lincity-ng/MpsInterface.cpp:456
-msgid "Expenses"
-msgstr "Gastos"
-
-#: src/lincity-ng/MpsInterface.cpp:460
-msgid "Unemp."
-msgstr "Desemp."
-
-#: src/lincity-ng/MpsInterface.cpp:464
-msgid "Transport"
-msgstr "Transportador"
-
-#: src/lincity-ng/MpsInterface.cpp:468
-msgid "Imports"
-msgstr "Importa????es"
-
-#: src/lincity-ng/MpsInterface.cpp:472
-msgid "Others"
-msgstr "Outros"
-
-#: src/lincity-ng/MpsInterface.cpp:477
-msgid "Net"
-msgstr "Rede"
-
-#: src/lincity-ng/MpsInterface.cpp:489
-msgid "Other Costs"
-msgstr "Outos Custos"
-
-#: src/lincity-ng/MpsInterface.cpp:494
-msgid "For year"
-msgstr "Por ano"
-
-#: src/lincity-ng/MpsInterface.cpp:498
-msgid "Interest"
-msgstr "Interesse"
-
-#: src/lincity-ng/MpsInterface.cpp:500
-msgid "Schools"
-msgstr "Escolas"
-
-#: src/lincity-ng/MpsInterface.cpp:502
-msgid "Univers."
-msgstr "Universidades"
-
-#: src/lincity-ng/MpsInterface.cpp:504
-msgid "Deaths"
-msgstr "Mortes"
-
-#: src/lincity-ng/MpsInterface.cpp:508
-msgid "Hospital"
-msgstr "Hospital"
-
-#: src/lincity-ng/MpsInterface.cpp:510
-msgid "Rockets"
-msgstr "Foguetes"
-
-#: src/lincity-ng/MpsInterface.cpp:512
-msgid "Fire Stn"
-msgstr "Bombeiro"
-
-#: src/lincity-ng/MpsInterface.cpp:530
-msgid "Population"
-msgstr "Popula????o"
-
-#: src/lincity-ng/MpsInterface.cpp:533
-msgid "Housed"
-msgstr "Com casa"
-
-#: src/lincity-ng/MpsInterface.cpp:534
-msgid "Homeless"
-msgstr "Sem casa"
-
-#: src/lincity-ng/MpsInterface.cpp:535
-msgid "Shanties"
-msgstr "Favelados"
-
-#: src/lincity-ng/MpsInterface.cpp:536
-msgid "Unn Dths"
-msgstr "Unn Dths"
-
-#: src/lincity-ng/MpsInterface.cpp:537
-msgid "Unemployment"
-msgstr "Desempregados"
-
-#: src/lincity-ng/MpsInterface.cpp:538
-msgid "Claims"
-msgstr "Reclama????es"
-
-#: src/lincity-ng/MpsInterface.cpp:539
-#: src/lincity-ng/MpsInterface.cpp:544
-msgid "Rate"
-msgstr "Taxa"
-
-#: src/lincity-ng/MpsInterface.cpp:541
-msgid "Starvation"
-msgstr "Fome"
-
-#: src/lincity-ng/MpsInterface.cpp:542
-msgid "Cases"
-msgstr "Acontecimentos"
-
-#: src/lincity-ng/EconomyGraph.cpp:121
-msgid "Mining"
-msgstr "Minera????o"
-
-#: src/lincity-ng/EconomyGraph.cpp:123
-msgid "Trade"
-msgstr "Com??rcio"
-
-#: src/lincity-ng/EconomyGraph.cpp:125
-msgid "Money"
-msgstr "Dinheiro"
-
-#: src/lincity-ng/EconomyGraph.cpp:127
-msgid "Popul."
-msgstr "Popul."
-
-#: src/lincity-ng/EconomyGraph.cpp:129
-msgid "Techn."
-msgstr "Tecn."
-
-#: src/lincity-ng/EconomyGraph.cpp:134
-msgid "Economy Overview:"
-msgstr "Vis??o Econ??mica:"
-
-#: src/lincity-ng/EconomyGraph.cpp:137
-msgid "Sustainability:"
-msgstr "Sustentabilidade:"
-
-#: src/lincity-ng/EconomyGraph.cpp:140
-msgid "Frames per Second:"
-msgstr "Quadros por Segundo:"
-
-#: src/lincity-ng/EconomyGraph.cpp:216
-msgid "You lose."
-msgstr "Voc?? perdeu."
-
-#: src/lincity-ng/ButtonPanel.cpp:198
-msgid "Query Tool"
-msgstr "Ferr. de Pesquisa"
-
-#: src/lincity-ng/ButtonPanel.cpp:199
-msgid "Bulldozer"
-msgstr "Niveladora"
-
-#: src/lincity-ng/ButtonPanel.cpp:201
-msgid "Residential: 50 denizens, low birthrate, high deathrate"
-msgstr "Residencial: 50 habitantes, baixo ??ndice de natalidade, alta mortalidade"
-
-#: src/lincity-ng/ButtonPanel.cpp:202
-msgid "Residential: 100 denizens, high birthrate, low deathrate"
-msgstr "Residencial: 100 habitantes, alto ??ndice de natalidade, baixa mortalidade"
-
-#: src/lincity-ng/ButtonPanel.cpp:203
-msgid "Residential: 200 denizens, high birthrate, high deathrate"
-msgstr "Residencial: 200 habitantes, alto ??ndice de natalidade, alta mortalidade"
-
-#: src/lincity-ng/ButtonPanel.cpp:204
-msgid "Residential: 100 denizens, low birthrate, high deathrate"
-msgstr "Residencial: 100 habitantes, baixo ??ndice de natalidade, alta mortalidade"
-
-#: src/lincity-ng/ButtonPanel.cpp:205
-msgid "Residential: 200 denizens, high birthrate, low deathrate"
-msgstr "Residencial: 200 habitantes, alto ??ndice de natalidade, baixa mortalidade"
-
-#: src/lincity-ng/ButtonPanel.cpp:206
-msgid "Residential: 400 denizens, high birthrate, high deathrate"
-msgstr "Residencial: 400 habitantes, alto ??ndice de natalidade, alta mortalidade"
-
-#: src/lincity-ng/ButtonPanel.cpp:215
-msgid " [Click right for help.]"
-msgstr " [Clique com o direito para ajuda.]"
-
-#: src/lincity-ng/ButtonPanel.cpp:243
-#: src/lincity-ng/ButtonPanel.cpp:277
-#, c-format
-msgid "%s (Techlevel %.1f required.)"
-msgstr "%s (N??vel Tecn. %.1f requerido.)"
-
-#: src/lincity-ng/ScreenInterface.cpp:258
-msgid "MM"
-msgstr "MM"
-

Copied: branches/waterwell/data/locale/pt_BR.po (from rev 1194, trunk/data/locale/pt_BR.po)

Modified: branches/waterwell/data/locale/sv.po
===================================================================
--- branches/waterwell/data/locale/sv.po	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/data/locale/sv.po	2007-04-20 15:35:09 UTC (rev 1195)
@@ -9,7 +9,7 @@
 "Project-Id-Version: lincity-ng 1.1.0\n"
 "Report-Msgid-Bugs-To: \n"
 "POT-Creation-Date: 2005-05-12 13:28+0200\n"
-"PO-Revision-Date: 2007-01-28 18:02+0100\n"
+"PO-Revision-Date: 2007-04-11 10:57+0100\n"
 "Last-Translator: Daniel Nylander <po at danielnylander.se>\n"
 "Language-Team: Swedish <tp-sv at listor.tp-sv.se>\n"
 "MIME-Version: 1.0\n"
@@ -155,7 +155,7 @@
 
 #: src/lincity/engine.cpp:737
 msgid "It's at a mill."
-msgstr "Det ??r ett spinneri."
+msgstr "Det ??r en verkstad."
 
 #: src/lincity/engine.cpp:739
 msgid "It's at a pottery."
@@ -329,7 +329,7 @@
 
 #: src/lincity/lintypes.cpp:358
 msgid "Mill"
-msgstr "Spinneri"
+msgstr "Verkstad"
 
 #: src/lincity/lintypes.cpp:370
 #: src/lincity/modules/pottery.cpp:119
@@ -906,7 +906,7 @@
 #: src/lincity-ng/Dialog.cpp:374
 #, c-format
 msgid ".Deaths by starvation %7d   History %8.3f"
-msgstr ".D??da av sv??lt %7d   Historik %8.3f"
+msgstr ".D??da av sv??lt          %7d   Historik %8.3f"
 
 #: src/lincity-ng/Dialog.cpp:379
 #, c-format
@@ -916,7 +916,7 @@
 #: src/lincity-ng/Dialog.cpp:383
 #, c-format
 msgid "Years of unemployment %7d   History %8.3f"
-msgstr "??r av arbetsl??shet %7d   Historik %8.3f"
+msgstr "??r av arbetsl??shet      %7d   Historik %8.3f"
 
 #: src/lincity-ng/Dialog.cpp:387
 #, c-format
@@ -926,52 +926,52 @@
 #: src/lincity-ng/Dialog.cpp:397
 #, c-format
 msgid ".   Residences %4d         Markets %4d            Farms %4d"
-msgstr ".   Bost??der %4d         Marknader %4d            Bondg??rdar %4d"
+msgstr ".     Bost??der %4d       Marknader %4d       Bondg??rdar %4d"
 
 #: src/lincity-ng/Dialog.cpp:408
 #, c-format
 msgid ".       Tracks %4d           Roads %4d             Rail %4d"
-msgstr ".       Sp??r %4d           V??gar %4d             J??rnv??g %4d"
+msgstr ".         Sp??r %4d           V??gar %4d          J??rnv??g %4d"
 
 #: src/lincity-ng/Dialog.cpp:413
 #, c-format
 msgid ".    Potteries %4d     Blacksmiths %4d            Mills %4d"
-msgstr ".    Keramikfabriker %4d     Smedjor %4d            Spinnerier %4d"
+msgstr ".Keramikfabrik %4d         Smedjor %4d       Verkst??der %4d"
 
 #: src/lincity-ng/Dialog.cpp:418
 #, c-format
 msgid ".    Monuments %4d         Schools %4d     Universities %4d"
-msgstr ".    Monument %4d         Skolor %4d     Universitet %4d"
+msgstr ".     Monument %4d          Skolor %4d      Universitet %4d"
 
 #: src/lincity-ng/Dialog.cpp:423
 #, c-format
 msgid ".Fire stations %4d           Parks %4d    Sports fields %4d"
-msgstr ". Brandstationer %4d           Parker %4d    Sportarenor %4d"
+msgstr ". Brandstation %4d          Parker %4d      Sportarenor %4d"
 
 #: src/lincity-ng/Dialog.cpp:428
 #, c-format
 msgid ".   Coal mines %4d       Ore mines %4d         Communes %4d"
-msgstr ".   Kolgruvor %4d       Malmgruvor %4d         Kolmilor %4d"
+msgstr ".    Kolgruvor %4d      Malmgruvor %4d         Kolmilor %4d"
 
 #: src/lincity-ng/Dialog.cpp:433
 #, c-format
 msgid ".    Windmills %4d     Coal powers %4d     Solar powers %4d"
-msgstr ".    V??derkvarnar %4d     Kolkraft %4d     Solkraft %4d"
+msgstr ". V??derkvarnar %4d        Kolkraft %4d         Solkraft %4d"
 
 #: src/lincity-ng/Dialog.cpp:439
 #, c-format
 msgid ".  Substations %4d     Power lines %4d            Ports %4d"
-msgstr ".  Rel??stationer %4d     Kraftledningar %4d            Hamnar %4d"
+msgstr ".Rel??stationer %4d    Kraftledning %4d           Hamnar %4d"
 
 #: src/lincity-ng/Dialog.cpp:444
 #, c-format
 msgid ".   Light inds %4d      Heavy inds %4d        Recyclers %4d"
-msgstr ".   Industri %4d      Tung industri %4d        ??tervinning %4d"
+msgstr ".   Industrier %4d   Tung industri %4d      ??tervinning %4d"
 
 #: src/lincity-ng/Dialog.cpp:449
 #, c-format
 msgid "Health centres %4d            Tips %4d         Shanties %4d"
-msgstr "Sjukhus %4d            Soptippar %4d         K??kst??der %4d"
+msgstr "       Sjukhus %4d       Soptippar %4d        K??kst??der %4d"
 
 #: src/lincity-ng/GameView.cpp:236
 msgid "Minimap: outline map"

Modified: branches/waterwell/src/gui/Painter.hpp
===================================================================
--- branches/waterwell/src/gui/Painter.hpp	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/src/gui/Painter.hpp	2007-04-20 15:35:09 UTC (rev 1195)
@@ -34,9 +34,9 @@
 public:
     virtual ~Painter()
     { }
-    
+
     virtual void drawTexture(const Texture* texture, const Vector2& pos) = 0;
-    virtual void drawStretchTexture(const Texture* texture, const Rect2D& rect) = 0;
+    virtual void drawStretchTexture(Texture* texture, const Rect2D& rect) = 0;
     virtual void fillRectangle(const Rect2D& rect) = 0;
     virtual void drawRectangle(const Rect2D& rect) = 0;
     virtual void fillPolygon(int numberPoints, const Vector2* points) = 0;

Modified: branches/waterwell/src/gui/PainterGL/PainterGL.cpp
===================================================================
--- branches/waterwell/src/gui/PainterGL/PainterGL.cpp	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/src/gui/PainterGL/PainterGL.cpp	2007-04-20 15:35:09 UTC (rev 1195)
@@ -36,21 +36,40 @@
 PainterGL::~PainterGL()
 {
     glDisable(GL_BLEND);
-    glDisable(GL_TEXTURE_2D);       
+    glDisable(GL_TEXTURE_2D);
 }
 
 void
+PainterGL::drawTextureRect(const Texture* texture, const Rect2D& rect)
+{
+    const TextureGL* textureGL = static_cast<const TextureGL*> (texture);
+    const Rect2D& r = textureGL->rect;
+
+    glColor4ub( 0xff, 0xff, 0xff, 0xff );
+
+    glBindTexture(GL_TEXTURE_2D, textureGL->handle);
+    glBegin(GL_QUADS);
+    glTexCoord2f(r.p1.x, r.p1.y);
+    glVertex3f(rect.p1.x, rect.p1.y, 0);
+    glTexCoord2f(r.p1.x, r.p2.y);
+    glVertex3f(rect.p1.x, rect.p2.y, 0);
+    glTexCoord2f(r.p2.x, r.p2.y);
+    glVertex3f(rect.p2.x, rect.p2.y, 0);
+    glTexCoord2f(r.p2.x, r.p1.y);
+    glVertex3f(rect.p2.x, rect.p1.y, 0);
+    glEnd();
+}
+void
 PainterGL::drawTexture(const Texture* texture, const Vector2& pos)
 {
     Rect2D rect(pos, pos + Vector2(texture->getWidth(), texture->getHeight()));
-    drawStretchTexture(texture, rect);
+    drawTextureRect(texture, rect);
 }
 
 void
-PainterGL::drawStretchTexture(const Texture* texture, const Rect2D& rect)
+PainterGL::drawStretchTexture(Texture* texture, const Rect2D& rect)
 {
     assert(typeid(*texture) == typeid(TextureGL));
-    const TextureGL* textureGL = static_cast<const TextureGL*> (texture);
 
     if(texture == 0) {
         std::cerr << "Trying to render 0 texture.";
@@ -59,20 +78,8 @@
 #endif
         return;
     }
-    glColor4ub( 0xff, 0xff, 0xff, 0xff );
 
-    const Rect2D& r = textureGL->rect;
-    glBindTexture(GL_TEXTURE_2D, textureGL->handle);
-    glBegin(GL_QUADS);
-    glTexCoord2f(r.p1.x, r.p1.y);
-    glVertex3f(rect.p1.x, rect.p1.y, 0);
-    glTexCoord2f(r.p1.x, r.p2.y);
-    glVertex3f(rect.p1.x, rect.p2.y, 0);
-    glTexCoord2f(r.p2.x, r.p2.y);
-    glVertex3f(rect.p2.x, rect.p2.y, 0);
-    glTexCoord2f(r.p2.x, r.p1.y);
-    glVertex3f(rect.p2.x, rect.p1.y, 0);
-    glEnd();
+    drawTextureRect(texture, rect);
 }
 
 void
@@ -173,7 +180,7 @@
 PainterGL::pushTransform()
 {
     glMatrixMode(GL_MODELVIEW);
-    glPushMatrix();    
+    glPushMatrix();
 }
 
 void
@@ -188,7 +195,7 @@
 {
     GLfloat matrix[16];
     glGetFloatv(GL_MODELVIEW_MATRIX, matrix);
-        
+
     int screenHeight = SDL_GetVideoSurface()->h;
     glViewport((GLint) (rect.p1.x + matrix[12]),
                (GLint) (screenHeight - rect.getHeight() - (rect.p1.y + matrix[13])),
@@ -197,7 +204,7 @@
     glMatrixMode(GL_PROJECTION);
     glLoadIdentity();
     glOrtho(rect.p1.x + matrix[12], rect.p1.x + matrix[12] + rect.getWidth(),
-            rect.p1.y + matrix[13] + rect.getHeight(), 
+            rect.p1.y + matrix[13] + rect.getHeight(),
             rect.p1.y + matrix[13], -1, 1);
 }
 

Modified: branches/waterwell/src/gui/PainterGL/PainterGL.hpp
===================================================================
--- branches/waterwell/src/gui/PainterGL/PainterGL.hpp	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/src/gui/PainterGL/PainterGL.hpp	2007-04-20 15:35:09 UTC (rev 1195)
@@ -32,9 +32,9 @@
 public:
     PainterGL();
     virtual ~PainterGL();
-    
+
     void drawTexture(const Texture* texture, const Vector2& pos);
-    void drawStretchTexture(const Texture* texture, const Rect2D& rect);
+    void drawStretchTexture(Texture* texture, const Rect2D& rect);
     void fillRectangle(const Rect2D& rect);
     void drawRectangle(const Rect2D& rect);
     void fillPolygon(int numberPoints, const Vector2* points);
@@ -52,10 +52,11 @@
     void setLineColor(Color color);
 
     Painter* createTexturePainter(Texture* texture);
-    
+
 private:
     PainterGL(TextureGL* texture);
-    
+    void drawTextureRect(const Texture* texture, const Rect2D& rect);
+
     class Transform
     {
     public:

Modified: branches/waterwell/src/gui/PainterSDL/PainterSDL.cpp
===================================================================
--- branches/waterwell/src/gui/PainterSDL/PainterSDL.cpp	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/src/gui/PainterSDL/PainterSDL.cpp	2007-04-20 15:35:09 UTC (rev 1195)
@@ -26,6 +26,7 @@
 #include <SDL_opengl.h>
 #include <SDL_gfxPrimitives.h>
 #include <SDL_rotozoom.h>
+#include <SDL_video.h>
 #include <stdlib.h>
 
 #include "TextureSDL.hpp"
@@ -49,12 +50,13 @@
 {
 }
 
+//ERM  this function seems to account for SOME of the slowdown
 void
 PainterSDL::drawTexture(const Texture* texture, const Vector2& pos)
 {
     assert(typeid(*texture) == typeid(TextureSDL));
     const TextureSDL* textureSDL = static_cast<const TextureSDL*> (texture);
-    
+
     if(texture == 0) {
         std::cerr << "Trying to render 0 texture.";
 #ifdef DEBUG
@@ -64,19 +66,54 @@
     }
 
     Vector2 screenpos = transform.apply(pos);
-    
+
     SDL_Rect drect;
     drect.x = lrint(screenpos.x);
     drect.y = lrint(screenpos.y);
     SDL_BlitSurface(textureSDL->surface, 0, target, &drect);
 }
 
+//RectIntersection checks to see if two SDL_Rects intersect each other
+//  This is actually stolen from SDL code (SDL_HasIntersection function in SDL_rect.c),
+//  but I think that's a very recent addition which is not accessible here.
+bool RectIntersection(const SDL_Rect * A, const SDL_Rect * B)
+{
+    int Amin, Amax, Bmin, Bmax;
+
+    // Horizontal intersection
+    Amin = A->x;
+    Amax = Amin + A->w;
+    Bmin = B->x;
+    Bmax = Bmin + B->w;
+    if (Bmin > Amin)
+        Amin = Bmin;
+    if (Bmax < Amax)
+        Amax = Bmax;
+    if (Amax <= Amin)
+        return false;
+
+    // Vertical intersection
+    Amin = A->y;
+    Amax = Amin + A->h;
+    Bmin = B->y;
+    Bmax = Bmin + B->h;
+    if (Bmin > Amin)
+        Amin = Bmin;
+    if (Bmax < Amax)
+        Amax = Bmax;
+    if (Amax <= Amin)
+        return false;
+
+    return true;
+}
+
+//ERM  this function seems to account for MOST of the slowdown
 void
-PainterSDL::drawStretchTexture(const Texture* texture, const Rect2D& rect)
+PainterSDL::drawStretchTexture(Texture* texture, const Rect2D& rect)
 {
     assert(typeid(*texture) == typeid(TextureSDL));
-    const TextureSDL* textureSDL = static_cast<const TextureSDL*> (texture);
-    
+    TextureSDL* textureSDL = static_cast< TextureSDL*> (texture);
+
     if(texture == 0 || texture->getWidth() == 0 || texture->getHeight() == 0) {
         std::cerr << "Trying to render 0 texture.";
 #ifdef DEBUG
@@ -86,8 +123,8 @@
     }
 
     Vector2 screenpos = transform.apply(rect.p1);
-    
-    SDL_Rect drect;
+
+    SDL_Rect drect, cliprect;
     drect.x = lroundf(screenpos.x);
     drect.y = lroundf(screenpos.y);
     // kinda hacky... but zoomSurface sometimes produces 1 pixel too small
@@ -95,16 +132,38 @@
     drect.w = lroundf(rect.getWidth()) /*+ 1*/;
     drect.h = lroundf(rect.getHeight()) /*+ 1*/;
 
+    SDL_GetClipRect(target, &cliprect);  //get the current cliprect for the target
+
+    //This intersection test would not normally be necessary since SDL_BlitSurface
+    //  will only blit to the cliprect and skip others.
+    //  The problem here is that we are zooming all surfaces before blitting, so
+    //  even the clipped rects get zoomed.
+    //  So, the solution is to do the clipping ourselves so that we don't zoom
+    //  surfaces ultimately destined to be clipped.
+    if(!RectIntersection(&drect, &cliprect))
+        return;
+
     double zoomx = drect.w / textureSDL->getWidth();
-    double zoomy = drect.h / textureSDL->getHeight(); 
-    SDL_Surface *tmp 
-        = zoomSurface(textureSDL->surface, zoomx, zoomy, SMOOTHING_OFF);
+    double zoomy = drect.h / textureSDL->getHeight();
+
+    //This code caches zoomed surfaces so that they do not need to be zoomed each blit
+    if(textureSDL->zoomSurface == NULL || zoomx != textureSDL->zoomx || zoomy != textureSDL->zoomy)
+    {
+        textureSDL->setZoomSurface(zoomSurface(textureSDL->surface, zoomx, zoomy, SMOOTHING_OFF), zoomx, zoomy);
+    }
+    SDL_BlitSurface(textureSDL->zoomSurface, 0, target, &drect);
+
+/*
+    //This was the original code that would zoom a surface, blit it, and then free it.
+    SDL_Surface *tmp;
+    tmp = zoomSurface(textureSDL->surface, zoomx, zoomy, SMOOTHING_OFF);
     SDL_BlitSurface(tmp, 0, target, &drect);
     SDL_FreeSurface(tmp);
+*/
 }
 
 
-void 
+void
 PainterSDL::fillPolygon(int numberPoints, const Vector2* points)
 {
     Vector2 screenpos;
@@ -223,8 +282,8 @@
 PainterSDL::createTexturePainter(Texture* texture)
 {
     assert(typeid(*texture) == typeid(TextureSDL));
-    TextureSDL* textureSDL = static_cast<TextureSDL*> (texture);    
-    
+    TextureSDL* textureSDL = static_cast<TextureSDL*> (texture);
+
     return new PainterSDL(textureSDL);
 }
 

Modified: branches/waterwell/src/gui/PainterSDL/PainterSDL.hpp
===================================================================
--- branches/waterwell/src/gui/PainterSDL/PainterSDL.hpp	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/src/gui/PainterSDL/PainterSDL.hpp	2007-04-20 15:35:09 UTC (rev 1195)
@@ -37,9 +37,9 @@
 public:
     PainterSDL(SDL_Surface* target);
     virtual ~PainterSDL();
-    
+
     void drawTexture(const Texture* texture, const Vector2& pos);
-    void drawStretchTexture(const Texture* texture, const Rect2D& rect);
+    void drawStretchTexture(Texture* texture, const Rect2D& rect);
     void fillRectangle(const Rect2D& rect);
     void drawRectangle(const Rect2D& rect);
     void fillPolygon(int numberPoints, const Vector2* points);
@@ -57,10 +57,10 @@
     void setLineColor(Color color);
 
     Painter* createTexturePainter(Texture* texture);
-    
+
 private:
     PainterSDL(TextureSDL* texture);
-    
+
     class Transform
     {
     public:

Modified: branches/waterwell/src/gui/PainterSDL/TextureSDL.cpp
===================================================================
--- branches/waterwell/src/gui/PainterSDL/TextureSDL.cpp	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/src/gui/PainterSDL/TextureSDL.cpp	2007-04-20 15:35:09 UTC (rev 1195)
@@ -22,4 +22,10 @@
 TextureSDL::~TextureSDL()
 {
     SDL_FreeSurface(surface);
+
+    if(zoomSurface)
+    {
+        SDL_FreeSurface(zoomSurface);
+        zoomSurface = NULL;
+    }
 }

Modified: branches/waterwell/src/gui/PainterSDL/TextureSDL.hpp
===================================================================
--- branches/waterwell/src/gui/PainterSDL/TextureSDL.hpp	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/src/gui/PainterSDL/TextureSDL.hpp	2007-04-20 15:35:09 UTC (rev 1195)
@@ -30,7 +30,7 @@
 public:
     virtual ~TextureSDL();
 
-    float getWidth() const 
+    float getWidth() const
     {
         return surface->w;
     }
@@ -38,15 +38,28 @@
     {
         return surface->h;
     }
-    
+
+    void setZoomSurface(SDL_Surface* zs, double zx, double zy)
+    {
+        if(zoomSurface != NULL)
+            SDL_FreeSurface(zoomSurface);
+
+        zoomSurface = zs;
+        zoomx = zx;
+        zoomy = zy;
+    }
 private:
     friend class PainterSDL;
     friend class TextureManagerSDL;
     TextureSDL(SDL_Surface* _surface)
         : surface(_surface)
-    { }
+    {
+        zoomSurface = NULL;
+    }
 
     SDL_Surface* surface;
+    SDL_Surface* zoomSurface;
+    double zoomx,zoomy;
 };
 
 #endif

Modified: branches/waterwell/src/lincity/engine.cpp
===================================================================
--- branches/waterwell/src/lincity/engine.cpp	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/src/lincity/engine.cpp	2007-04-20 15:35:09 UTC (rev 1195)
@@ -935,10 +935,6 @@
 {
   switch (MP_GROUP(x,y))
     {
-    case (GROUP_ORGANIC_FARM):
-      MP_INFO(x,y).int_7 = (int)(((double) MP_INFO(x,y).int_1
-			      * ORGANIC_FARM_FOOD_OUTPUT) / MAX_TECH_LEVEL);
-      break;
     case (GROUP_WINDMILL):
 #ifdef OLD_POWER_CODE
       MP_INFO(x,y).int_5 = (int)(WINDMILL_POWER

Modified: branches/waterwell/src/lincity/modules/blacksmith.cpp
===================================================================
--- branches/waterwell/src/lincity/modules/blacksmith.cpp	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/src/lincity/modules/blacksmith.cpp	2007-04-20 15:35:09 UTC (rev 1195)
@@ -20,10 +20,12 @@
     // int_4 is the animation trigger time
     // int_5 is the % made so far this month
     // int_6 is the % capacity last month
+    // int_7 contains the jobs stored at the blacksmith
   */
   if (MP_INFO(x,y).int_3 < MAX_COAL_AT_BLACKSMITH)
     if (get_coal (x, y, BLACKSMITH_GET_COAL) != 0)
       MP_INFO(x,y).int_3 += BLACKSMITH_GET_COAL;
+
   if (MP_INFO(x,y).int_1 < MAX_GOODS_AT_BLACKSMITH
       && MP_INFO(x,y).int_3 >= BLACKSMITH_COAL_USED)
     {
@@ -33,24 +35,25 @@
 	  MP_INFO(x,y).int_3 -= BLACKSMITH_COAL_USED;
 	}
     }
-  if (get_jobs (x, y, BLACKSMITH_JOBS) != 0)
-    {
-      if (MP_INFO(x,y).int_1 > GOODS_MADE_BY_BLACKSMITH)
-	{
-	  if (put_goods (x, y, GOODS_MADE_BY_BLACKSMITH - 1) != 0)
-	    {
-	      MP_INFO(x,y).int_1 -= (GOODS_MADE_BY_BLACKSMITH - 1);
-	      MP_INFO(x,y).int_2 += (GOODS_MADE_BY_BLACKSMITH - 1);
-	      MP_INFO(x,y).int_5++;
-	    }
-	  else
-	    put_jobs (x, y, BLACKSMITH_JOBS);
+
+  if (MP_INFO(x,y).int_7 < BLACKSMITH_JOBS) {
+  	if (get_jobs (x, y, BLACKSMITH_JOBS))
+		MP_INFO(x,y).int_7 = BLACKSMITH_JOBS;
+  }
+
+  if (MP_INFO(x,y).int_7 >= BLACKSMITH_JOBS) {
+	if (MP_INFO(x,y).int_1 > GOODS_MADE_BY_BLACKSMITH) {
+		if (put_goods (x, y, GOODS_MADE_BY_BLACKSMITH - 1) != 0) {
+		      MP_INFO(x,y).int_1 -= (GOODS_MADE_BY_BLACKSMITH - 1);
+		      MP_INFO(x,y).int_2 += (GOODS_MADE_BY_BLACKSMITH - 1);
+		      MP_INFO(x,y).int_5++;
+		      MP_INFO(x,y).int_7 -= BLACKSMITH_JOBS;
+		}
 	}
-      else
-	put_jobs (x, y, BLACKSMITH_JOBS);
-    }
-  else
+  } else {
     MP_TYPE(x,y) = CST_BLACKSMITH_0;
+  }
+
   if (MP_INFO(x,y).int_2 > BLACKSMITH_BATCH
       && real_time >= MP_INFO(x,y).int_4)
     {

Modified: branches/waterwell/src/lincity/modules/organic_farm.cpp
===================================================================
--- branches/waterwell/src/lincity/modules/organic_farm.cpp	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/src/lincity/modules/organic_farm.cpp	2007-04-20 15:35:09 UTC (rev 1195)
@@ -22,81 +22,110 @@
      // int_4 is the food made last year.
      // int_5 is the random crop rotation key.
      // int_6 is the random month stagger, so they don't all flash at once
-     // int_7 is the tech-level dependent output of a powered farm with a full
-     // workforce.
+     // int_7 is the jobs stored at the farm 
+     // 	up to NG-1.1.0 int_7 was the tech-level dependent output of a
+     // 	 powered farm with full workforce. 
+     // 	= duplicate with int_1.  see below TECH_BONUS.
   */
   int i;
-  if (MP_INFO(x,y).int_5 == 0)	/* this should be done when we create */
+  int has_power = false;
+  int TECH_BONUS = (int)(((double) MP_INFO(x,y).int_1
+			      * ORGANIC_FARM_FOOD_OUTPUT) / MAX_TECH_LEVEL);
 
-    {				/* the area! */
+  /* Animation */
+  if (MP_INFO(x,y).int_5 == 0) {
+      /* this should be done when we create the area! */
+      MP_INFO(x,y).int_5 = (rand () % 4) + 1;
+      MP_INFO(x,y).int_6 = rand () % 300; /* AL1 will be sooner or later redefined as %100. see below */
+  }
 
-      MP_INFO(x,y).int_5 = (rand () % 4) + 1;
-      MP_INFO(x,y).int_6 = rand () % 300;
-    }
+  /* check jobs */
+  if (MP_INFO(x,y).int_7 < FARM_JOBS_USED) {
+  	if (get_jobs (x, y, FARM_JOBS_USED) != 0)
+		MP_INFO(x,y).int_7 += FARM_JOBS_USED;
+	/* adding if (get_jobs ... /2) would allow to have some jobs stored at farm,
+	 * so would smooth the behavior and make farms more resistant to job penury.
+	 * Currently keep previous behavior.
+	 */
+  	else if (get_jobs (x, y, FARM_JOBS_USED / 4) != 0)
+		MP_INFO(x,y).int_7 += FARM_JOBS_USED / 4;
+  	else if (get_jobs (x, y, 1) != 0)
+		MP_INFO(x,y).int_7 += 1;
+  }
+
+  /* check power */
   MP_INFO(x,y).flags &= (0xffffffff - FLAG_POWERED);
-  if (get_jobs (x, y, 1) == 0)
-    put_food (x, y, 30);
-  else if (get_jobs (x, y, FARM_JOBS_USED) != 0)
-    {
-      if (get_power (x, y, ORG_FARM_POWER_REC, 0) != 0)
-	{
-	  if (put_food (x, y, (ORGANIC_FARM_FOOD_OUTPUT
-			       + MP_INFO(x,y).int_7)) == 0)
-	    put_jobs (x, y, FARM_JOBS_USED);
-	  else
-	    MP_INFO(x,y).int_3++;
-	  MP_INFO(x,y).flags |= FLAG_POWERED;
+  if (MP_INFO(x,y).int_7 >= 1) {
+  	/* There are jobs to do some production, so check for power */
+	if (get_power (x, y, ORG_FARM_POWER_REC, 0) != 0) {
+		MP_INFO(x,y).flags |= FLAG_POWERED;
+		has_power = true;
 	}
-      else
-	{
-	  if (put_food (x, y, (ORGANIC_FARM_FOOD_OUTPUT / 4)) == 0)
-	    put_jobs (x, y, FARM_JOBS_USED);
-	  else
-	    MP_INFO(x,y).int_3++;
-	}
-    }
-  else if (get_jobs (x, y, FARM_JOBS_USED / 4) != 0)
-    {
-      if (get_power (x, y, ORG_FARM_POWER_REC, 0) != 0)
-	{
-	  if (put_food (x, y, (ORGANIC_FARM_FOOD_OUTPUT
-			       + (MP_INFO(x,y).int_7 / 4))) == 0)
-	    put_jobs (x, y, FARM_JOBS_USED / 4);
-	  else
-	    MP_INFO(x,y).int_3++;
-	  MP_INFO(x,y).flags |= FLAG_POWERED;
-	}
-      else
-	{
-	  if (put_food (x, y, (ORGANIC_FARM_FOOD_OUTPUT / (4 * 4))) == 0)
-	    put_jobs (x, y, FARM_JOBS_USED / 4);
-	  else
-	    MP_INFO(x,y).int_3++;
-	}
-    }
-  else
-    {
-      if (get_power (x, y, ORG_FARM_POWER_REC, 0) != 0)
-	{
-	  if (put_food (x, y, (ORGANIC_FARM_FOOD_OUTPUT
-			       + (MP_INFO(x,y).int_7 / 8))) != 0)
-	    MP_INFO(x,y).int_3++;
-	  MP_INFO(x,y).flags |= FLAG_POWERED;
-	}
-      else if (put_food (x, y, 30
-			 + (ORGANIC_FARM_FOOD_OUTPUT / (4 * 8))) != 0)
-	MP_INFO(x,y).int_3++;
-    }
+  }
+
+  /* Produce some food */
+  if (MP_INFO(x,y).int_7 >= FARM_JOBS_USED) {
+      if (has_power) {
+	  if (put_food (x, y, (ORGANIC_FARM_FOOD_OUTPUT	+ TECH_BONUS)) != 0) {
+		MP_INFO(x,y).int_3++;
+		MP_INFO(x,y).int_7 -= FARM_JOBS_USED;
+	  }
+      } else {
+	  if (put_food (x, y, (ORGANIC_FARM_FOOD_OUTPUT / 4)) != 0) {
+		MP_INFO(x,y).int_3++;
+		MP_INFO(x,y).int_7 -= FARM_JOBS_USED;
+	  }
+      }
+  } else if (MP_INFO(x,y).int_7 >= FARM_JOBS_USED / 4) {
+      if (has_power) {
+	  if (put_food (x, y, (ORGANIC_FARM_FOOD_OUTPUT + TECH_BONUS / 4)) != 0) {
+		MP_INFO(x,y).int_3++;
+		MP_INFO(x,y).int_7 -= FARM_JOBS_USED / 4;
+	  }
+      } else {
+	  if (put_food (x, y, (ORGANIC_FARM_FOOD_OUTPUT / (4 * 4))) != 0) {
+		MP_INFO(x,y).int_3++;
+		MP_INFO(x,y).int_7 -= FARM_JOBS_USED / 4;
+	  }
+      }
+  } else if (MP_INFO(x,y).int_7 >= 1) {
+      /* got 1 job */
+      if (has_power) {
+	  if (put_food (x, y, (ORGANIC_FARM_FOOD_OUTPUT + (TECH_BONUS / 8))) != 0) {
+	    	MP_INFO(x,y).int_3++;
+		MP_INFO(x,y).int_7 -= 1;
+	  }
+      } else if (put_food (x, y, 30
+			 + (ORGANIC_FARM_FOOD_OUTPUT / (4 * 8))) != 0) {
+	  /* AL1 "small ouch":
+	   * without power output with 1 job is bigger than output with 3 !
+	   * 3 = FARMS_JOBS_USED / 4 
+	   * ORGANIC_FARM_FOOD_OUTPUT = 550 currently (ng_1.1)
+	   */
+	   MP_INFO(x,y).int_3++;
+	   MP_INFO(x,y).int_7 -= 1;
+      }
+  } else {
+      /* AL1 : the farm gives very small amount of food without job. 
+       *  ? Probably needed for start ?
+       *  ? Useful to prevent starvation when no jobs ? 
+       *  The various modules are done in random order, so it should be ok without this.
+       */
+      put_food (x, y, 30);
+      /* note that this does not generate revenu int_3) */
+  }
+
   if ((total_time & 0x7f) == 0)
     if ((MP_INFO(x,y).flags & FLAG_POWERED) != 0)
       get_waste (x, y, 0x80 * ORG_FARM_WASTE_GET);
-  if ((total_time % 1200) == 0)
-    {
+
+  if ((total_time % 1200) == 0) {
       MP_INFO(x,y).int_4 = MP_INFO(x,y).int_3;
       MP_INFO(x,y).int_3 = 0;
-    }
-  i = ((total_time + (MP_INFO(x,y).int_5 * 1200)
-	+ MP_INFO(x,y).int_6) % 4800);
+  }
+
+  i = (total_time + MP_INFO(x,y).int_5 * 1200 + MP_INFO(x,y).int_6) % 4800;
+
   if (i % 300 == 0)
     {
       i /= 300;
@@ -105,7 +134,7 @@
 	{
 	  if (i % 4 == 0)
 	    {
-	      MP_INFO(x,y).int_6 = rand () % 100;
+	      MP_INFO(x,y).int_6 = rand () % 100; /* AL1: initially defined as %300 */
 	    }
 	  switch (i)
 	    {
@@ -178,18 +207,17 @@
 {
   int i = 0;
   const char *p;
+  char text[MPS_INFO_CHARS+1];
 
   /** removed depency on mps_info */
   mps_store_title(i++,_("Organic Farm"));
+  i++;
 
-  char text[MPS_INFO_CHARS+1];
-
   if ((MP_INFO(x,y).flags & FLAG_POWERED) != 0)
     p = _("YES");
   else
     p = _("NO ");
   
-
   snprintf(text, MPS_INFO_CHARS, "%s %s", _("Power"), p);
   mps_store_title(i++,text);
 

Modified: branches/waterwell/src/lincity/power.cpp
===================================================================
--- branches/waterwell/src/lincity/power.cpp	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/src/lincity/power.cpp	2007-04-20 15:35:09 UTC (rev 1195)
@@ -74,7 +74,8 @@
     if(resetgrids) {
         for(int mapx = 0; mapx < WORLD_SIDE_LEN; mapx++) {
             for(int mapy = 0; mapy < WORLD_SIDE_LEN; mapy++) {
-                MP_INFO(mapx,mapy).int_7 = grid_inc-1;
+	    	if (XY_IS_GRID(mapx,mapy))
+                	MP_INFO(mapx,mapy).int_7 = grid_inc-1;
             }
         }
     }

Modified: branches/waterwell/src/lincity-ng/Game.cpp
===================================================================
--- branches/waterwell/src/lincity-ng/Game.cpp	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/src/lincity-ng/Game.cpp	2007-04-20 15:35:09 UTC (rev 1195)
@@ -55,10 +55,10 @@
 
     Button* helpButton = getButton( *gui, "HelpButton" );
     helpButton->clicked.connect( makeCallback(*this, &Game::gameButtonClicked ));
-    
+
     Button* statButton = getButton( *gui, "StatButton" );
     statButton->clicked.connect( makeCallback(*this, &Game::gameButtonClicked ));
-    
+
     Desktop* desktop = dynamic_cast<Desktop*> (gui.get());
     if(desktop == 0)
         throw std::runtime_error("Game UI is not a Desktop Component");
@@ -79,7 +79,7 @@
 
 void Game::backToMainMenu(){
     closeAllDialogs();
-    getButtonPanel()->selectQueryTool(); 
+    getButtonPanel()->selectQueryTool();
     saveCityNG( "9_currentGameNG.scn" );
     running = false;
     quitState = MAINMENU;
@@ -94,7 +94,7 @@
     } else if( name == "StatButton" ) {
         if( !blockingDialogIsOpen ){
             new Dialog( GAME_STATS );
-        }                   
+        }
     } else {
          std::cerr << " Game::gameButtonClicked unknown button '" << name << "'.\n";
     }
@@ -102,7 +102,7 @@
 
 void Game::quickLoad(){
     closeAllDialogs();
-    
+
     //load file
     getGameView()->printStatusMessage( "quick load...");
     std::string filename;
@@ -129,7 +129,7 @@
     std::string fullname;
     char **rc = PHYSFS_enumerateFiles( directory.c_str() );
     char **i;
-    unsigned int pos;
+    size_t pos;
     for (i = rc; *i != NULL; i++) {
         fullname = directory;
         fullname.append( *i );
@@ -141,9 +141,9 @@
         pos = filename.rfind( ".xml" );
         if( pos != std::string::npos ){
             filename.replace( pos, 4 ,"");
-            std::cerr << "--- Examining " << filename << "\n"; 
+            std::cerr << "--- Examining " << filename << "\n";
             helpWindow->showTopic( filename );
-            std::cerr << "\n"; 
+            std::cerr << "\n";
         }
     }
     PHYSFS_freeList(rc);
@@ -178,7 +178,7 @@
                      if( gui_event.keysym.sym == SDLK_b ){
                          getButtonPanel()->toggleBulldozeTool();
                          break;
-                     }   
+                     }
                      if( gui_event.keysym.sym == SDLK_F1 ){
                          helpWindow->showTopic("help");
                          break;
@@ -193,7 +193,7 @@
                      }
 #ifdef DEBUG
                      if( gui_event.keysym.sym == SDLK_F5 ){
-                         testAllHelpFiles(); 
+                         testAllHelpFiles();
                          break;
                      }
 #endif
@@ -241,10 +241,10 @@
             SDL_Delay(10);
         }
         frame++;
-        
+
         if(ticks - fpsTicks > 1000) {
 #ifdef DEBUG
-            printf("FPS: %d.\n", frame);
+            printf("FPS: %d.\n", (frame*1000) / (ticks - fpsTicks));
 #endif
             getEconomyGraph()->newFPS( frame );
             frame = 0;

Modified: branches/waterwell/src/lincity-ng/HelpWindow.cpp
===================================================================
--- branches/waterwell/src/lincity-ng/HelpWindow.cpp	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/src/lincity-ng/HelpWindow.cpp	2007-04-20 15:35:09 UTC (rev 1195)
@@ -22,6 +22,7 @@
 #include <sstream>
 #include <stdexcept>
 #include <iostream>
+#include <memory>
 #include <physfs.h>
 #include "tinygettext/gettext.hpp"
 #include "gui/Component.hpp"
@@ -100,6 +101,20 @@
     if(PHYSFS_exists(filename.c_str()))
        return filename;
 
+    // try short language, eg. "de" instead of "de_CH"
+    std::string language = dictionaryManager->get_language();
+    std::string::size_type pos = language.find("_");
+    if(pos != std::string::npos) {
+        language = std::string(language, 0, pos);
+        filename = "help/";
+        filename += language + "/";
+        filename += topic;
+        filename += ".xml";
+        if(PHYSFS_exists(filename.c_str()))
+            return filename;
+    }
+    
+    // try english
     filename = "help/en/";
     filename += topic;
     filename += ".xml";

Modified: branches/waterwell/src/lincity-ng/MainMenu.cpp
===================================================================
--- branches/waterwell/src/lincity-ng/MainMenu.cpp	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/src/lincity-ng/MainMenu.cpp	2007-04-20 15:35:09 UTC (rev 1195)
@@ -672,11 +672,37 @@
         std::cout << "remove( " << mFilename << ")\n";
         remove( mFilename.c_str() );
     }
+    /* Build filename */
     std::stringstream newStart;
-    newStart << slotNr << "_" << (1900 + datetime->tm_year) << "-";
+    newStart << slotNr << "_";
     newStart << std::setfill('0') << std::setw(2);
-    newStart << datetime->tm_mon+1 << "-" << datetime->tm_mday << "_";
-    newStart << datetime->tm_hour << "_" << datetime->tm_min;
+    newStart << ( -100 + datetime->tm_year);
+    newStart << std::setfill('0') << std::setw(2);
+    newStart << datetime->tm_mon+1 << datetime->tm_mday << "-";
+    newStart << std::setfill('0') << std::setw(2);
+    newStart << datetime->tm_hour;
+    newStart << std::setfill('0') << std::setw(2);
+    newStart << datetime->tm_min;
+    newStart << "_Tech";
+    newStart << std::setfill('0') << std::setw(3);
+    newStart << tech_level/10000;
+    newStart << "_Cash";
+    if (total_money >= 0)
+    	newStart << "+";
+    else
+    	newStart << "-";
+    newStart << std::setfill('0') << std::setw(3);
+    int money = abs(total_money);
+    if (money > 1000000) {
+	newStart << money/1000000 << "M";  
+    } else  if(money > 1000){
+	newStart << money/1000 << "K"; 
+    } else {
+	newStart << money/1 << "_";
+    }
+    newStart << "_P";
+    newStart << std::setfill('0') << std::setw(5);
+    newStart << housed_population + people_pool;
     std::string newFilename( newStart.str() ); 
     saveCityNG( newFilename );
     fillLoadMenu( true );

Modified: branches/waterwell/src/lincity-ng/MainMenu.hpp
===================================================================
--- branches/waterwell/src/lincity-ng/MainMenu.hpp	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/src/lincity-ng/MainMenu.hpp	2007-04-20 15:35:09 UTC (rev 1195)
@@ -21,6 +21,8 @@
 #include "main.hpp"
 #include "gui/Paragraph.hpp"
 
+#include <memory>
+
 class Component;
 class Desktop;
 class Button;

Modified: branches/waterwell/src/lincity-ng/MiniMap.hpp
===================================================================
--- branches/waterwell/src/lincity-ng/MiniMap.hpp	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/src/lincity-ng/MiniMap.hpp	2007-04-20 15:35:09 UTC (rev 1195)
@@ -24,6 +24,8 @@
 #include "gui/Texture.hpp"
 #include "MapPoint.hpp"
 
+#include <memory>
+
 class XmlReader;
 class Button;
 class CheckButton;

Modified: branches/waterwell/src/lincity-ng/PBar.cpp
===================================================================
--- branches/waterwell/src/lincity-ng/PBar.cpp	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/src/lincity-ng/PBar.cpp	2007-04-20 15:35:09 UTC (rev 1195)
@@ -92,7 +92,9 @@
      }
     else if(num==PMONEY)
     {
-        if(abs(value)>1000000)
+        if(abs(value)>=1000000000)
+            os<<value/1000000<<"M";
+        else if(abs(value)>1000000)
             os<<value/1000000.0<<"M";
         else if(abs(value)>1000)
             os<<value/1000.0<<"K";

Modified: branches/waterwell/src/tinygettext/TinyGetText.cpp
===================================================================
--- branches/waterwell/src/tinygettext/TinyGetText.cpp	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/src/tinygettext/TinyGetText.cpp	2007-04-20 15:35:09 UTC (rev 1195)
@@ -1,5 +1,5 @@
 //  $Id: tinygettext.cpp,v 1.4 2004/11/25 13:15:56 matzebraun Exp $
-// 
+//
 //  TinyGetText - A small flexible gettext() replacement
 //  Copyright (C) 2004 Ingo Ruhnke <grumbel at gmx.de>
 //
@@ -12,10 +12,11 @@
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-// 
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program; if not, write to the Free Software
 //  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
+
 #include <config.h>
 
 #include <sys/types.h>
@@ -23,8 +24,10 @@
 #if defined (HAVE_DIRENT_H)
 #include <dirent.h>
 #endif
+#include <cstdlib>
 #include <fstream>
 #include <iostream>
+#include <algorithm>
 #include <ctype.h>
 #include <errno.h>
 
@@ -45,7 +48,7 @@
     return text;
 
   iconv_t cd = iconv_open(to_charset.c_str(), from_charset.c_str());
-  
+
   size_t in_len = text.length();
   size_t out_len = text.length()*3; // FIXME: cross fingers that this is enough
 
@@ -175,24 +178,29 @@
   else if (name == "sk") return lang_sk;
   else if (name == "pl") return lang_pl;
   else if (name == "sl") return lang_sl;
-  else return lang_en; 
+  else return lang_en;
 }
 
 DictionaryManager::DictionaryManager()
   : current_dict(&empty_dict)
 {
   parseLocaleAliases();
-
+  // Environment variable LINCITY_LANG overrides language settings.
   const char* lang = getenv( "LINCITY_LANG" );
   if( lang ){
     set_language( lang );
     return;
-  }  
+  }
   // use findlocale to setup language
   FL_Locale *locale;
   FL_FindLocale( &locale, FL_MESSAGES );
-      if( locale->lang)
-        set_language( locale->lang );
+  if(locale->lang) {
+    if (locale->country) {
+      set_language( std::string(locale->lang)+"_"+std::string(locale->country) );
+    } else {
+      set_language( std::string(locale->lang) );
+    }
+  }
   FL_FreeLocale( &locale );
 }
 
@@ -201,18 +209,18 @@
 {
   // try to parse language alias list
   std::ifstream in("/usr/share/locale/locale.alias");
-  
+
   char c = ' ';
   while(in.good() && !in.eof()) {
     while(isspace(c) && !in.eof())
       in.get(c);
-    
+
     if(c == '#') { // skip comments
       while(c != '\n' && !in.eof())
         in.get(c);
       continue;
     }
-    
+
     std::string alias;
     while(!isspace(c) && !in.eof()) {
       alias += c;
@@ -231,7 +239,7 @@
     set_language_alias(alias, language);
   }
 }
-  
+
 Dictionary&
 DictionaryManager::get_dictionary(const std::string& spec)
 {
@@ -253,7 +261,7 @@
       for (SearchPath::iterator p = search_path.begin(); p != search_path.end(); ++p)
         {
           char** files = PHYSFS_enumerateFiles(p->c_str());
-          if(!files) 
+          if(!files)
             {
               std::cerr << "Error: enumerateFiles() failed on " << *p << std::endl;
             }
@@ -261,7 +269,25 @@
             {
               for(const char* const* filename = files;
                       *filename != 0; filename++) {
-                if(std::string(*filename) == lang + ".po") {
+
+                // check if filename matches requested language
+		std::string fname = std::string(*filename);
+		std::string load_from_file = "";
+                if(fname == lang + ".po") {
+		  load_from_file = fname;
+		} else {
+                  std::string::size_type s = lang.find("_");
+                  if(s != std::string::npos) {
+                    std::string lang_short = std::string(lang, 0, s);
+		    if (fname == lang_short + ".po") {
+		      load_from_file = lang_short;
+		    }
+                  }
+		}
+
+	        // if it matched, load dictionary
+		if (load_from_file != "") {
+                  //log_debug << "Loading dictionary for language \"" << lang << "\" from \"" << filename << "\"" << std::endl;
                   std::string pofile = *p + "/" + *filename;
                   try {
                       IFileStream in(pofile);
@@ -302,7 +328,7 @@
           }
           PHYSFS_freeList(files);
         }
-    }  
+    }
   return languages;
 }
 
@@ -342,12 +368,21 @@
   if(i != language_aliases.end()) {
     lang = i->second;
   }
-  
-  std::string::size_type s = lang.find_first_of("_.");
-  if(s == std::string::npos)
-    return lang;
 
-  return std::string(lang, 0, s);  
+  std::string::size_type s = lang.find(".");
+  if(s != std::string::npos) {
+    lang = std::string(lang, 0, s);
+  }
+
+  s = lang.find("_");
+  if(s == std::string::npos) {
+    std::string lang_big = lang;
+    std::transform (lang_big.begin(), lang_big.end(), lang_big.begin(), toupper);
+    lang += "_" + lang_big;
+  }
+
+  return lang;
+
 }
 
 void
@@ -389,7 +424,7 @@
 }
 
 std::string
-Dictionary::translate(const std::string& msgid, const std::string& msgid2, int num) 
+Dictionary::translate(const std::string& msgid, const std::string& msgid2, int num)
 {
   PluralEntries::iterator i = plural_entries.find(msgid);
   std::map<int, std::string>& msgstrs = i->second;
@@ -442,7 +477,7 @@
 }
 
 std::string
-Dictionary::translate(const std::string& msgid) 
+Dictionary::translate(const std::string& msgid)
 {
   Entries::iterator i = entries.find(msgid);
   if (i != entries.end() && !i->second.empty())
@@ -457,7 +492,7 @@
       return msgid;
     }
 }
-  
+
 void
 Dictionary::add_translation(const std::string& msgid, const std::string& ,
                             const std::map<int, std::string>& msgstrs)
@@ -467,8 +502,8 @@
   plural_entries[msgid] = msgstrs;
 }
 
-void 
-Dictionary::add_translation(const std::string& msgid, const std::string& msgstr) 
+void
+Dictionary::add_translation(const std::string& msgid, const std::string& msgstr)
 {
   entries[msgid] = msgstr;
 }
@@ -516,7 +551,7 @@
     // Seperate the header in lines
     typedef std::vector<std::string> Lines;
     Lines lines;
-    
+
     std::string::size_type start = 0;
     for(std::string::size_type i = 0; i < header.length(); ++i)
       {
@@ -550,10 +585,10 @@
 
   void add_token(const Token& token)
   {
-    switch(state) 
+    switch(state)
       {
       case WANT_MSGID:
-        if (token.keyword == "msgid") 
+        if (token.keyword == "msgid")
           {
             current_msgid = token.content;
             state = WANT_MSGID_PLURAL;
@@ -568,13 +603,13 @@
                       << " at line " << line_num << std::endl;
           }
         break;
-    
+
       case WANT_MSGID_PLURAL:
-        if (token.keyword == "msgid_plural") 
+        if (token.keyword == "msgid_plural")
           {
             current_msgid_plural = token.content;
             state = WANT_MSGSTR_PLURAL;
-          } 
+          }
         else
           {
             state = WANT_MSGSTR;
@@ -583,9 +618,9 @@
         break;
 
       case WANT_MSGSTR:
-        if (token.keyword == "msgstr") 
+        if (token.keyword == "msgstr")
           {
-            if (current_msgid == "") 
+            if (current_msgid == "")
               { // .po Header is hidden in the msgid with the empty string
                 parse_header(token.content);
               }
@@ -594,7 +629,7 @@
                 dict.add_translation(current_msgid, convert(token.content, from_charset, to_charset));
               }
             state = WANT_MSGID;
-          } 
+          }
         else
           {
             std::cerr << "tinygettext: expected 'msgstr' keyword, got " << token.keyword 
@@ -603,19 +638,19 @@
         break;
 
       case WANT_MSGSTR_PLURAL:
-        if (has_prefix(token.keyword, "msgstr[")) 
+        if (has_prefix(token.keyword, "msgstr["))
           {
             int num;
             if (sscanf(token.keyword.c_str(), "msgstr[%d]", &num) != 1) 
               {
                 std::cerr << "Error: Couldn't parse: " << token.keyword << std::endl;
-              } 
-            else 
+              }
+            else
               {
                 msgstr_plural[num] = convert(token.content, from_charset, to_charset);
               }
           }
-        else 
+        else
           {
             dict.add_translation(current_msgid, current_msgid_plural, msgstr_plural);
 
@@ -625,18 +660,18 @@
         break;
       }
   }
-  
-  inline int getchar(std::istream& in) 
+
+  inline int getchar(std::istream& in)
   {
     int c = in.get();
     if (c == '\n')
       line_num += 1;
     return c;
   }
-  
+
   void tokenize_po(std::istream& in)
   {
-    enum State { READ_KEYWORD, 
+    enum State { READ_KEYWORD,
                  READ_CONTENT,
                  READ_CONTENT_IN_STRING,
                  SKIP_COMMENT };
@@ -659,8 +694,8 @@
               {
                 // Read a new token
                 token = Token();
-                
-                do { // Read keyword 
+
+                do { // Read keyword
                   token.keyword += c;
                 } while((c = getchar(in)) != EOF && !isspace(c));
                 in.unget();
@@ -672,7 +707,7 @@
           case READ_CONTENT:
             while((c = getchar(in)) != EOF)
               {
-                if (c == '"') { 
+                if (c == '"') {
                   // Found start of content
                   state = READ_CONTENT_IN_STRING;
                   break;
@@ -696,6 +731,7 @@
                   else if (c == 't') token.content += '\t';
                   else if (c == 'r') token.content += '\r';
                   else if (c == '"') token.content += '"';
+                  else if (c == '\\') token.content += '\\';
                   else
                     {
                       std::cout << "Unhandled escape character: " << char(c) << std::endl;
@@ -722,7 +758,7 @@
   }
 };
 
-void read_po_file(Dictionary& dict_, std::istream& in) 
+void read_po_file(Dictionary& dict_, std::istream& in)
 {
   POFileReader reader(in, dict_);
 }

Modified: branches/waterwell/src/tinygettext/TinyGetText.hpp
===================================================================
--- branches/waterwell/src/tinygettext/TinyGetText.hpp	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/src/tinygettext/TinyGetText.hpp	2007-04-20 15:35:09 UTC (rev 1195)
@@ -12,10 +12,11 @@
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-// 
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program; if not, write to the Free Software
 //  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
+
 #ifndef HEADER_TINYGETTEXT_H
 #define HEADER_TINYGETTEXT_H
 
@@ -80,7 +81,7 @@
   std::string translate(const std::string& msgid);
   /** Translate the string \a msgid. */
   const char* translate(const char* msgid);
-    
+
   /** Add a translation from \a msgid to \a msgstr to the dictionary,
       where \a msgid is the singular form of the message, msgid2 the
       plural form and msgstrs a table of translations. The right
@@ -136,7 +137,7 @@
 
   /** Add a directory to the search path for dictionaries */
   void add_directory(const std::string& pathname);
-  
+
   /** Return a set of the available languages in their country code */
   std::set<std::string> get_languages();
 

Modified: branches/waterwell/src/tinygettext/findlocale.cpp
===================================================================
--- branches/waterwell/src/tinygettext/findlocale.cpp	2007-04-20 13:25:01 UTC (rev 1194)
+++ branches/waterwell/src/tinygettext/findlocale.cpp	2007-04-20 15:35:09 UTC (rev 1195)
@@ -1,6 +1,6 @@
 /*
  findlocale-0.46.tar.gz from http://icculus.org/~aspirin/findlocale/
- 
+
 Copyright (C) 2004 Adam D. Moss (the "Author").  All Rights Reserved.
 
 Permission is hereby granted, free of charge, to any person obtaining a copy
@@ -26,6 +26,7 @@
 from the Author.
 
 */
+#include <config.h>
 
 #include <stdlib.h>
 #include <string.h>
@@ -36,6 +37,10 @@
 #include <winnt.h>
 #endif
 
+#ifdef MACOSX
+#include <Carbon/Carbon.h>
+#endif
+
 #include "findlocale.hpp"
 
 static int
@@ -134,6 +139,7 @@
 }
 
 
+#ifndef WIN32
 static int
 accumulate_env(const char *name, FL_Locale *l) {
   char *env;
@@ -147,8 +153,8 @@
   free(lang); free(country); free(variant);
   return 0;
 }
+#endif
 
-
 static void
 canonise_fl(FL_Locale *l) {
   /* this function fixes some common locale-specifying mistakes */
@@ -420,7 +426,9 @@
            FL_Locale *rtn) {
   LANGID langid       = LANGIDFROMLCID(lcid);
   LANGID primary_lang = PRIMARYLANGID(langid);
+#if 0
   LANGID sub_lang     = SUBLANGID(langid);
+#endif
   int i;
   /* try to find an exact primary/sublanguage combo that we know about */
   for (i=0; i<num_both_to_code; ++i) {
@@ -442,7 +450,7 @@
 
 
 FL_Success
-FL_FindLocale(FL_Locale **locale, FL_Domain domain) {
+FL_FindLocale(FL_Locale **locale, FL_Domain /*domain*/) {
   FL_Success success = FL_FAILED;
   FL_Locale *rtn = (FL_Locale*) malloc(sizeof(FL_Locale));
   rtn->lang = NULL;
@@ -466,6 +474,32 @@
 #else
   /* assume unixoid */
   {
+#ifdef MACOSX
+    CFIndex sz;
+    CFArrayRef languages;
+    CFStringRef uxstylelangs;
+    char *uxsl;
+
+    /* get the languages from the user's presets */
+    languages = (CFArrayRef)CFPreferencesCopyValue(CFSTR("AppleLanguages"),
+      kCFPreferencesAnyApplication, kCFPreferencesCurrentUser,
+      kCFPreferencesAnyHost);
+
+    /* join the returned string array into a string separated by colons */
+    uxstylelangs = CFStringCreateByCombiningStrings(kCFAllocatorDefault,
+      languages, CFSTR(":"));
+
+    /* convert this string into a C string */
+    sz = CFStringGetLength(uxstylelangs) + 1;
+    uxsl = (char*)malloc(sz);
+    CFStringGetCString(uxstylelangs, uxsl, sz, kCFStringEncodingISOLatin1);
+
+    /* add it to the list */
+    if (accumulate_locstring(uxsl, rtn)) {
+      success = FL_CONFIDENT;
+    }
+    /* continue the UNIX method */
+#endif
     /* examples: */
     /* sv_SE.ISO_8859-1 */
     /* fr_FR.ISO8859-1 */



