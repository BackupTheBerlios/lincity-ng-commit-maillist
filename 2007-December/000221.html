<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lincity-ng-commit] r1295 - in trunk/src: lincity lincity/modules	lincity-ng
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/lincity-ng-commit/2007-December/index.html" >
   <LINK REL="made" HREF="mailto:lincity-ng-commit%40lists.berlios.de?Subject=Re%3A%20%5BLincity-ng-commit%5D%20r1295%20-%20in%20trunk/src%3A%20lincity%20lincity/modules%0A%09lincity-ng&In-Reply-To=%3C200712011710.lB1HAkxv011874%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000220.html">
   <LINK REL="Next"  HREF="000222.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lincity-ng-commit] r1295 - in trunk/src: lincity lincity/modules	lincity-ng</H1>
    <B>alainb at BerliOS</B> 
    <A HREF="mailto:lincity-ng-commit%40lists.berlios.de?Subject=Re%3A%20%5BLincity-ng-commit%5D%20r1295%20-%20in%20trunk/src%3A%20lincity%20lincity/modules%0A%09lincity-ng&In-Reply-To=%3C200712011710.lB1HAkxv011874%40sheep.berlios.de%3E"
       TITLE="[Lincity-ng-commit] r1295 - in trunk/src: lincity lincity/modules	lincity-ng">alainb at mail.berlios.de
       </A><BR>
    <I>Sat Dec  1 18:10:46 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000220.html">[Lincity-ng-commit] r1294 - in trunk/src: lincity lincity/modules	lincity/unused lincity-ng oldgui
</A></li>
        <LI>Next message: <A HREF="000222.html">[Lincity-ng-commit] r1296 - in trunk/src: lincity lincity/modules	lincity-ng oldgui
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#221">[ date ]</a>
              <a href="thread.html#221">[ thread ]</a>
              <a href="subject.html#221">[ subject ]</a>
              <a href="author.html#221">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: alainb
Date: 2007-12-01 18:10:44 +0100 (Sat, 01 Dec 2007)
New Revision: 1295

Modified:
   trunk/src/lincity-ng/ButtonPanel.cpp
   trunk/src/lincity-ng/EconomyGraph.cpp
   trunk/src/lincity-ng/MainLincity.cpp
   trunk/src/lincity-ng/MapEdit.cpp
   trunk/src/lincity-ng/ScreenInterface.cpp
   trunk/src/lincity/engine.cpp
   trunk/src/lincity/ldsvguts.cpp
   trunk/src/lincity/lintypes.h
   trunk/src/lincity/modules/rocket_pad.cpp
   trunk/src/lincity/power.cpp
   trunk/src/lincity/simulate.cpp
Log:
some clean in headers

Modified: trunk/src/lincity/engine.cpp
===================================================================
--- trunk/src/lincity/engine.cpp	2007-12-01 16:02:45 UTC (rev 1294)
+++ trunk/src/lincity/engine.cpp	2007-12-01 17:10:44 UTC (rev 1295)
@@ -21,6 +21,9 @@
 #include &quot;gui_interface/shared_globals.h&quot;
 
 extern int selected_type_cost;
+extern void ok_dial_box(const char *, int, const char *);
+extern void print_total_money(void);
+
 int last_warning_message_group = 0;
 
 /****** Private functions prototypes *****/

Modified: trunk/src/lincity/ldsvguts.cpp
===================================================================
--- trunk/src/lincity/ldsvguts.cpp	2007-12-01 16:02:45 UTC (rev 1294)
+++ trunk/src/lincity/ldsvguts.cpp	2007-12-01 17:10:44 UTC (rev 1295)
@@ -89,6 +89,13 @@
 
 #define MP_SANITY_CHECK 1
 
+/* Extern resources */
+extern int yn_dial_box(const char *, const char *, const char *, const char *);
+extern void ok_dial_box(const char *, int, const char *);
+extern void prog_box(const char *, int);
+
+extern void print_total_money(void);
+
 /* ---------------------------------------------------------------------- *
  * Private Fn Prototypes
  * ---------------------------------------------------------------------- */

Modified: trunk/src/lincity/lintypes.h
===================================================================
--- trunk/src/lincity/lintypes.h	2007-12-01 16:02:45 UTC (rev 1294)
+++ trunk/src/lincity/lintypes.h	2007-12-01 17:10:44 UTC (rev 1295)
@@ -155,84 +155,6 @@
 extern char *load_graphic(char *);
 
 /*
-  screen functions
-  ****************
-*/
-#ifdef CS_PROFILE
-    extern void FPgl_write(int, int, char *);
-    extern void FPgl_getbox(int, int, int, int, void *);
-    extern void FPgl_putbox(int, int, int, int, void *);
-    extern void FPgl_fillbox(int, int, int, int, int);
-    extern void FPgl_hline(int, int, int, int);
-    extern void FPgl_line(int, int, int, int, int);
-    extern void FPgl_setpixel(int, int, int);
-#endif
-extern void check_power_line_graphics(void);
-extern void check_water_graphics(void);
-extern void check_track_graphics(void);
-extern void check_rail_graphics(void);
-extern void check_road_graphics(void);
-extern int select_power_line_type(int, int, int, int);
-extern int select_water_type(int, int, int, int);
-extern int select_track_type(int, int, int, int);
-extern int select_rail_type(int, int, int, int);
-extern int select_road_type(int, int, int, int);
-extern void update_select_buttons(void);
-extern void draw_main_window_box(int);
-extern void draw_select_button_graphic(int, char *);
-extern void setcustompalette(void);
-extern void clip_main_window(void);
-extern void unclip_main_window(void);
-extern void initfont(void);
-extern void load_scroll_buttons(void);
-extern void draw_scroll_buttons(void);
-extern void update_mini_screen(void);
-extern void draw_mini_screen(void);
-extern void draw_big_mini_screen(void);
-extern void draw_mini_screen_pollution(void);
-extern void draw_mini_screen_fire_cover(void);
-extern void draw_mini_screen_cricket_cover(void);
-extern void draw_mini_screen_health_cover(void);
-extern void draw_mini_screen_ub40(void);
-extern void draw_mini_screen_starve(void);
-extern void draw_mini_screen_coal(void);
-extern void draw_mini_screen_power(void);
-extern void draw_mini_screen_ocost(void);
-extern void draw_mini_screen_port(void);
-extern void draw_mini_screen_cursor(void);
-extern void print_stats(void);
-extern void print_total_money(void);
-int ask_launch_rocket_now(int x, int y);
-void print_date(void);
-extern void draw_market_cb(void);
-extern void clicked_market_cb(int, int);
-extern void close_market_cb(void);
-extern void draw_port_cb(void);
-extern void clicked_port_cb(int, int);
-extern void close_port_cb(void);
-extern int yn_dial_box(const char *, const char *, const char *, const char *);
-extern void ok_dial_box(const char *, int, const char *);
-extern int inv_sbut(int);
-extern void call_select_change_up(int);
-extern void beg_space_pad(const char *, int);
-extern void draw_up_pbar(int, int, int, int);
-extern void draw_down_pbar(int, int, int, int);
-extern void do_pbar_population(int);
-extern void do_pbar_tech(int);
-extern void do_pbar_food(int);
-extern void do_pbar_jobs(int);
-extern void do_pbar_coal(int);
-extern void do_pbar_goods(int);
-extern void do_pbar_ore(int);
-extern void do_pbar_steel(int);
-extern void do_pbar_money(int);
-extern void prog_box(const char *, int);
-/*
-  mouse functions -- are now in mouse.h, where they should be!
-  ***************
-*/
-
-/*
   engine functions
   ****************
 */
@@ -328,127 +250,4 @@
 extern int put_stuff3(Map_Point_Info *, short *, int, int);
 extern int put_stuff4(Map_Point_Info *, short *, int, int);
 
-#if defined SDL
-#   warning &quot;SDL defined&quot;
-#   include &lt;SDL/SDL.h&gt;
-
-    extern void sdl_gl_write(int, int, char *);
-    extern void sdl_gl_getbox(int, int, int, int, void *);
-    extern void sdl_gl_putbox(int, int, int, int, void *);
-    extern void sdl_gl_fillbox(int, int, int, int, Uint32 col);
-    
-    extern void sdl_gl_hline(int x1, int y1, int x2, Uint32 col);
-    extern void sdl_gl_vline(int x1, int y1, int y2, Uint32 col);
-    extern void sdl_gl_line(int x1, int y1, int x2, int y2, Uint32 col);
-    
-    extern void sdl_gl_setpixel(int x, int y, Uint32 col);
-    extern void sdl_gl_setfontcolors(Uint32 bg, Uint32 fg);
-    extern void sdl_gl_setfont(int, int, void *);
-    extern void sdl_gl_enableclipping(void);
-    extern void sdl_gl_setclippingwindow(int, int, int, int);
-    extern void sdl_gl_disableclipping(void);
-    
-    extern void sdl_blit(int x, int y, int w, int h, SDL_Surface *);
-    
-    /* Wait for a key or some other event */
-    extern int sdl_wait_for_key(void);
-    extern int sdl_update_wait_for_key(void);
-    
-    extern int sdl_check_key(void);
-    extern int sdl_update_check_key(void);
-    
-#   define sdl_map_rgb(r,g,b) SDL_MapRGB(display.surface-&gt;format, r, g, b)
-#   define sdl_video() (display.surface)
-#   define sdl_flip() SDL_Flip(display.surface)
-    
-    extern void sdl_clear(Uint32 col);
-    
-#   define Fgl_write(a,b,c) sdl_gl_write(a,b,c)
-#   define Fgl_getbox(a,b,c,d,e) sdl_gl_getbox(a,b,c,d,e)
-#   define Fgl_putbox(a,b,c,d,e) sdl_gl_putbox(a,b,c,d,e)
-#   define Fgl_fillbox(a,b,c,d,e) sdl_gl_fillbox(a,b,c,d,e)
-#   define Fgl_hline(a,b,c,d) sdl_gl_hline(a,b,c,d)
-#   define Fgl_line(a,b,c,d,e) sdl_gl_line(a,b,c,d,e)
-#   define Fgl_setpixel(a,b,c) sdl_gl_setpixel(a,b,c)
-#   define Fgl_setfontcolors(a,b) sdl_gl_setfontcolors(a,b)
-#   define Fgl_setfont(a,b,c) sdl_gl_setfont(a,b,c)
-#   define Fgl_enableclipping() sdl_gl_enableclipping()
-#   define Fgl_setclippingwindow(a,b,c,d) sdl_gl_setclippingwindow(a,b,c,d)
-#   define Fgl_disableclipping() sdl_gl_disableclipping()
-   
-#elif defined LC_X11
-    /* ----- X11 functions ----- */
-    extern void Fgl_write(int, int, const char *);
-    extern void open_write(int, int, const char *);
-    extern void Fgl_getbox(int, int, int, int, void *);
-    extern void Fgl_putbox(int, int, int, int, void *);
-    extern void Fgl_fillbox(int, int, int, int, int);
-    extern void Fgl_hline(int, int, int, int);
-    extern void Fgl_line(int, int, int, int, int);
-    extern void Fgl_setpixel(int, int, int);
-    extern void Fgl_setfontcolors(int, int);
-    extern void Fgl_setfont(int, int, void *);
-    extern void Fgl_enableclipping(void);
-    extern void Fgl_setclippingwindow(int, int, int, int);
-    extern void Fgl_disableclipping(void);
-#   ifdef USE_X11_PIXMAPS
-#       define USE_PIXMAPS
-        extern void init_pixmaps(void);
-        extern void init_icon_pixmap(short);
-        extern void update_pixmap(int, int, int, int, int, int, int, char *);
-#   endif
-    
-#elif defined (WIN32)
-    /* ----- Win32 functions ----- */
-    extern void gl_setpalettecolor(long, long, long, long);
-    extern void Fgl_write(int, int, const char *);
-    extern void open_write(int, int, const char *);
-    extern void Fgl_getbox(int, int, int, int, void *);
-    extern void Fgl_putbox(int, int, int, int, void *);
-    extern void Fgl_fillbox(int, int, int, int, int);
-    extern void Fgl_hline(int, int, int, int);
-    extern void Fgl_line(int, int, int, int, int);
-    extern void Fgl_setpixel(int, int, int);
-    extern void Fgl_setfontcolors(int, int);
-    extern void Fgl_setfont(int, int, void *);
-    extern void Fgl_enableclipping(void);
-    extern void Fgl_setclippingwindow(int, int, int, int);
-    extern void Fgl_disableclipping(void);
-#   define USE_PIXMAPS             /* Always */
-    extern void init_pixmaps(void);
-    extern void init_icon_pixmap(short);
-    extern void update_pixmap(int, int, int, int, int, int, int, char *);
-    
-#else
-    /* ----- SVGALIB functions ----- */
-    /* profiling */
-#   ifdef CS_PROFILE
-#       define Fgl_write(a,b,c) FPgl_write(a,b,c)
-#       define Fgl_getbox(a,b,c,d,e) FPgl_getbox(a,b,c,d,e)
-#       define Fgl_putbox(a,b,c,d,e) FPgl_putbox(a,b,c,d,e)
-#       define Fgl_fillbox(a,b,c,d,e) FPgl_fillbox(a,b,c,d,e)
-#       define Fgl_hline(a,b,c,d) FPgl_hline(a,b,c,d)
-#       define Fgl_line(a,b,c,d,e) FPgl_line(a,b,c,d,e)
-#       define Fgl_setpixel(a,b,c) FPgl_setpixel(a,b,c)
-#       define Fgl_setfontcolors(a,b) gl_setfontcolors(a,b)
-#       define Fgl_setfont(a,b,c) gl_setfont(a,b,c)
-#       define Fgl_enableclipping()   gl_enableclipping()
-#       define Fgl_setclippingwindow(a,b,c,d)   gl_setclippingwindow(a,b,c,d)
-#       define Fgl_disableclipping()   gl_disableclipping()
-#   else
-#       define Fgl_write(a,b,c) gl_write(a,b,c)
-#       define Fgl_getbox(a,b,c,d,e) gl_getbox(a,b,c,d,e)
-#       define Fgl_putbox(a,b,c,d,e) gl_putbox(a,b,c,d,e)
-#       define Fgl_fillbox(a,b,c,d,e) gl_fillbox(a,b,c,d,e)
-#       define Fgl_hline(a,b,c,d) gl_hline(a,b,c,d)
-#       define Fgl_line(a,b,c,d,e) gl_line(a,b,c,d,e)
-#       define Fgl_setpixel(a,b,c) gl_setpixel(a,b,c)
-#       define Fgl_setfontcolors(a,b) gl_setfontcolors(a,b)
-#       define Fgl_setfont(a,b,c) gl_setfont(a,b,c)
-#       define Fgl_enableclipping()   gl_enableclipping()
-#       define Fgl_setclippingwindow(a,b,c,d)   gl_setclippingwindow(a,b,c,d)
-#       define Fgl_disableclipping()   gl_disableclipping()
-#   endif
-
-#endif
 #endif /* __lintypes_h__ */

Modified: trunk/src/lincity/modules/rocket_pad.cpp
===================================================================
--- trunk/src/lincity/modules/rocket_pad.cpp	2007-12-01 16:02:45 UTC (rev 1294)
+++ trunk/src/lincity/modules/rocket_pad.cpp	2007-12-01 17:10:44 UTC (rev 1295)
@@ -14,6 +14,8 @@
 
 #include &lt;stdlib.h&gt;
 
+extern void ok_dial_box(const char *, int, const char *);
+
 void do_rocket_pad(int x, int y)
 {
     /*

Modified: trunk/src/lincity/power.cpp
===================================================================
--- trunk/src/lincity/power.cpp	2007-12-01 16:02:45 UTC (rev 1294)
+++ trunk/src/lincity/power.cpp	2007-12-01 17:10:44 UTC (rev 1295)
@@ -18,6 +18,9 @@
 #include &quot;tinygettext/gettext.hpp&quot;
 #include &quot;gui_interface/dialbox_interface.h&quot;
 
+extern void ok_dial_box(const char *, int, const char *);
+
+
 /* reset per map_power_grid run; how many different grids */
 int grid_num = 0;
 

Modified: trunk/src/lincity/simulate.cpp
===================================================================
--- trunk/src/lincity/simulate.cpp	2007-12-01 16:02:45 UTC (rev 1294)
+++ trunk/src/lincity/simulate.cpp	2007-12-01 17:10:44 UTC (rev 1295)
@@ -40,6 +40,9 @@
 #include &quot;gui_interface/pbar_interface.h&quot;
 //#include &quot;module_buttons.h&quot;
 
+/* extern resources */
+extern void print_total_money(void);
+
 /* AL1: they are all in engine.cpp */
 extern void connect_rivers(void);
 extern void do_daily_ecology(void);
@@ -69,7 +72,9 @@
 static void setup_river(void);
 static void setup_river2(int x, int y, int d);
 static void quick_start_add(int x, int y, short type, int size);
-static void debug_mappoints(void); /* AL1: NG 1.1.2 compiler warns that this is unused */
+#ifdef DEBUG
+        static void debug_mappoints(void); /* AL1: NG 1.1.2 compiler warns that this is unused */
+#endif
 
 #define IS_RIVER(x,y) (MP_INFO(x,y).flags &amp; FLAG_IS_RIVER)
 
@@ -958,6 +963,7 @@
     return (1);
 }
 
+#ifdef DEBUG
 static void debug_mappoints(void)
 {
     int x, y;
@@ -970,5 +976,4 @@
         }
     }
 }
-
-
+#endif

Modified: trunk/src/lincity-ng/ButtonPanel.cpp
===================================================================
--- trunk/src/lincity-ng/ButtonPanel.cpp	2007-12-01 16:02:45 UTC (rev 1294)
+++ trunk/src/lincity-ng/ButtonPanel.cpp	2007-12-01 17:10:44 UTC (rev 1295)
@@ -42,6 +42,8 @@
 #include &quot;Util.hpp&quot;
 #include &quot;HelpWindow.hpp&quot;
 
+extern void ok_dial_box(const char *, int, const char *);
+
 ButtonPanel *ButtonPanelInstance=0;
 
 int selected_module_type = CST_NONE;

Modified: trunk/src/lincity-ng/EconomyGraph.cpp
===================================================================
--- trunk/src/lincity-ng/EconomyGraph.cpp	2007-12-01 16:02:45 UTC (rev 1294)
+++ trunk/src/lincity-ng/EconomyGraph.cpp	2007-12-01 17:10:44 UTC (rev 1295)
@@ -42,6 +42,8 @@
 #include &quot;Dialog.hpp&quot;
 #include &quot;Util.hpp&quot;
 
+extern void ok_dial_box(const char *, int, const char *);
+
 EconomyGraph* economyGraphPtr = 0;
 
 EconomyGraph* getEconomyGraph()

Modified: trunk/src/lincity-ng/MainLincity.cpp
===================================================================
--- trunk/src/lincity-ng/MainLincity.cpp	2007-12-01 16:02:45 UTC (rev 1294)
+++ trunk/src/lincity-ng/MainLincity.cpp	2007-12-01 17:10:44 UTC (rev 1295)
@@ -42,6 +42,8 @@
 #include &quot;Dialog.hpp&quot;
 #include &quot;Config.hpp&quot;
 
+extern void print_total_money(void);
+
 int lincitySpeed = MED_TIME_FOR_YEAR;
 
 void setLincitySpeed( int speed )

Modified: trunk/src/lincity-ng/MapEdit.cpp
===================================================================
--- trunk/src/lincity-ng/MapEdit.cpp	2007-12-01 16:02:45 UTC (rev 1294)
+++ trunk/src/lincity-ng/MapEdit.cpp	2007-12-01 17:10:44 UTC (rev 1295)
@@ -33,6 +33,8 @@
 #include &quot;Debug.hpp&quot;
 #include &quot;GameView.hpp&quot;
 
+extern void ok_dial_box(const char *, int, const char *);
+
 int monument_bul_flag=0;
 int river_bul_flag=0;
 int shanty_bul_flag=0;

Modified: trunk/src/lincity-ng/ScreenInterface.cpp
===================================================================
--- trunk/src/lincity-ng/ScreenInterface.cpp	2007-12-01 16:02:45 UTC (rev 1294)
+++ trunk/src/lincity-ng/ScreenInterface.cpp	2007-12-01 17:10:44 UTC (rev 1295)
@@ -45,6 +45,9 @@
 #include &quot;Dialog.hpp&quot;
 #include &quot;EconomyGraph.hpp&quot;
 
+extern void ok_dial_box(const char *, int, const char *);
+
+
 short mappointoldtype[WORLD_SIDE_LEN][WORLD_SIDE_LEN];
 int selected_module_cost; // this must be changed, when module (or celltype-button) is changed
 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000220.html">[Lincity-ng-commit] r1294 - in trunk/src: lincity lincity/modules	lincity/unused lincity-ng oldgui
</A></li>
	<LI>Next message: <A HREF="000222.html">[Lincity-ng-commit] r1296 - in trunk/src: lincity lincity/modules	lincity-ng oldgui
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#221">[ date ]</a>
              <a href="thread.html#221">[ thread ]</a>
              <a href="subject.html#221">[ subject ]</a>
              <a href="author.html#221">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/lincity-ng-commit">More information about the Lincity-ng-commit
mailing list</a><br>
</body></html>
