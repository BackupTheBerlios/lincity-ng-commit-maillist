<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lincity-ng-commit] r1470 - trunk/src/lincity-ng
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/lincity-ng-commit/2008-December/index.html" >
   <LINK REL="made" HREF="mailto:lincity-ng-commit%40lists.berlios.de?Subject=Re%3A%20%5BLincity-ng-commit%5D%20r1470%20-%20trunk/src/lincity-ng&In-Reply-To=%3C200812232151.mBNLpvIM028139%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000399.html">
   <LINK REL="Next"  HREF="000401.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lincity-ng-commit] r1470 - trunk/src/lincity-ng</H1>
    <B>wolfgangb at BerliOS</B> 
    <A HREF="mailto:lincity-ng-commit%40lists.berlios.de?Subject=Re%3A%20%5BLincity-ng-commit%5D%20r1470%20-%20trunk/src/lincity-ng&In-Reply-To=%3C200812232151.mBNLpvIM028139%40sheep.berlios.de%3E"
       TITLE="[Lincity-ng-commit] r1470 - trunk/src/lincity-ng">wolfgangb at mail.berlios.de
       </A><BR>
    <I>Tue Dec 23 22:51:57 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000399.html">[Lincity-ng-commit] r1469 - in trunk: data/gui src/gui src/lincity	src/lincity-ng
</A></li>
        <LI>Next message: <A HREF="000401.html">[Lincity-ng-commit] r1471 - trunk/src/lincity
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#400">[ date ]</a>
              <a href="thread.html#400">[ thread ]</a>
              <a href="subject.html#400">[ subject ]</a>
              <a href="author.html#400">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: wolfgangb
Date: 2008-12-23 22:51:56 +0100 (Tue, 23 Dec 2008)
New Revision: 1470

Modified:
   trunk/src/lincity-ng/MapEdit.cpp
   trunk/src/lincity-ng/Mps.cpp
   trunk/src/lincity-ng/ReadPngInterface.cpp
Log:
Patch #2617 by Jaky: add desert variants to GROUP_DESERT to fix desert.


Modified: trunk/src/lincity-ng/MapEdit.cpp
===================================================================
--- trunk/src/lincity-ng/MapEdit.cpp	2008-12-13 21:32:33 UTC (rev 1469)
+++ trunk/src/lincity-ng/MapEdit.cpp	2008-12-23 21:51:56 UTC (rev 1470)
@@ -71,7 +71,7 @@
 check_bulldoze_area (int x, int y)
 {
     //no need to bulldoze desert
-    if( MP_TYPE( x, y ) == CST_DESERT ) 
+    if( MP_GROUP( x, y ) == GROUP_DESERT ) 
         return;
     
   int xx, yy, g;

Modified: trunk/src/lincity-ng/Mps.cpp
===================================================================
--- trunk/src/lincity-ng/Mps.cpp	2008-12-13 21:32:33 UTC (rev 1469)
+++ trunk/src/lincity-ng/Mps.cpp	2008-12-23 21:51:56 UTC (rev 1470)
@@ -269,7 +269,7 @@
             getSound()-&gt;playSound( &quot;Shanty&quot; );
             break;
         default: 
-            if( GROUP_IS_BARE(MP_GROUP( mps_x, mps_y )) &amp;&amp; (MP_GROUP( mps_x, mps_y) != CST_DESERT )){
+            if( GROUP_IS_BARE(MP_GROUP( mps_x, mps_y )) &amp;&amp; (MP_GROUP( mps_x, mps_y) != GROUP_DESERT )){
                 getSound()-&gt;playSound( &quot;Green&quot; );
             }  
             if( MP_TYPE( mps_x, mps_y ) == CST_PARKLAND_PLANE ){

Modified: trunk/src/lincity-ng/ReadPngInterface.cpp
===================================================================
--- trunk/src/lincity-ng/ReadPngInterface.cpp	2008-12-13 21:32:33 UTC (rev 1469)
+++ trunk/src/lincity-ng/ReadPngInterface.cpp	2008-12-23 21:51:56 UTC (rev 1470)
@@ -387,6 +387,22 @@
     LG(CST_TIP_8,GROUP_TIP,LCT_TIP_8_G);
 
     LG(CST_DESERT,GROUP_DESERT,LCT_DESERT_G);
+    LG(CST_DESERT_0,GROUP_DESERT,LCT_DESERT_0_G);
+    LG(CST_DESERT_1D,GROUP_DESERT,LCT_DESERT_1D_G);
+    LG(CST_DESERT_1L,GROUP_DESERT,LCT_DESERT_1L_G);
+    LG(CST_DESERT_1R,GROUP_DESERT,LCT_DESERT_1R_G);
+    LG(CST_DESERT_1U,GROUP_DESERT,LCT_DESERT_1U_G);
+    LG(CST_DESERT_2LD,GROUP_DESERT,LCT_DESERT_2LD_G);
+    LG(CST_DESERT_2LR,GROUP_DESERT,LCT_DESERT_2LR_G);
+    LG(CST_DESERT_2LU,GROUP_DESERT,LCT_DESERT_2LU_G);
+    LG(CST_DESERT_2RD,GROUP_DESERT,LCT_DESERT_2RD_G);
+    LG(CST_DESERT_2RU,GROUP_DESERT,LCT_DESERT_2RU_G);
+    LG(CST_DESERT_2UD,GROUP_DESERT,LCT_DESERT_2UD_G);
+    LG(CST_DESERT_3LRD,GROUP_DESERT,LCT_DESERT_3LRD_G);
+    LG(CST_DESERT_3LRU,GROUP_DESERT,LCT_DESERT_3LRU_G);
+    LG(CST_DESERT_3LUD,GROUP_DESERT,LCT_DESERT_3LUD_G);
+    LG(CST_DESERT_3RUD,GROUP_DESERT,LCT_DESERT_3RUD_G);
+
     LG(CST_TREE,GROUP_TREE,LCT_TREE_G);
     LG(CST_TREE2,GROUP_TREE2,LCT_TREE2_G);
     LG(CST_TREE3,GROUP_TREE3,LCT_TREE3_G);


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000399.html">[Lincity-ng-commit] r1469 - in trunk: data/gui src/gui src/lincity	src/lincity-ng
</A></li>
	<LI>Next message: <A HREF="000401.html">[Lincity-ng-commit] r1471 - trunk/src/lincity
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#400">[ date ]</a>
              <a href="thread.html#400">[ thread ]</a>
              <a href="subject.html#400">[ subject ]</a>
              <a href="author.html#400">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/lincity-ng-commit">More information about the Lincity-ng-commit
mailing list</a><br>
</body></html>
